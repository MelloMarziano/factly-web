"use strict";(self.webpackChunkfactly_web=self.webpackChunkfactly_web||[]).push([[792],{1076:(_n,dt,ne)=>{ne.d(dt,{Am:()=>Lt,FA:()=>Be,Fy:()=>xt,Im:()=>ri,Ku:()=>Ye,T9:()=>rt,Tj:()=>qn,Uj:()=>et,XA:()=>pt,ZQ:()=>Ut,bD:()=>$n,c1:()=>ni,cY:()=>it,eX:()=>le,g:()=>Ce,jZ:()=>bt,lT:()=>wt,lV:()=>be,nr:()=>Ot,sr:()=>mt,tD:()=>Ln,u:()=>he,yU:()=>mr,zW:()=>Me});const Ke=function(W){const V=[];let K=0;for(let fe=0;fe<W.length;fe++){let me=W.charCodeAt(fe);me<128?V[K++]=me:me<2048?(V[K++]=me>>6|192,V[K++]=63&me|128):55296==(64512&me)&&fe+1<W.length&&56320==(64512&W.charCodeAt(fe+1))?(me=65536+((1023&me)<<10)+(1023&W.charCodeAt(++fe)),V[K++]=me>>18|240,V[K++]=me>>12&63|128,V[K++]=me>>6&63|128,V[K++]=63&me|128):(V[K++]=me>>12|224,V[K++]=me>>6&63|128,V[K++]=63&me|128)}return V},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,V){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let me=0;me<W.length;me+=3){const tt=W[me],Pt=me+1<W.length,kt=Pt?W[me+1]:0,sn=me+2<W.length,gn=sn?W[me+2]:0;let Gr=(15&kt)<<2|gn>>6,kr=63&gn;sn||(kr=64,Pt||(Gr=64)),fe.push(K[tt>>2],K[(3&tt)<<4|kt>>4],K[Gr],K[kr])}return fe.join("")},encodeString(W,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(W):this.encodeByteArray(Ke(W),V)},decodeString(W,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(W):function(W){const V=[];let K=0,fe=0;for(;K<W.length;){const me=W[K++];if(me<128)V[fe++]=String.fromCharCode(me);else if(me>191&&me<224){const tt=W[K++];V[fe++]=String.fromCharCode((31&me)<<6|63&tt)}else if(me>239&&me<365){const sn=((7&me)<<18|(63&W[K++])<<12|(63&W[K++])<<6|63&W[K++])-65536;V[fe++]=String.fromCharCode(55296+(sn>>10)),V[fe++]=String.fromCharCode(56320+(1023&sn))}else{const tt=W[K++],Pt=W[K++];V[fe++]=String.fromCharCode((15&me)<<12|(63&tt)<<6|63&Pt)}}return V.join("")}(this.decodeStringToByteArray(W,V))},decodeStringToByteArray(W,V){this.init_();const K=V?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let me=0;me<W.length;){const tt=K[W.charAt(me++)],kt=me<W.length?K[W.charAt(me)]:0;++me;const gn=me<W.length?K[W.charAt(me)]:64;++me;const an=me<W.length?K[W.charAt(me)]:64;if(++me,null==tt||null==kt||null==gn||null==an)throw new Ve;fe.push(tt<<2|kt>>4),64!==gn&&(fe.push(kt<<4&240|gn>>2),64!==an&&fe.push(gn<<6&192|an))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const et=function(W){return function(W){const V=Ke(W);return de.encodeByteArray(V,!0)}(W).replace(/\./g,"")},he=function(W){try{return de.decodeString(W,!0)}catch(V){console.error("base64Decode failed: ",V)}return null},pn=()=>{try{return function gt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=W&&he(W[1]);return V&&JSON.parse(V)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},qn=W=>{var V,K;return null===(K=null===(V=pn())||void 0===V?void 0:V.emulatorHosts)||void 0===K?void 0:K[W]},mr=W=>{const V=qn(W);if(!V)return;const K=V.lastIndexOf(":");if(K<=0||K+1===V.length)throw new Error(`Invalid host ${V} with no separate hostname and port!`);const fe=parseInt(V.substring(K+1),10);return"["===V[0]?[V.substring(1,K-1),fe]:[V.substring(0,K),fe]},rt=()=>{var W;return null===(W=pn())||void 0===W?void 0:W.config},pt=W=>{var V;return null===(V=pn())||void 0===V?void 0:V[`_${W}`]};class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,K)=>{this.resolve=V,this.reject=K})}wrapCallback(V){return(K,fe)=>{K?this.reject(K):this.resolve(fe),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(K):V(K,fe))}}}function xt(W,V){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=V||"demo-project",me=W.iat||0,tt=W.sub||W.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pt=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:me,exp:me+3600,auth_time:me,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},W);return[et(JSON.stringify({alg:"none",type:"JWT"})),et(JSON.stringify(Pt)),""].join(".")}function Ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function ni(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function mt(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function wt(){const W=Ut();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Ot(){return!function ot(){var W;const V=null===(W=pn())||void 0===W?void 0:W.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((W,V)=>{try{let K=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(fe);me.onsuccess=()=>{me.result.close(),K||self.indexedDB.deleteDatabase(fe),W(!0)},me.onupgradeneeded=()=>{K=!1},me.onerror=()=>{var tt;V((null===(tt=me.error)||void 0===tt?void 0:tt.message)||"")}}catch(K){V(K)}})}class Ce extends Error{constructor(V,K,fe){super(K),this.code=V,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(V,K,fe){this.service=V,this.serviceName=K,this.errors=fe}create(V,...K){const fe=K[0]||{},me=`${this.service}/${V}`,tt=this.errors[V],Pt=tt?function ut(W,V){return W.replace(yt,(K,fe)=>{const me=V[fe];return null!=me?String(me):`<${fe}?>`})}(tt,fe):"Error";return new Ce(me,`${this.serviceName}: ${Pt} (${me}).`,fe)}}const yt=/\{\$([^}]+)}/g;function ri(W){for(const V in W)if(Object.prototype.hasOwnProperty.call(W,V))return!1;return!0}function $n(W,V){if(W===V)return!0;const K=Object.keys(W),fe=Object.keys(V);for(const me of K){if(!fe.includes(me))return!1;const tt=W[me],Pt=V[me];if(At(tt)&&At(Pt)){if(!$n(tt,Pt))return!1}else if(tt!==Pt)return!1}for(const me of fe)if(!K.includes(me))return!1;return!0}function At(W){return null!==W&&"object"==typeof W}function Lt(W){const V=[];for(const[K,fe]of Object.entries(W))Array.isArray(fe)?fe.forEach(me=>{V.push(encodeURIComponent(K)+"="+encodeURIComponent(me))}):V.push(encodeURIComponent(K)+"="+encodeURIComponent(fe));return V.length?"&"+V.join("&"):""}function Ln(W,V){const K=new yr(W,V);return K.subscribe.bind(K)}class yr{constructor(V,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{V(this)}).catch(fe=>{this.error(fe)})}next(V){this.forEachObserver(K=>{K.next(V)})}error(V){this.forEachObserver(K=>{K.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,K,fe){let me;if(void 0===V&&void 0===K&&void 0===fe)throw new Error("Missing Observer.");me=function Gi(W,V){if("object"!=typeof W||null===W)return!1;for(const K of V)if(K in W&&"function"==typeof W[K])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:K,complete:fe},void 0===me.next&&(me.next=Cn),void 0===me.error&&(me.error=Cn),void 0===me.complete&&(me.complete=Cn);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch{}}),this.observers.push(me),tt}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,V)}sendOne(V,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{K(this.observers[V])}catch(fe){typeof console<"u"&&console.error&&console.error(fe)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function Ye(W){return W&&W._delegate?W._delegate:W}},2661:(_n,dt,ne)=>{var N=ne(345),Ie=ne(6143),Pe=ne(540);const Ke=[{path:"public",loadChildren:()=>ne.e(499).then(ne.bind(ne,6499)).then(z=>z.PublicModule)},{path:"",redirectTo:"public",pathMatch:"full"},{path:"**",redirectTo:"public"}];let se=(()=>{class z{static{this.\u0275fac=function(O){return new(O||z)}}static{this.\u0275mod=Pe.$C({type:z})}static{this.\u0275inj=Pe.G2t({imports:[Ie.iI.forRoot(Ke,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled"}),Ie.iI]})}}return z})(),de=(()=>{class z{constructor(){this.title="factly-web"}static{this.\u0275fac=function(O){return new(O||z)}}static{this.\u0275cmp=Pe.VBU({type:z,selectors:[["app-root"]],decls:1,vars:0,template:function(O,G){1&O&&Pe.nrm(0,"router-outlet")},dependencies:[Ie.n3]})}}return z})();class Ve{}class Rt{}const et="*";function _t(z,_=null){return{type:2,steps:z,options:_}}function gt(z){return{type:6,styles:z,offset:null}}class it{constructor(_=0,T=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_+T}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_=>_()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_){this._position=this.totalTime?_*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_){const T="start"==_?this._onStartFns:this._onDoneFns;T.forEach(O=>O()),T.length=0}}class xt{constructor(_){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_;let T=0,O=0,G=0;const J=this.players.length;0==J?queueMicrotask(()=>this._onFinish()):this.players.forEach(ge=>{ge.onDone(()=>{++T==J&&this._onFinish()}),ge.onDestroy(()=>{++O==J&&this._onDestroy()}),ge.onStart(()=>{++G==J&&this._onStart()})}),this.totalTime=this.players.reduce((ge,ve)=>Math.max(ge,ve.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this.players.forEach(_=>_.init())}onStart(_){this._onStartFns.push(_)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_=>_()),this._onStartFns=[])}onDone(_){this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_=>_.play())}pause(){this.players.forEach(_=>_.pause())}restart(){this.players.forEach(_=>_.restart())}finish(){this._onFinish(),this.players.forEach(_=>_.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_=>_.destroy()),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}reset(){this.players.forEach(_=>_.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_){const T=_*this.totalTime;this.players.forEach(O=>{const G=O.totalTime?Math.min(1,T/O.totalTime):1;O.setPosition(G)})}getPosition(){const _=this.players.reduce((T,O)=>null===T||O.totalTime>T.totalTime?O:T,null);return null!=_?_.getPosition():0}beforeDestroy(){this.players.forEach(_=>{_.beforeDestroy&&_.beforeDestroy()})}triggerCallback(_){const T="start"==_?this._onStartFns:this._onDoneFns;T.forEach(O=>O()),T.length=0}}function ot(z){return new Pe.wOt(3e3,!1)}function Ln(z){switch(z.length){case 0:return new it;case 1:return z[0];default:return new xt(z)}}function yr(z,_,T=new Map,O=new Map){const G=[],J=[];let ge=-1,ve=null;if(_.forEach(je=>{const Ze=je.get("offset"),Nt=Ze==ge,Qt=Nt&&ve||new Map;je.forEach((w,H)=>{let P=H,F=w;if("offset"!==H)switch(P=z.normalizePropertyName(P,G),F){case"!":F=T.get(H);break;case et:F=O.get(H);break;default:F=z.normalizeStyleValue(H,P,F,G)}Qt.set(P,F)}),Nt||J.push(Qt),ve=Qt,ge=Ze}),G.length)throw function Tn(z){return new Pe.wOt(3502,!1)}();return J}function vr(z,_,T,O){switch(_){case"start":z.onStart(()=>O(T&&Gi(T,"start",z)));break;case"done":z.onDone(()=>O(T&&Gi(T,"done",z)));break;case"destroy":z.onDestroy(()=>O(T&&Gi(T,"destroy",z)))}}function Gi(z,_,T){const J=Cn(z.element,z.triggerName,z.fromState,z.toState,_||z.phaseName,T.totalTime??z.totalTime,!!T.disabled),ge=z._data;return null!=ge&&(J._data=ge),J}function Cn(z,_,T,O,G="",J=0,ge){return{element:z,triggerName:_,fromState:T,toState:O,phaseName:G,totalTime:J,disabled:!!ge}}function fi(z,_,T){let O=z.get(_);return O||z.set(_,O=T),O}function Vt(z){const _=z.indexOf(":");return[z.substring(1,_),z.slice(_+1)]}const _s=(()=>typeof document>"u"?null:document.documentElement)();function xi(z){const _=z.parentNode||z.host||null;return _===_s?null:_}let Tr=null,ar=!1;function _e(z,_){for(;_;){if(_===z)return!0;_=xi(_)}return!1}function wr(z,_,T){if(T)return Array.from(z.querySelectorAll(_));const O=z.querySelector(_);return O?[O]:[]}let ys=(()=>{class z{validateStyleProperty(T){return function tn(z){Tr||(Tr=function rs(){return typeof document<"u"?document.body:null}()||{},ar=!!Tr.style&&"WebkitAppearance"in Tr.style);let _=!0;return Tr.style&&!function or(z){return"ebkit"==z.substring(1,6)}(z)&&(_=z in Tr.style,!_&&ar&&(_="Webkit"+z.charAt(0).toUpperCase()+z.slice(1)in Tr.style)),_}(T)}matchesElement(T,O){return!1}containsElement(T,O){return _e(T,O)}getParentElement(T){return xi(T)}query(T,O,G){return wr(T,O,G)}computeStyle(T,O,G){return G||""}animate(T,O,G,J,ge,ve=[],je){return new it(G,J)}static{this.\u0275fac=function(O){return new(O||z)}}static{this.\u0275prov=Pe.jDH({token:z,factory:z.\u0275fac})}}return z})(),Si=(()=>{class z{static{this.NOOP=new ys}}return z})();const Ye=1e3,K="ng-enter",fe="ng-leave",me="ng-trigger",tt=".ng-trigger",Pt="ng-animating",kt=".ng-animating";function sn(z){if("number"==typeof z)return z;const _=z.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:gn(parseFloat(_[1]),_[2])}function gn(z,_){return"s"===_?z*Ye:z}function Rr(z,_,T){return z.hasOwnProperty("duration")?z:function an(z,_,T){let G,J=0,ge="";if("string"==typeof z){const ve=z.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ve)return _.push(ot()),{duration:0,delay:0,easing:""};G=gn(parseFloat(ve[1]),ve[2]);const je=ve[3];null!=je&&(J=gn(parseFloat(je),ve[4]));const Ze=ve[5];Ze&&(ge=Ze)}else G=z;if(!T){let ve=!1,je=_.length;G<0&&(_.push(function Zt(){return new Pe.wOt(3100,!1)}()),ve=!0),J<0&&(_.push(function Gn(){return new Pe.wOt(3101,!1)}()),ve=!0),ve&&_.splice(je,0,ot())}return{duration:G,delay:J,easing:ge}}(z,_,T)}function Gr(z,_={}){return Object.keys(z).forEach(T=>{_[T]=z[T]}),_}function kr(z){const _=new Map;return Object.keys(z).forEach(T=>{_.set(T,z[T])}),_}function ki(z,_=new Map,T){if(T)for(let[O,G]of T)_.set(O,G);for(let[O,G]of z)_.set(O,G);return _}function Er(z,_,T){_.forEach((O,G)=>{const J=nn(G);T&&!T.has(G)&&T.set(G,z.style[J]),z.style[J]=O})}function is(z,_){_.forEach((T,O)=>{const G=nn(O);z.style[G]=""})}function Wn(z){return Array.isArray(z)?1==z.length?z[0]:_t(z):z}const Ge=new RegExp("{{\\s*(.+?)\\s*}}","g");function Re(z){let _=[];if("string"==typeof z){let T;for(;T=Ge.exec(z);)_.push(T[1]);Ge.lastIndex=0}return _}function nt(z,_,T){const O=z.toString(),G=O.replace(Ge,(J,ge)=>{let ve=_[ge];return null==ve&&(T.push(function mt(z){return new Pe.wOt(3003,!1)}()),ve=""),ve.toString()});return G==O?z:G}function Mt(z){const _=[];let T=z.next();for(;!T.done;)_.push(T.value),T=z.next();return _}const dn=/-+([a-z0-9])/g;function nn(z){return z.replace(dn,(..._)=>_[1].toUpperCase())}function rn(z,_,T){switch(_.type){case 7:return z.visitTrigger(_,T);case 0:return z.visitState(_,T);case 1:return z.visitTransition(_,T);case 2:return z.visitSequence(_,T);case 3:return z.visitGroup(_,T);case 4:return z.visitAnimate(_,T);case 5:return z.visitKeyframes(_,T);case 6:return z.visitStyle(_,T);case 8:return z.visitReference(_,T);case 9:return z.visitAnimateChild(_,T);case 10:return z.visitAnimateRef(_,T);case 11:return z.visitQuery(_,T);case 12:return z.visitStagger(_,T);default:throw function be(z){return new Pe.wOt(3004,!1)}()}}function Fr(z,_){return window.getComputedStyle(z)[_]}const li="*";function yo(z,_){const T=[];return"string"==typeof z?z.split(/\s*,\s*/).forEach(O=>function Po(z,_,T){if(":"==z[0]){const je=function ii(z,_){switch(z){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(T,O)=>parseFloat(O)>parseFloat(T);case":decrement":return(T,O)=>parseFloat(O)<parseFloat(T);default:return _.push(function on(z){return new Pe.wOt(3016,!1)}()),"* => *"}}(z,T);if("function"==typeof je)return void _.push(je);z=je}const O=z.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==O||O.length<4)return T.push(function On(z){return new Pe.wOt(3015,!1)}()),_;const G=O[1],J=O[2],ge=O[3];_.push(pi(G,ge));"<"==J[0]&&!(G==li&&ge==li)&&_.push(pi(ge,G))}(O,T,_)):T.push(z),T}const Yi=new Set(["true","1"]),Fi=new Set(["false","0"]);function pi(z,_){const T=Yi.has(z)||Fi.has(z),O=Yi.has(_)||Fi.has(_);return(G,J)=>{let ge=z==li||z==G,ve=_==li||_==J;return!ge&&T&&"boolean"==typeof G&&(ge=G?Yi.has(z):Fi.has(z)),!ve&&O&&"boolean"==typeof J&&(ve=J?Yi.has(_):Fi.has(_)),ge&&ve}}const rr=new RegExp("s*:selfs*,?","g");function zr(z,_,T,O){return new Mn(z).build(_,T,O)}class Mn{constructor(_){this._driver=_}build(_,T,O){const G=new Ri(T);return this._resetContextStyleTimingState(G),rn(this,Wn(_),G)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,T){let O=T.queryCount=0,G=T.depCount=0;const J=[],ge=[];return"@"==_.name.charAt(0)&&T.errors.push(function wt(){return new Pe.wOt(3006,!1)}()),_.definitions.forEach(ve=>{if(this._resetContextStyleTimingState(T),0==ve.type){const je=ve,Ze=je.name;Ze.toString().split(/\s*,\s*/).forEach(Nt=>{je.name=Nt,J.push(this.visitState(je,T))}),je.name=Ze}else if(1==ve.type){const je=this.visitTransition(ve,T);O+=je.queryCount,G+=je.depCount,ge.push(je)}else T.errors.push(function mn(){return new Pe.wOt(3007,!1)}())}),{type:7,name:_.name,states:J,transitions:ge,queryCount:O,depCount:G,options:null}}visitState(_,T){const O=this.visitStyle(_.styles,T),G=_.options&&_.options.params||null;if(O.containsDynamicStyles){const J=new Set,ge=G||{};O.styles.forEach(ve=>{ve instanceof Map&&ve.forEach(je=>{Re(je).forEach(Ze=>{ge.hasOwnProperty(Ze)||J.add(Ze)})})}),J.size&&(Mt(J.values()),T.errors.push(function St(z,_){return new Pe.wOt(3008,!1)}()))}return{type:0,name:_.name,style:O,options:G?{params:G}:null}}visitTransition(_,T){T.queryCount=0,T.depCount=0;const O=rn(this,Wn(_.animation),T);return{type:1,matchers:yo(_.expr,T.errors),animation:O,queryCount:T.queryCount,depCount:T.depCount,options:Ar(_.options)}}visitSequence(_,T){return{type:2,steps:_.steps.map(O=>rn(this,O,T)),options:Ar(_.options)}}visitGroup(_,T){const O=T.currentTime;let G=0;const J=_.steps.map(ge=>{T.currentTime=O;const ve=rn(this,ge,T);return G=Math.max(G,T.currentTime),ve});return T.currentTime=G,{type:3,steps:J,options:Ar(_.options)}}visitAnimate(_,T){const O=function Va(z,_){if(z.hasOwnProperty("duration"))return z;if("number"==typeof z)return Mo(Rr(z,_).duration,0,"");const T=z;if(T.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=Mo(0,0,"");return J.dynamic=!0,J.strValue=T,J}const G=Rr(T,_);return Mo(G.duration,G.delay,G.easing)}(_.timings,T.errors);T.currentAnimateTimings=O;let G,J=_.styles?_.styles:gt({});if(5==J.type)G=this.visitKeyframes(J,T);else{let ge=_.styles,ve=!1;if(!ge){ve=!0;const Ze={};O.easing&&(Ze.easing=O.easing),ge=gt(Ze)}T.currentTime+=O.duration+O.delay;const je=this.visitStyle(ge,T);je.isEmptyStep=ve,G=je}return T.currentAnimateTimings=null,{type:4,timings:O,style:G,options:null}}visitStyle(_,T){const O=this._makeStyleAst(_,T);return this._validateStyleAst(O,T),O}_makeStyleAst(_,T){const O=[],G=Array.isArray(_.styles)?_.styles:[_.styles];for(let ve of G)"string"==typeof ve?ve===et?O.push(ve):T.errors.push(new Pe.wOt(3002,!1)):O.push(kr(ve));let J=!1,ge=null;return O.forEach(ve=>{if(ve instanceof Map&&(ve.has("easing")&&(ge=ve.get("easing"),ve.delete("easing")),!J))for(let je of ve.values())if(je.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:O,easing:ge,offset:_.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(_,T){const O=T.currentAnimateTimings;let G=T.currentTime,J=T.currentTime;O&&J>0&&(J-=O.duration+O.delay),_.styles.forEach(ge=>{"string"!=typeof ge&&ge.forEach((ve,je)=>{const Ze=T.collectedStyles.get(T.currentQuerySelector),Nt=Ze.get(je);let Qt=!0;Nt&&(J!=G&&J>=Nt.startTime&&G<=Nt.endTime&&(T.errors.push(function le(z,_,T,O,G){return new Pe.wOt(3010,!1)}()),Qt=!1),J=Nt.startTime),Qt&&Ze.set(je,{startTime:J,endTime:G}),T.options&&function vs(z,_,T){const O=_.params||{},G=Re(z);G.length&&G.forEach(J=>{O.hasOwnProperty(J)||T.push(function ni(z){return new Pe.wOt(3001,!1)}())})}(ve,T.options,T.errors)})})}visitKeyframes(_,T){const O={type:5,styles:[],options:null};if(!T.currentAnimateTimings)return T.errors.push(function Y(){return new Pe.wOt(3011,!1)}()),O;let J=0;const ge=[];let ve=!1,je=!1,Ze=0;const Nt=_.steps.map(ke=>{const Xe=this._makeStyleAst(ke,T);let Bt=null!=Xe.offset?Xe.offset:function Uo(z){if("string"==typeof z)return null;let _=null;if(Array.isArray(z))z.forEach(T=>{if(T instanceof Map&&T.has("offset")){const O=T;_=parseFloat(O.get("offset")),O.delete("offset")}});else if(z instanceof Map&&z.has("offset")){const T=z;_=parseFloat(T.get("offset")),T.delete("offset")}return _}(Xe.styles),Xt=0;return null!=Bt&&(J++,Xt=Xe.offset=Bt),je=je||Xt<0||Xt>1,ve=ve||Xt<Ze,Ze=Xt,ge.push(Xt),Xe});je&&T.errors.push(function ee(){return new Pe.wOt(3012,!1)}()),ve&&T.errors.push(function Ce(){return new Pe.wOt(3200,!1)}());const Qt=_.steps.length;let w=0;J>0&&J<Qt?T.errors.push(function Be(){return new Pe.wOt(3202,!1)}()):0==J&&(w=1/(Qt-1));const H=Qt-1,P=T.currentTime,F=T.currentAnimateTimings,ie=F.duration;return Nt.forEach((ke,Xe)=>{const Bt=w>0?Xe==H?1:w*Xe:ge[Xe],Xt=Bt*ie;T.currentTime=P+F.delay+Xt,F.duration=Xt,this._validateStyleAst(ke,T),ke.offset=Bt,O.styles.push(ke)}),O}visitReference(_,T){return{type:8,animation:rn(this,Wn(_.animation),T),options:Ar(_.options)}}visitAnimateChild(_,T){return T.depCount++,{type:9,options:Ar(_.options)}}visitAnimateRef(_,T){return{type:10,animation:this.visitReference(_.animation,T),options:Ar(_.options)}}visitQuery(_,T){const O=T.currentQuerySelector,G=_.options||{};T.queryCount++,T.currentQuery=_;const[J,ge]=function Vo(z){const _=!!z.split(/\s*,\s*/).find(T=>":self"==T);return _&&(z=z.replace(rr,"")),z=z.replace(/@\*/g,tt).replace(/@\w+/g,T=>tt+"-"+T.slice(1)).replace(/:animating/g,kt),[z,_]}(_.selector);T.currentQuerySelector=O.length?O+" "+J:J,fi(T.collectedStyles,T.currentQuerySelector,new Map);const ve=rn(this,Wn(_.animation),T);return T.currentQuery=null,T.currentQuerySelector=O,{type:11,selector:J,limit:G.limit||0,optional:!!G.optional,includeSelf:ge,animation:ve,originalSelector:_.selector,options:Ar(_.options)}}visitStagger(_,T){T.currentQuery||T.errors.push(function ut(){return new Pe.wOt(3013,!1)}());const O="full"===_.timings?{duration:0,delay:0,easing:"full"}:Rr(_.timings,T.errors,!0);return{type:12,animation:rn(this,Wn(_.animation),T),timings:O,options:null}}}class Ri{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ar(z){return z?(z=Gr(z)).params&&(z.params=function Is(z){return z?Gr(z):null}(z.params)):z={},z}function Mo(z,_,T){return{duration:z,delay:_,easing:T}}function Zi(z,_,T,O,G,J,ge=null,ve=!1){return{type:1,element:z,keyframes:_,preStyleProps:T,postStyleProps:O,duration:G,delay:J,totalTime:G+J,easing:ge,subTimeline:ve}}class Dr{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,T){let O=this._map.get(_);O||this._map.set(_,O=[]),O.push(...T)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Vs=new RegExp(":enter","g"),oo=new RegExp(":leave","g");function Ts(z,_,T,O,G,J=new Map,ge=new Map,ve,je,Ze=[]){return(new Ji).buildKeyframes(z,_,T,O,G,J,ge,ve,je,Ze)}class Ji{buildKeyframes(_,T,O,G,J,ge,ve,je,Ze,Nt=[]){Ze=Ze||new Dr;const Qt=new Pi(_,T,Ze,G,J,Nt,[]);Qt.options=je;const w=je.delay?sn(je.delay):0;Qt.currentTimeline.delayNextStep(w),Qt.currentTimeline.setStyles([ge],null,Qt.errors,je),rn(this,O,Qt);const H=Qt.timelines.filter(P=>P.containsAnimation());if(H.length&&ve.size){let P;for(let F=H.length-1;F>=0;F--){const ie=H[F];if(ie.element===T){P=ie;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([ve],null,Qt.errors,je)}return H.length?H.map(P=>P.buildKeyframes()):[Zi(T,[],[],[],0,w,"",!1)]}visitTrigger(_,T){}visitState(_,T){}visitTransition(_,T){}visitAnimateChild(_,T){const O=T.subInstructions.get(T.element);if(O){const G=T.createSubContext(_.options),J=T.currentTimeline.currentTime,ge=this._visitSubInstructions(O,G,G.options);J!=ge&&T.transformIntoNewTimeline(ge)}T.previousNode=_}visitAnimateRef(_,T){const O=T.createSubContext(_.options);O.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],T,O),this.visitReference(_.animation,O),T.transformIntoNewTimeline(O.currentTimeline.currentTime),T.previousNode=_}_applyAnimationRefDelays(_,T,O){for(const G of _){const J=G?.delay;if(J){const ge="number"==typeof J?J:sn(nt(J,G?.params??{},T.errors));O.delayNextStep(ge)}}}_visitSubInstructions(_,T,O){let J=T.currentTimeline.currentTime;const ge=null!=O.duration?sn(O.duration):null,ve=null!=O.delay?sn(O.delay):null;return 0!==ge&&_.forEach(je=>{const Ze=T.appendInstructionToTimeline(je,ge,ve);J=Math.max(J,Ze.duration+Ze.delay)}),J}visitReference(_,T){T.updateOptions(_.options,!0),rn(this,_.animation,T),T.previousNode=_}visitSequence(_,T){const O=T.subContextCount;let G=T;const J=_.options;if(J&&(J.params||J.delay)&&(G=T.createSubContext(J),G.transformIntoNewTimeline(),null!=J.delay)){6==G.previousNode.type&&(G.currentTimeline.snapshotCurrentStyles(),G.previousNode=qi);const ge=sn(J.delay);G.delayNextStep(ge)}_.steps.length&&(_.steps.forEach(ge=>rn(this,ge,G)),G.currentTimeline.applyStylesToKeyframe(),G.subContextCount>O&&G.transformIntoNewTimeline()),T.previousNode=_}visitGroup(_,T){const O=[];let G=T.currentTimeline.currentTime;const J=_.options&&_.options.delay?sn(_.options.delay):0;_.steps.forEach(ge=>{const ve=T.createSubContext(_.options);J&&ve.delayNextStep(J),rn(this,ge,ve),G=Math.max(G,ve.currentTimeline.currentTime),O.push(ve.currentTimeline)}),O.forEach(ge=>T.currentTimeline.mergeTimelineCollectedStyles(ge)),T.transformIntoNewTimeline(G),T.previousNode=_}_visitTiming(_,T){if(_.dynamic){const O=_.strValue;return Rr(T.params?nt(O,T.params,T.errors):O,T.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,T){const O=T.currentAnimateTimings=this._visitTiming(_.timings,T),G=T.currentTimeline;O.delay&&(T.incrementTime(O.delay),G.snapshotCurrentStyles());const J=_.style;5==J.type?this.visitKeyframes(J,T):(T.incrementTime(O.duration),this.visitStyle(J,T),G.applyStylesToKeyframe()),T.currentAnimateTimings=null,T.previousNode=_}visitStyle(_,T){const O=T.currentTimeline,G=T.currentAnimateTimings;!G&&O.hasCurrentStyleProperties()&&O.forwardFrame();const J=G&&G.easing||_.easing;_.isEmptyStep?O.applyEmptyStep(J):O.setStyles(_.styles,J,T.errors,T.options),T.previousNode=_}visitKeyframes(_,T){const O=T.currentAnimateTimings,G=T.currentTimeline.duration,J=O.duration,ve=T.createSubContext().currentTimeline;ve.easing=O.easing,_.styles.forEach(je=>{ve.forwardTime((je.offset||0)*J),ve.setStyles(je.styles,je.easing,T.errors,T.options),ve.applyStylesToKeyframe()}),T.currentTimeline.mergeTimelineCollectedStyles(ve),T.transformIntoNewTimeline(G+J),T.previousNode=_}visitQuery(_,T){const O=T.currentTimeline.currentTime,G=_.options||{},J=G.delay?sn(G.delay):0;J&&(6===T.previousNode.type||0==O&&T.currentTimeline.hasCurrentStyleProperties())&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=qi);let ge=O;const ve=T.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!G.optional,T.errors);T.currentQueryTotal=ve.length;let je=null;ve.forEach((Ze,Nt)=>{T.currentQueryIndex=Nt;const Qt=T.createSubContext(_.options,Ze);J&&Qt.delayNextStep(J),Ze===T.element&&(je=Qt.currentTimeline),rn(this,_.animation,Qt),Qt.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,Qt.currentTimeline.currentTime)}),T.currentQueryIndex=0,T.currentQueryTotal=0,T.transformIntoNewTimeline(ge),je&&(T.currentTimeline.mergeTimelineCollectedStyles(je),T.currentTimeline.snapshotCurrentStyles()),T.previousNode=_}visitStagger(_,T){const O=T.parentContext,G=T.currentTimeline,J=_.timings,ge=Math.abs(J.duration),ve=ge*(T.currentQueryTotal-1);let je=ge*T.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":je=ve-je;break;case"full":je=O.currentStaggerTime}const Nt=T.currentTimeline;je&&Nt.delayNextStep(je);const Qt=Nt.currentTime;rn(this,_.animation,T),T.previousNode=_,O.currentStaggerTime=G.currentTime-Qt+(G.startTime-O.currentTimeline.startTime)}}const qi={};class Pi{constructor(_,T,O,G,J,ge,ve,je){this._driver=_,this.element=T,this.subInstructions=O,this._enterClassName=G,this._leaveClassName=J,this.errors=ge,this.timelines=ve,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=je||new Ei(this._driver,T,0),ve.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,T){if(!_)return;const O=_;let G=this.options;null!=O.duration&&(G.duration=sn(O.duration)),null!=O.delay&&(G.delay=sn(O.delay));const J=O.params;if(J){let ge=G.params;ge||(ge=this.options.params={}),Object.keys(J).forEach(ve=>{(!T||!ge.hasOwnProperty(ve))&&(ge[ve]=nt(J[ve],ge,this.errors))})}}_copyOptions(){const _={};if(this.options){const T=this.options.params;if(T){const O=_.params={};Object.keys(T).forEach(G=>{O[G]=T[G]})}}return _}createSubContext(_=null,T,O){const G=T||this.element,J=new Pi(this._driver,G,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(G,O||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(_),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(_){return this.previousNode=qi,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,T,O){const G={duration:T??_.duration,delay:this.currentTimeline.currentTime+(O??0)+_.delay,easing:""},J=new Vn(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,G,_.stretchStartingKeyframe);return this.timelines.push(J),G}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,T,O,G,J,ge){let ve=[];if(G&&ve.push(this.element),_.length>0){_=(_=_.replace(Vs,"."+this._enterClassName)).replace(oo,"."+this._leaveClassName);let Ze=this._driver.query(this.element,_,1!=O);0!==O&&(Ze=O<0?Ze.slice(Ze.length+O,Ze.length):Ze.slice(0,O)),ve.push(...Ze)}return!J&&0==ve.length&&ge.push(function yt(z){return new Pe.wOt(3014,!1)}()),ve}}class Ei{constructor(_,T,O,G){this._driver=_,this.element=T,this.startTime=O,this._elementTimelineStylesLookup=G,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(T),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(T,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const T=1===this._keyframes.size&&this._pendingStyles.size;this.duration||T?(this.forwardTime(this.currentTime+_),T&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,T){return this.applyStylesToKeyframe(),new Ei(this._driver,_,T||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,T){this._localTimelineStyles.set(_,T),this._globalTimelineStyles.set(_,T),this._styleSummary.set(_,{time:this.currentTime,value:T})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[T,O]of this._globalTimelineStyles)this._backFill.set(T,O||et),this._currentKeyframe.set(T,et);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,T,O,G){T&&this._previousKeyframe.set("easing",T);const J=G&&G.params||{},ge=function $r(z,_){const T=new Map;let O;return z.forEach(G=>{if("*"===G){O=O||_.keys();for(let J of O)T.set(J,et)}else ki(G,T)}),T}(_,this._globalTimelineStyles);for(let[ve,je]of ge){const Ze=nt(je,J,O);this._pendingStyles.set(ve,Ze),this._localTimelineStyles.has(ve)||this._backFill.set(ve,this._globalTimelineStyles.get(ve)??et),this._updateStyle(ve,Ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,T)=>{this._currentKeyframe.set(T,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,T)=>{this._currentKeyframe.has(T)||this._currentKeyframe.set(T,_)}))}snapshotCurrentStyles(){for(let[_,T]of this._localTimelineStyles)this._pendingStyles.set(_,T),this._updateStyle(_,T)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let T in this._currentKeyframe)_.push(T);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((T,O)=>{const G=this._styleSummary.get(O);(!G||T.time>G.time)&&this._updateStyle(O,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,T=new Set,O=1===this._keyframes.size&&0===this.duration;let G=[];this._keyframes.forEach((ve,je)=>{const Ze=ki(ve,new Map,this._backFill);Ze.forEach((Nt,Qt)=>{"!"===Nt?_.add(Qt):Nt===et&&T.add(Qt)}),O||Ze.set("offset",je/this.duration),G.push(Ze)});const J=_.size?Mt(_.values()):[],ge=T.size?Mt(T.values()):[];if(O){const ve=G[0],je=new Map(ve);ve.set("offset",0),je.set("offset",1),G=[ve,je]}return Zi(this.element,G,J,ge,this.duration,this.startTime,this.easing,!1)}}class Vn extends Ei{constructor(_,T,O,G,J,ge,ve=!1){super(_,T,ge.delay),this.keyframes=O,this.preStyleProps=G,this.postStyleProps=J,this._stretchStartingKeyframe=ve,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:T,duration:O,easing:G}=this.timings;if(this._stretchStartingKeyframe&&T){const J=[],ge=O+T,ve=T/ge,je=ki(_[0]);je.set("offset",0),J.push(je);const Ze=ki(_[0]);Ze.set("offset",Qn(ve)),J.push(Ze);const Nt=_.length-1;for(let Qt=1;Qt<=Nt;Qt++){let w=ki(_[Qt]);const H=w.get("offset");w.set("offset",Qn((T+H*O)/ge)),J.push(w)}O=ge,T=0,G="",_=J}return Zi(this.element,_,this.preStyleProps,this.postStyleProps,O,T,G,!0)}}function Qn(z,_=3){const T=Math.pow(10,_-1);return Math.round(z*T)/T}class Xr{}const as=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class us extends Xr{normalizePropertyName(_,T){return nn(_)}normalizeStyleValue(_,T,O,G){let J="";const ge=O.toString().trim();if(as.has(T)&&0!==O&&"0"!==O)if("number"==typeof O)J="px";else{const ve=O.match(/^[+-]?[\d\.]+([a-z]*)$/);ve&&0==ve[1].length&&G.push(function qt(z,_){return new Pe.wOt(3005,!1)}())}return ge+J}}function ao(z,_,T,O,G,J,ge,ve,je,Ze,Nt,Qt,w){return{type:0,element:z,triggerName:_,isRemovalTransition:G,fromState:T,fromStyles:J,toState:O,toStyles:ge,timelines:ve,queriedElements:je,preStyleProps:Ze,postStyleProps:Nt,totalTime:Qt,errors:w}}const Cs={};class Nr{constructor(_,T,O){this._triggerName=_,this.ast=T,this._stateStyles=O}match(_,T,O,G){return function vn(z,_,T,O,G){return z.some(J=>J(_,T,O,G))}(this.ast.matchers,_,T,O,G)}buildStyles(_,T,O){let G=this._stateStyles.get("*");return void 0!==_&&(G=this._stateStyles.get(_?.toString())||G),G?G.buildStyles(T,O):new Map}build(_,T,O,G,J,ge,ve,je,Ze,Nt){const Qt=[],w=this.ast.options&&this.ast.options.params||Cs,P=this.buildStyles(O,ve&&ve.params||Cs,Qt),F=je&&je.params||Cs,ie=this.buildStyles(G,F,Qt),ke=new Set,Xe=new Map,Bt=new Map,Xt="void"===G,ur={params:br(F,w),delay:this.ast.options?.delay},kn=Nt?[]:Ts(_,T,this.ast.animation,J,ge,P,ie,ur,Ze,Qt);let cn=0;if(kn.forEach(Bn=>{cn=Math.max(Bn.duration+Bn.delay,cn)}),Qt.length)return ao(T,this._triggerName,O,G,Xt,P,ie,[],[],Xe,Bt,cn,Qt);kn.forEach(Bn=>{const Br=Bn.element,Ps=fi(Xe,Br,new Set);Bn.preStyleProps.forEach(hi=>Ps.add(hi));const _i=fi(Bt,Br,new Set);Bn.postStyleProps.forEach(hi=>_i.add(hi)),Br!==T&&ke.add(Br)});const cr=Mt(ke.values());return ao(T,this._triggerName,O,G,Xt,P,ie,kn,cr,Xe,Bt,cn)}}function br(z,_){const T=Gr(_);for(const O in z)z.hasOwnProperty(O)&&null!=z[O]&&(T[O]=z[O]);return T}class Ii{constructor(_,T,O){this.styles=_,this.defaultParams=T,this.normalizer=O}buildStyles(_,T){const O=new Map,G=Gr(this.defaultParams);return Object.keys(_).forEach(J=>{const ge=_[J];null!==ge&&(G[J]=ge)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((ge,ve)=>{ge&&(ge=nt(ge,G,T));const je=this.normalizer.normalizePropertyName(ve,T);ge=this.normalizer.normalizeStyleValue(ve,je,ge,T),O.set(ve,ge)})}),O}}class Lr{constructor(_,T,O){this.name=_,this.ast=T,this._normalizer=O,this.transitionFactories=[],this.states=new Map,T.states.forEach(G=>{this.states.set(G.name,new Ii(G.style,G.options&&G.options.params||{},O))}),Or(this.states,"true","1"),Or(this.states,"false","0"),T.transitions.forEach(G=>{this.transitionFactories.push(new Nr(_,G,this.states))}),this.fallbackTransition=function cs(z,_,T){return new Nr(z,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ge,ve)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,T,O,G){return this.transitionFactories.find(ge=>ge.match(_,T,O,G))||null}matchStyles(_,T,O){return this.fallbackTransition.buildStyles(_,T,O)}}function Or(z,_,T){z.has(_)?z.has(T)||z.set(T,z.get(_)):z.has(T)&&z.set(_,z.get(T))}const Ki=new Dr;class ls{constructor(_,T,O){this.bodyNode=_,this._driver=T,this._normalizer=O,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,T){const O=[],J=zr(this._driver,T,O,[]);if(O.length)throw function Hr(z){return new Pe.wOt(3503,!1)}();this._animations.set(_,J)}_buildPlayer(_,T,O){const G=_.element,J=yr(this._normalizer,_.keyframes,T,O);return this._driver.animate(G,J,_.duration,_.delay,_.easing,[],!0)}create(_,T,O={}){const G=[],J=this._animations.get(_);let ge;const ve=new Map;if(J?(ge=Ts(this._driver,T,J,K,fe,new Map,new Map,O,Ki,G),ge.forEach(Nt=>{const Qt=fi(ve,Nt.element,new Map);Nt.postStyleProps.forEach(w=>Qt.set(w,null))})):(G.push(function _r(){return new Pe.wOt(3300,!1)}()),ge=[]),G.length)throw function at(z){return new Pe.wOt(3504,!1)}();ve.forEach((Nt,Qt)=>{Nt.forEach((w,H)=>{Nt.set(H,this._driver.computeStyle(Qt,H,et))})});const Ze=Ln(ge.map(Nt=>{const Qt=ve.get(Nt.element);return this._buildPlayer(Nt,new Map,Qt)}));return this._playersById.set(_,Ze),Ze.onDestroy(()=>this.destroy(_)),this.players.push(Ze),Ze}destroy(_){const T=this._getPlayer(_);T.destroy(),this._playersById.delete(_);const O=this.players.indexOf(T);O>=0&&this.players.splice(O,1)}_getPlayer(_){const T=this._playersById.get(_);if(!T)throw function ri(z){return new Pe.wOt(3301,!1)}();return T}listen(_,T,O,G){const J=Cn(T,"","","");return vr(this._getPlayer(_),O,J,G),()=>{}}command(_,T,O,G){if("register"==O)return void this.register(_,G[0]);if("create"==O)return void this.create(_,T,G[0]||{});const J=this._getPlayer(_);switch(O){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat(G[0]));break;case"destroy":this.destroy(_)}}}const Yt="ng-animate-queued",hr="ng-animate-disabled",$i=[],Hi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},js={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bn="__ng_removed";class Xn{get params(){return this.options.params}constructor(_,T=""){this.namespaceId=T;const O=_&&_.hasOwnProperty("value");if(this.value=function Zo(z){return z??null}(O?_.value:_),O){const J=Gr(_);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const T=_.params;if(T){const O=this.options.params;Object.keys(T).forEach(G=>{null==O[G]&&(O[G]=T[G])})}}}const gi="void",vo=new Xn(gi);class Zs{constructor(_,T,O){this.id=_,this.hostElement=T,this._engine=O,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,es(T,this._hostClassName)}listen(_,T,O,G){if(!this._triggers.has(T))throw function yn(z,_){return new Pe.wOt(3302,!1)}();if(null==O||0==O.length)throw function $n(z){return new Pe.wOt(3303,!1)}();if(!function Jo(z){return"start"==z||"done"==z}(O))throw function At(z,_){return new Pe.wOt(3400,!1)}();const J=fi(this._elementListeners,_,[]),ge={name:T,phase:O,callback:G};J.push(ge);const ve=fi(this._engine.statesByElement,_,new Map);return ve.has(T)||(es(_,me),es(_,me+"-"+T),ve.set(T,vo)),()=>{this._engine.afterFlush(()=>{const je=J.indexOf(ge);je>=0&&J.splice(je,1),this._triggers.has(T)||ve.delete(T)})}}register(_,T){return!this._triggers.has(_)&&(this._triggers.set(_,T),!0)}_getTrigger(_){const T=this._triggers.get(_);if(!T)throw function jr(z){return new Pe.wOt(3401,!1)}();return T}trigger(_,T,O,G=!0){const J=this._getTrigger(T),ge=new Bo(this.id,T,_);let ve=this._engine.statesByElement.get(_);ve||(es(_,me),es(_,me+"-"+T),this._engine.statesByElement.set(_,ve=new Map));let je=ve.get(T);const Ze=new Xn(O,this.id);if(!(O&&O.hasOwnProperty("value"))&&je&&Ze.absorbOptions(je.options),ve.set(T,Ze),je||(je=vo),Ze.value!==gi&&je.value===Ze.value){if(!function ce(z,_){const T=Object.keys(z),O=Object.keys(_);if(T.length!=O.length)return!1;for(let G=0;G<T.length;G++){const J=T[G];if(!_.hasOwnProperty(J)||z[J]!==_[J])return!1}return!0}(je.params,Ze.params)){const F=[],ie=J.matchStyles(je.value,je.params,F),ke=J.matchStyles(Ze.value,Ze.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{is(_,ie),Er(_,ke)})}return}const w=fi(this._engine.playersByElement,_,[]);w.forEach(F=>{F.namespaceId==this.id&&F.triggerName==T&&F.queued&&F.destroy()});let H=J.matchTransition(je.value,Ze.value,_,Ze.params),P=!1;if(!H){if(!G)return;H=J.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:T,transition:H,fromState:je,toState:Ze,player:ge,isFallbackTransition:P}),P||(es(_,Yt),ge.onStart(()=>{di(_,Yt)})),ge.onDone(()=>{let F=this.players.indexOf(ge);F>=0&&this.players.splice(F,1);const ie=this._engine.playersByElement.get(_);if(ie){let ke=ie.indexOf(ge);ke>=0&&ie.splice(ke,1)}}),this.players.push(ge),w.push(ge),ge}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(T=>T.delete(_)),this._elementListeners.forEach((T,O)=>{this._elementListeners.set(O,T.filter(G=>G.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const T=this._engine.playersByElement.get(_);T&&(T.forEach(O=>O.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,T){const O=this._engine.driver.query(_,tt,!0);O.forEach(G=>{if(G[bn])return;const J=this._engine.fetchNamespacesByElement(G);J.size?J.forEach(ge=>ge.triggerLeaveAnimation(G,T,!1,!0)):this.clearElementCache(G)}),this._engine.afterFlushAnimationsDone(()=>O.forEach(G=>this.clearElementCache(G)))}triggerLeaveAnimation(_,T,O,G){const J=this._engine.statesByElement.get(_),ge=new Map;if(J){const ve=[];if(J.forEach((je,Ze)=>{if(ge.set(Ze,je.value),this._triggers.has(Ze)){const Nt=this.trigger(_,Ze,gi,G);Nt&&ve.push(Nt)}}),ve.length)return this._engine.markElementAsRemoved(this.id,_,!0,T,ge),O&&Ln(ve).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const T=this._elementListeners.get(_),O=this._engine.statesByElement.get(_);if(T&&O){const G=new Set;T.forEach(J=>{const ge=J.name;if(G.has(ge))return;G.add(ge);const je=this._triggers.get(ge).fallbackTransition,Ze=O.get(ge)||vo,Nt=new Xn(gi),Qt=new Bo(this.id,ge,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:ge,transition:je,fromState:Ze,toState:Nt,player:Qt,isFallbackTransition:!0})})}}removeNode(_,T){const O=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,T),this.triggerLeaveAnimation(_,T,!0))return;let G=!1;if(O.totalAnimations){const J=O.players.length?O.playersByQueriedElement.get(_):[];if(J&&J.length)G=!0;else{let ge=_;for(;ge=ge.parentNode;)if(O.statesByElement.get(ge)){G=!0;break}}}if(this.prepareLeaveAnimationListeners(_),G)O.markElementAsRemoved(this.id,_,!1,T);else{const J=_[bn];(!J||J===Hi)&&(O.afterFlush(()=>this.clearElementCache(_)),O.destroyInnerAnimations(_),O._onRemovalComplete(_,T))}}insertNode(_,T){es(_,this._hostClassName)}drainQueuedTransitions(_){const T=[];return this._queue.forEach(O=>{const G=O.player;if(G.destroyed)return;const J=O.element,ge=this._elementListeners.get(J);ge&&ge.forEach(ve=>{if(ve.name==O.triggerName){const je=Cn(J,O.triggerName,O.fromState.value,O.toState.value);je._data=_,vr(O.player,ve.phase,je,ve.callback)}}),G.markedForDestroy?this._engine.afterFlush(()=>{G.destroy()}):T.push(O)}),this._queue=[],T.sort((O,G)=>{const J=O.transition.ast.depCount,ge=G.transition.ast.depCount;return 0==J||0==ge?J-ge:this._engine.driver.containsElement(O.element,G.element)?1:-1})}destroy(_){this.players.forEach(T=>T.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}}class Sn{_onRemovalComplete(_,T){this.onRemovalComplete(_,T)}constructor(_,T,O){this.bodyNode=_,this.driver=T,this._normalizer=O,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(G,J)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(T=>{T.players.forEach(O=>{O.queued&&_.push(O)})}),_}createNamespace(_,T){const O=new Zs(_,T,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,T)?this._balanceNamespaceList(O,T):(this.newHostElements.set(T,O),this.collectEnterElement(T)),this._namespaceLookup[_]=O}_balanceNamespaceList(_,T){const O=this._namespaceList,G=this.namespacesByHostElement;if(O.length-1>=0){let ge=!1,ve=this.driver.getParentElement(T);for(;ve;){const je=G.get(ve);if(je){const Ze=O.indexOf(je);O.splice(Ze+1,0,_),ge=!0;break}ve=this.driver.getParentElement(ve)}ge||O.unshift(_)}else O.push(_);return G.set(T,_),_}register(_,T){let O=this._namespaceLookup[_];return O||(O=this.createNamespace(_,T)),O}registerTrigger(_,T,O){let G=this._namespaceLookup[_];G&&G.register(T,O)&&this.totalAnimations++}destroy(_,T){_&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const O=this._fetchNamespace(_);this.namespacesByHostElement.delete(O.hostElement);const G=this._namespaceList.indexOf(O);G>=0&&this._namespaceList.splice(G,1),O.destroy(T),delete this._namespaceLookup[_]}))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const T=new Set,O=this.statesByElement.get(_);if(O)for(let G of O.values())if(G.namespaceId){const J=this._fetchNamespace(G.namespaceId);J&&T.add(J)}return T}trigger(_,T,O,G){if(Wr(T)){const J=this._fetchNamespace(_);if(J)return J.trigger(T,O,G),!0}return!1}insertNode(_,T,O,G){if(!Wr(T))return;const J=T[bn];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(T);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(_){const ge=this._fetchNamespace(_);ge&&ge.insertNode(T,O)}G&&this.collectEnterElement(T)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,T){T?this.disabledNodes.has(_)||(this.disabledNodes.add(_),es(_,hr)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),di(_,hr))}removeNode(_,T,O){if(Wr(T)){const G=_?this._fetchNamespace(_):null;G?G.removeNode(T,O):this.markElementAsRemoved(_,T,!1,O);const J=this.namespacesByHostElement.get(T);J&&J.id!==_&&J.removeNode(T,O)}else this._onRemovalComplete(T,O)}markElementAsRemoved(_,T,O,G,J){this.collectedLeaveElements.push(T),T[bn]={namespaceId:_,setForRemoval:G,hasAnimation:O,removedBeforeQueried:!1,previousTriggersValues:J}}listen(_,T,O,G,J){return Wr(T)?this._fetchNamespace(_).listen(T,O,G,J):()=>{}}_buildInstruction(_,T,O,G,J){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,O,G,_.fromState.options,_.toState.options,T,J)}destroyInnerAnimations(_){let T=this.driver.query(_,tt,!0);T.forEach(O=>this.destroyActiveAnimationsForElement(O)),0!=this.playersByQueriedElement.size&&(T=this.driver.query(_,kt,!0),T.forEach(O=>this.finishActiveQueriedAnimationOnElement(O)))}destroyActiveAnimationsForElement(_){const T=this.playersByElement.get(_);T&&T.forEach(O=>{O.queued?O.markedForDestroy=!0:O.destroy()})}finishActiveQueriedAnimationOnElement(_){const T=this.playersByQueriedElement.get(_);T&&T.forEach(O=>O.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Ln(this.players).onDone(()=>_());_()})}processLeaveNode(_){const T=_[bn];if(T&&T.setForRemoval){if(_[bn]=Hi,T.namespaceId){this.destroyInnerAnimations(_);const O=this._fetchNamespace(T.namespaceId);O&&O.clearElementCache(_)}this._onRemovalComplete(_,T.setForRemoval)}_.classList?.contains(hr)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(O=>{this.markElementAsDisabled(O,!1)})}flush(_=-1){let T=[];if(this.newHostElements.size&&(this.newHostElements.forEach((O,G)=>this._balanceNamespaceList(O,G)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let O=0;O<this.collectedEnterElements.length;O++)es(this.collectedEnterElements[O],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const O=[];try{T=this._flushAnimations(O,_)}finally{for(let G=0;G<O.length;G++)O[G]()}}else for(let O=0;O<this.collectedLeaveElements.length;O++)this.processLeaveNode(this.collectedLeaveElements[O]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(O=>O()),this._flushFns=[],this._whenQuietFns.length){const O=this._whenQuietFns;this._whenQuietFns=[],T.length?Ln(T).onDone(()=>{O.forEach(G=>G())}):O.forEach(G=>G())}}reportError(_){throw function Lt(z){return new Pe.wOt(3402,!1)}()}_flushAnimations(_,T){const O=new Dr,G=[],J=new Map,ge=[],ve=new Map,je=new Map,Ze=new Map,Nt=new Set;this.disabledNodes.forEach(Wt=>{Nt.add(Wt);const Jt=this.driver.query(Wt,".ng-animate-queued",!0);for(let En=0;En<Jt.length;En++)Nt.add(Jt[En])});const Qt=this.bodyNode,w=Array.from(this.statesByElement.keys()),H=mi(w,this.collectedEnterElements),P=new Map;let F=0;H.forEach((Wt,Jt)=>{const En=K+F++;P.set(Jt,En),Wt.forEach(lr=>es(lr,En))});const ie=[],ke=new Set,Xe=new Set;for(let Wt=0;Wt<this.collectedLeaveElements.length;Wt++){const Jt=this.collectedLeaveElements[Wt],En=Jt[bn];En&&En.setForRemoval&&(ie.push(Jt),ke.add(Jt),En.hasAnimation?this.driver.query(Jt,".ng-star-inserted",!0).forEach(lr=>ke.add(lr)):Xe.add(Jt))}const Bt=new Map,Xt=mi(w,Array.from(ke));Xt.forEach((Wt,Jt)=>{const En=fe+F++;Bt.set(Jt,En),Wt.forEach(lr=>es(lr,En))}),_.push(()=>{H.forEach((Wt,Jt)=>{const En=P.get(Jt);Wt.forEach(lr=>di(lr,En))}),Xt.forEach((Wt,Jt)=>{const En=Bt.get(Jt);Wt.forEach(lr=>di(lr,En))}),ie.forEach(Wt=>{this.processLeaveNode(Wt)})});const ur=[],kn=[];for(let Wt=this._namespaceList.length-1;Wt>=0;Wt--)this._namespaceList[Wt].drainQueuedTransitions(T).forEach(En=>{const lr=En.player,Li=En.element;if(ur.push(lr),this.collectedEnterElements.length){const ei=Li[bn];if(ei&&ei.setForMove){if(ei.previousTriggersValues&&ei.previousTriggersValues.has(En.triggerName)){const lo=ei.previousTriggersValues.get(En.triggerName),Ns=this.statesByElement.get(En.element);if(Ns&&Ns.has(En.triggerName)){const Jn=Ns.get(En.triggerName);Jn.value=lo,Ns.set(En.triggerName,Jn)}}return void lr.destroy()}}const Ds=!Qt||!this.driver.containsElement(Qt,Li),bs=Bt.get(Li),No=P.get(Li),Rn=this._buildInstruction(En,O,No,bs,Ds);if(Rn.errors&&Rn.errors.length)return void kn.push(Rn);if(Ds)return lr.onStart(()=>is(Li,Rn.fromStyles)),lr.onDestroy(()=>Er(Li,Rn.toStyles)),void G.push(lr);if(En.isFallbackTransition)return lr.onStart(()=>is(Li,Rn.fromStyles)),lr.onDestroy(()=>Er(Li,Rn.toStyles)),void G.push(lr);const ir=[];Rn.timelines.forEach(ei=>{ei.stretchStartingKeyframe=!0,this.disabledNodes.has(ei.element)||ir.push(ei)}),Rn.timelines=ir,O.append(Li,Rn.timelines),ge.push({instruction:Rn,player:lr,element:Li}),Rn.queriedElements.forEach(ei=>fi(ve,ei,[]).push(lr)),Rn.preStyleProps.forEach((ei,lo)=>{if(ei.size){let Ns=je.get(lo);Ns||je.set(lo,Ns=new Set),ei.forEach((Jn,Ia)=>Ns.add(Ia))}}),Rn.postStyleProps.forEach((ei,lo)=>{let Ns=Ze.get(lo);Ns||Ze.set(lo,Ns=new Set),ei.forEach((Jn,Ia)=>Ns.add(Ia))})});if(kn.length){const Wt=[];kn.forEach(Jt=>{Wt.push(function Hn(z,_){return new Pe.wOt(3505,!1)}())}),ur.forEach(Jt=>Jt.destroy()),this.reportError(Wt)}const cn=new Map,cr=new Map;ge.forEach(Wt=>{const Jt=Wt.element;O.has(Jt)&&(cr.set(Jt,Jt),this._beforeAnimationBuild(Wt.player.namespaceId,Wt.instruction,cn))}),G.forEach(Wt=>{const Jt=Wt.element;this._getPreviousPlayers(Jt,!1,Wt.namespaceId,Wt.triggerName,null).forEach(lr=>{fi(cn,Jt,[]).push(lr),lr.destroy()})});const Bn=ie.filter(Wt=>Se(Wt,je,Ze)),Br=new Map;Js(Br,this.driver,Xe,Ze,et).forEach(Wt=>{Se(Wt,je,Ze)&&Bn.push(Wt)});const _i=new Map;H.forEach((Wt,Jt)=>{Js(_i,this.driver,new Set(Wt),je,"!")}),Bn.forEach(Wt=>{const Jt=Br.get(Wt),En=_i.get(Wt);Br.set(Wt,new Map([...Jt?.entries()??[],...En?.entries()??[]]))});const hi=[],ai=[],Ms={};ge.forEach(Wt=>{const{element:Jt,player:En,instruction:lr}=Wt;if(O.has(Jt)){if(Nt.has(Jt))return En.onDestroy(()=>Er(Jt,lr.toStyles)),En.disabled=!0,En.overrideTotalTime(lr.totalTime),void G.push(En);let Li=Ms;if(cr.size>1){let bs=Jt;const No=[];for(;bs=bs.parentNode;){const Rn=cr.get(bs);if(Rn){Li=Rn;break}No.push(bs)}No.forEach(Rn=>cr.set(Rn,Li))}const Ds=this._buildAnimation(En.namespaceId,lr,cn,J,_i,Br);if(En.setRealPlayer(Ds),Li===Ms)hi.push(En);else{const bs=this.playersByElement.get(Li);bs&&bs.length&&(En.parentPlayer=Ln(bs)),G.push(En)}}else is(Jt,lr.fromStyles),En.onDestroy(()=>Er(Jt,lr.toStyles)),ai.push(En),Nt.has(Jt)&&G.push(En)}),ai.forEach(Wt=>{const Jt=J.get(Wt.element);if(Jt&&Jt.length){const En=Ln(Jt);Wt.setRealPlayer(En)}}),G.forEach(Wt=>{Wt.parentPlayer?Wt.syncPlayerEvents(Wt.parentPlayer):Wt.destroy()});for(let Wt=0;Wt<ie.length;Wt++){const Jt=ie[Wt],En=Jt[bn];if(di(Jt,fe),En&&En.hasAnimation)continue;let lr=[];if(ve.size){let Ds=ve.get(Jt);Ds&&Ds.length&&lr.push(...Ds);let bs=this.driver.query(Jt,kt,!0);for(let No=0;No<bs.length;No++){let Rn=ve.get(bs[No]);Rn&&Rn.length&&lr.push(...Rn)}}const Li=lr.filter(Ds=>!Ds.destroyed);Li.length?B(this,Jt,Li):this.processLeaveNode(Jt)}return ie.length=0,hi.forEach(Wt=>{this.players.push(Wt),Wt.onDone(()=>{Wt.destroy();const Jt=this.players.indexOf(Wt);this.players.splice(Jt,1)}),Wt.play()}),hi}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,T,O,G,J){let ge=[];if(T){const ve=this.playersByQueriedElement.get(_);ve&&(ge=ve)}else{const ve=this.playersByElement.get(_);if(ve){const je=!J||J==gi;ve.forEach(Ze=>{Ze.queued||!je&&Ze.triggerName!=G||ge.push(Ze)})}}return(O||G)&&(ge=ge.filter(ve=>!(O&&O!=ve.namespaceId||G&&G!=ve.triggerName))),ge}_beforeAnimationBuild(_,T,O){const J=T.element,ge=T.isRemovalTransition?void 0:_,ve=T.isRemovalTransition?void 0:T.triggerName;for(const je of T.timelines){const Ze=je.element,Nt=Ze!==J,Qt=fi(O,Ze,[]);this._getPreviousPlayers(Ze,Nt,ge,ve,T.toState).forEach(H=>{const P=H.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),H.destroy(),Qt.push(H)})}is(J,T.fromStyles)}_buildAnimation(_,T,O,G,J,ge){const ve=T.triggerName,je=T.element,Ze=[],Nt=new Set,Qt=new Set,w=T.timelines.map(P=>{const F=P.element;Nt.add(F);const ie=F[bn];if(ie&&ie.removedBeforeQueried)return new it(P.duration,P.delay);const ke=F!==je,Xe=function $(z){const _=[];return ae(z,_),_}((O.get(F)||$i).map(cn=>cn.getRealPlayer())).filter(cn=>!!cn.element&&cn.element===F),Bt=J.get(F),Xt=ge.get(F),ur=yr(this._normalizer,P.keyframes,Bt,Xt),kn=this._buildPlayer(P,ur,Xe);if(P.subTimeline&&G&&Qt.add(F),ke){const cn=new Bo(_,ve,F);cn.setRealPlayer(kn),Ze.push(cn)}return kn});Ze.forEach(P=>{fi(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function co(z,_,T){let O=z.get(_);if(O){if(O.length){const G=O.indexOf(T);O.splice(G,1)}0==O.length&&z.delete(_)}return O}(this.playersByQueriedElement,P.element,P))}),Nt.forEach(P=>es(P,Pt));const H=Ln(w);return H.onDestroy(()=>{Nt.forEach(P=>di(P,Pt)),Er(je,T.toStyles)}),Qt.forEach(P=>{fi(G,P,[]).push(H)}),H}_buildPlayer(_,T,O){return T.length>0?this.driver.animate(_.element,T,_.duration,_.delay,_.easing,O):new it(_.duration,_.delay)}}class Bo{constructor(_,T,O){this.namespaceId=_,this.triggerName=T,this.element=O,this._player=new it,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((T,O)=>{T.forEach(G=>vr(_,O,void 0,G))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const T=this._player;T.triggerCallback&&_.onStart(()=>T.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,T){fi(this._queuedCallbacks,_,[]).push(T)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const T=this._player;T.triggerCallback&&T.triggerCallback(_)}}function Wr(z){return z&&1===z.nodeType}function ds(z,_){const T=z.style.display;return z.style.display=_??"none",T}function Js(z,_,T,O,G){const J=[];T.forEach(je=>J.push(ds(je)));const ge=[];O.forEach((je,Ze)=>{const Nt=new Map;je.forEach(Qt=>{const w=_.computeStyle(Ze,Qt,G);Nt.set(Qt,w),(!w||0==w.length)&&(Ze[bn]=js,ge.push(Ze))}),z.set(Ze,Nt)});let ve=0;return T.forEach(je=>ds(je,J[ve++])),ge}function mi(z,_){const T=new Map;if(z.forEach(ve=>T.set(ve,[])),0==_.length)return T;const G=new Set(_),J=new Map;function ge(ve){if(!ve)return 1;let je=J.get(ve);if(je)return je;const Ze=ve.parentNode;return je=T.has(Ze)?Ze:G.has(Ze)?1:ge(Ze),J.set(ve,je),je}return _.forEach(ve=>{const je=ge(ve);1!==je&&T.get(je).push(ve)}),T}function es(z,_){z.classList?.add(_)}function di(z,_){z.classList?.remove(_)}function B(z,_,T){Ln(T).onDone(()=>z.processLeaveNode(_))}function ae(z,_){for(let T=0;T<z.length;T++){const O=z[T];O instanceof xt?ae(O.players,_):_.push(O)}}function Se(z,_,T){const O=T.get(z);if(!O)return!1;let G=_.get(z);return G?O.forEach(J=>G.add(J)):_.set(z,O),T.delete(z),!0}class Qe{constructor(_,T,O){this.bodyNode=_,this._driver=T,this._normalizer=O,this._triggerCache={},this.onRemovalComplete=(G,J)=>{},this._transitionEngine=new Sn(_,T,O),this._timelineEngine=new ls(_,T,O),this._transitionEngine.onRemovalComplete=(G,J)=>this.onRemovalComplete(G,J)}registerTrigger(_,T,O,G,J){const ge=_+"-"+G;let ve=this._triggerCache[ge];if(!ve){const je=[],Nt=zr(this._driver,J,je,[]);if(je.length)throw function Bi(z,_){return new Pe.wOt(3404,!1)}();ve=function Bs(z,_,T){return new Lr(z,_,T)}(G,Nt,this._normalizer),this._triggerCache[ge]=ve}this._transitionEngine.registerTrigger(T,G,ve)}register(_,T){this._transitionEngine.register(_,T)}destroy(_,T){this._transitionEngine.destroy(_,T)}onInsert(_,T,O,G){this._transitionEngine.insertNode(_,T,O,G)}onRemove(_,T,O){this._transitionEngine.removeNode(_,T,O)}disableAnimations(_,T){this._transitionEngine.markElementAsDisabled(_,T)}process(_,T,O,G){if("@"==O.charAt(0)){const[J,ge]=Vt(O);this._timelineEngine.command(J,T,ge,G)}else this._transitionEngine.trigger(_,T,O,G)}listen(_,T,O,G,J){if("@"==O.charAt(0)){const[ge,ve]=Vt(O);return this._timelineEngine.listen(ge,T,ve,J)}return this._transitionEngine.listen(_,T,O,G,J)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(_){this._transitionEngine.afterFlushAnimationsDone(_)}}let Kt=(()=>{class z{static{this.initialStylesByElement=new WeakMap}constructor(T,O,G){this._element=T,this._startStyles=O,this._endStyles=G,this._state=0;let J=z.initialStylesByElement.get(T);J||z.initialStylesByElement.set(T,J=new Map),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&Er(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Er(this._element,this._initialStyles),this._endStyles&&(Er(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(z.initialStylesByElement.delete(this._element),this._startStyles&&(is(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(is(this._element,this._endStyles),this._endStyles=null),Er(this._element,this._initialStyles),this._state=3)}}return z})();function Gt(z){let _=null;return z.forEach((T,O)=>{(function zn(z){return"display"===z||"position"===z})(O)&&(_=_||new Map,_.set(O,T))}),_}class xn{constructor(_,T,O,G){this.element=_,this.keyframes=T,this.options=O,this._specialStyles=G,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=O.duration,this._delay=O.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map;const T=()=>this._onFinish();this.domPlayer.addEventListener("finish",T),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",T)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const T=[];return _.forEach(O=>{T.push(Object.fromEntries(O))}),T}_triggerWebAnimation(_,T,O){return _.animate(this._convertKeyframesToObject(T),O)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((O,G)=>{"offset"!==G&&_.set(G,this._finished?O:Fr(this.element,G))}),this.currentSnapshot=_}triggerCallback(_){const T="start"===_?this._onStartFns:this._onDoneFns;T.forEach(O=>O()),T.length=0}}class qr{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,T){return!1}containsElement(_,T){return _e(_,T)}getParentElement(_){return xi(_)}query(_,T,O){return wr(_,T,O)}computeStyle(_,T,O){return window.getComputedStyle(_)[T]}animate(_,T,O,G,J,ge=[]){const je={duration:O,delay:G,fill:0==G?"both":"forwards"};J&&(je.easing=J);const Ze=new Map,Nt=ge.filter(H=>H instanceof xn);(function nr(z,_){return 0===z||0===_})(O,G)&&Nt.forEach(H=>{H.currentSnapshot.forEach((P,F)=>Ze.set(F,P))});let Qt=function ci(z){return z.length?z[0]instanceof Map?z:z.map(_=>kr(_)):[]}(T).map(H=>ki(H));Qt=function Zn(z,_,T){if(T.size&&_.length){let O=_[0],G=[];if(T.forEach((J,ge)=>{O.has(ge)||G.push(ge),O.set(ge,J)}),G.length)for(let J=1;J<_.length;J++){let ge=_[J];G.forEach(ve=>ge.set(ve,Fr(z,ve)))}}return _}(_,Qt,Ze);const w=function Dt(z,_){let T=null,O=null;return Array.isArray(_)&&_.length?(T=Gt(_[0]),_.length>1&&(O=Gt(_[_.length-1]))):_ instanceof Map&&(T=Gt(_)),T||O?new Kt(z,T,O):null}(_,Qt);return new xn(_,Qt,je,w)}}var Ur=ne(177);let si=(()=>{class z extends Ve{constructor(T,O){super(),this._nextAnimationId=0,this._renderer=T.createRenderer(O.body,{id:"0",encapsulation:Pe.gXe.None,styles:[],data:{animation:[]}})}build(T){const O=this._nextAnimationId.toString();this._nextAnimationId++;const G=Array.isArray(T)?_t(T):T;return Kn(this._renderer,null,O,"register",[G]),new oi(O,this._renderer)}static{this.\u0275fac=function(O){return new(O||z)(Pe.KVO(Pe._9s),Pe.KVO(Ur.qQ))}}static{this.\u0275prov=Pe.jDH({token:z,factory:z.\u0275fac})}}return z})();class oi extends Rt{constructor(_,T){super(),this._id=_,this._renderer=T}create(_,T){return new Ti(this._id,_,T||{},this._renderer)}}class Ti{constructor(_,T,O,G){this.id=_,this.element=T,this._renderer=G,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",O)}_listen(_,T){return this._renderer.listen(this.element,`@@${this.id}:${_}`,T)}_command(_,...T){return Kn(this._renderer,this.element,this.id,_,T)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Kn(z,_,T,O,G){return z.setProperty(_,`@@${T}:${O}`,G)}const wi="@.disabled";let Sr=(()=>{class z{constructor(T,O,G){this.delegate=T,this.engine=O,this._zone=G,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,O.onRemovalComplete=(J,ge)=>{const ve=ge?.parentNode(J);ve&&ge.removeChild(ve,J)}}createRenderer(T,O){const J=this.delegate.createRenderer(T,O);if(!(T&&O&&O.data&&O.data.animation)){let Nt=this._rendererCache.get(J);return Nt||(Nt=new Yr("",J,this.engine,()=>this._rendererCache.delete(J)),this._rendererCache.set(J,Nt)),Nt}const ge=O.id,ve=O.id+"-"+this._currentId;this._currentId++,this.engine.register(ve,T);const je=Nt=>{Array.isArray(Nt)?Nt.forEach(je):this.engine.registerTrigger(ge,ve,T,Nt.name,Nt)};return O.data.animation.forEach(je),new $s(this,ve,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(T,O,G){T>=0&&T<this._microtaskId?this._zone.run(()=>O(G)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[ge,ve]=J;ge(ve)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([O,G]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(O){return new(O||z)(Pe.KVO(Pe._9s),Pe.KVO(Qe),Pe.KVO(Pe.SKi))}}static{this.\u0275prov=Pe.jDH({token:z,factory:z.\u0275fac})}}return z})();class Yr{constructor(_,T,O,G){this.namespaceId=_,this.delegate=T,this.engine=O,this._onDestroy=G}get data(){return this.delegate.data}destroyNode(_){this.delegate.destroyNode?.(_)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(_,T){return this.delegate.createElement(_,T)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,T){this.delegate.appendChild(_,T),this.engine.onInsert(this.namespaceId,T,_,!1)}insertBefore(_,T,O,G=!0){this.delegate.insertBefore(_,T,O),this.engine.onInsert(this.namespaceId,T,_,G)}removeChild(_,T,O){this.engine.onRemove(this.namespaceId,T,this.delegate)}selectRootElement(_,T){return this.delegate.selectRootElement(_,T)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,T,O,G){this.delegate.setAttribute(_,T,O,G)}removeAttribute(_,T,O){this.delegate.removeAttribute(_,T,O)}addClass(_,T){this.delegate.addClass(_,T)}removeClass(_,T){this.delegate.removeClass(_,T)}setStyle(_,T,O,G){this.delegate.setStyle(_,T,O,G)}removeStyle(_,T,O){this.delegate.removeStyle(_,T,O)}setProperty(_,T,O){"@"==T.charAt(0)&&T==wi?this.disableAnimations(_,!!O):this.delegate.setProperty(_,T,O)}setValue(_,T){this.delegate.setValue(_,T)}listen(_,T,O){return this.delegate.listen(_,T,O)}disableAnimations(_,T){this.engine.disableAnimations(_,T)}}class $s extends Yr{constructor(_,T,O,G,J){super(T,O,G,J),this.factory=_,this.namespaceId=T}setProperty(_,T,O){"@"==T.charAt(0)?"."==T.charAt(1)&&T==wi?this.disableAnimations(_,O=void 0===O||!!O):this.engine.process(this.namespaceId,_,T.slice(1),O):this.delegate.setProperty(_,T,O)}listen(_,T,O){if("@"==T.charAt(0)){const G=function Rs(z){switch(z){case"body":return document.body;case"document":return document;case"window":return window;default:return z}}(_);let J=T.slice(1),ge="";return"@"!=J.charAt(0)&&([J,ge]=function As(z){const _=z.indexOf(".");return[z.substring(0,_),z.slice(_+1)]}(J)),this.engine.listen(this.namespaceId,G,J,ge,ve=>{this.factory.scheduleListenerCallback(ve._data||-1,O,ve)})}return this.delegate.listen(_,T,O)}}const Za=[{provide:Ve,useClass:si},{provide:Xr,useFactory:function ea(){return new us}},{provide:Qe,useClass:(()=>{class z extends Qe{constructor(T,O,G,J){super(T.body,O,G)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(O){return new(O||z)(Pe.KVO(Ur.qQ),Pe.KVO(Si),Pe.KVO(Xr),Pe.KVO(Pe.o8S))}}static{this.\u0275prov=Pe.jDH({token:z,factory:z.\u0275fac})}}return z})()},{provide:Pe._9s,useFactory:function Ea(z,_,T){return new Sr(z,_,T)},deps:[N.B7,Qe,Pe.SKi]}],Mi=[{provide:Si,useFactory:()=>new qr},{provide:Pe.bc$,useValue:"BrowserAnimations"},...Za],fs=[{provide:Si,useClass:ys},{provide:Pe.bc$,useValue:"NoopAnimations"},...Za];let ts=(()=>{class z{static withConfig(T){return{ngModule:z,providers:T.disableAnimations?fs:Mi}}static{this.\u0275fac=function(O){return new(O||z)}}static{this.\u0275mod=Pe.$C({type:z})}static{this.\u0275inj=Pe.G2t({providers:Mi,imports:[N.Bb]})}}return z})();const Jr_firebase={apiKey:"AIzaSyC2RiBFpbVywSjs40qpiU3aqq0NwUtfqJs",authDomain:"factura-do.firebaseapp.com",projectId:"factura-do",storageBucket:"factura-do.firebasestorage.app",messagingSenderId:"15996963012",appId:"1:15996963012:web:ada2df3dafd10c71dce191"};var Ua=ne(7440),eo=ne(4262),Ja=ne(2107),Eo=ne(4665);let Un=(()=>{class z{static{this.\u0275fac=function(O){return new(O||z)}}static{this.\u0275mod=Pe.$C({type:z,bootstrap:[de]})}static{this.\u0275inj=Pe.G2t({imports:[N.Bb,se,ts,(0,Ua.MW)(()=>(0,Ua.Wp)(Jr_firebase)),(0,eo.hV)(()=>(0,eo.aU)()),(0,Ja.Xm)(()=>(0,Ja.c7)()),(0,Eo._q)(()=>(0,Eo.xI)())]})}}return z})();N.sG().bootstrapModule(Un).catch(z=>console.error(z))},4412:(_n,dt,ne)=>{ne.d(dt,{t:()=>Ie});var N=ne(1413);class Ie extends N.B{constructor(Ke){super(),this._value=Ke}get value(){return this.getValue()}_subscribe(Ke){const se=super._subscribe(Ke);return!se.closed&&Ke.next(this._value),se}getValue(){const{hasError:Ke,thrownError:se,_value:de}=this;if(Ke)throw se;return this._throwIfClosed(),de}next(Ke){super.next(this._value=Ke)}}},1985:(_n,dt,ne)=>{ne.d(dt,{c:()=>Rt});var N=ne(7707),Ie=ne(8359),Pe=ne(3494),Ke=ne(1203),se=ne(1026),de=ne(8071),Ve=ne(9786);let Rt=(()=>{class qe{constructor(gt){gt&&(this._subscribe=gt)}lift(gt){const vt=new qe;return vt.source=this,vt.operator=gt,vt}subscribe(gt,vt,Ht){const ln=function Ee(qe){return qe&&qe instanceof N.vU||function he(qe){return qe&&(0,de.T)(qe.next)&&(0,de.T)(qe.error)&&(0,de.T)(qe.complete)}(qe)&&(0,Ie.Uv)(qe)}(gt)?gt:new N.Ms(gt,vt,Ht);return(0,Ve.Y)(()=>{const{operator:pn,source:qn}=this;ln.add(pn?pn.call(ln,qn):qn?this._subscribe(ln):this._trySubscribe(ln))}),ln}_trySubscribe(gt){try{return this._subscribe(gt)}catch(vt){gt.error(vt)}}forEach(gt,vt){return new(vt=et(vt))((Ht,ln)=>{const pn=new N.Ms({next:qn=>{try{gt(qn)}catch(mr){ln(mr),pn.unsubscribe()}},error:ln,complete:Ht});this.subscribe(pn)})}_subscribe(gt){var vt;return null===(vt=this.source)||void 0===vt?void 0:vt.subscribe(gt)}[Pe.s](){return this}pipe(...gt){return(0,Ke.m)(gt)(this)}toPromise(gt){return new(gt=et(gt))((vt,Ht)=>{let ln;this.subscribe(pn=>ln=pn,pn=>Ht(pn),()=>vt(ln))})}}return qe.create=_t=>new qe(_t),qe})();function et(qe){var _t;return null!==(_t=qe??se.$.Promise)&&void 0!==_t?_t:Promise}},1413:(_n,dt,ne)=>{ne.d(dt,{B:()=>Ve});var N=ne(1985),Ie=ne(8359);const Ke=(0,ne(1853).L)(et=>function(){et(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=ne(7908),de=ne(9786);let Ve=(()=>{class et extends N.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ee){const qe=new Rt(this,this);return qe.operator=Ee,qe}_throwIfClosed(){if(this.closed)throw new Ke}next(Ee){(0,de.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const qe of this.currentObservers)qe.next(Ee)}})}error(Ee){(0,de.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ee;const{observers:qe}=this;for(;qe.length;)qe.shift().error(Ee)}})}complete(){(0,de.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ee;return(null===(Ee=this.observers)||void 0===Ee?void 0:Ee.length)>0}_trySubscribe(Ee){return this._throwIfClosed(),super._trySubscribe(Ee)}_subscribe(Ee){return this._throwIfClosed(),this._checkFinalizedStatuses(Ee),this._innerSubscribe(Ee)}_innerSubscribe(Ee){const{hasError:qe,isStopped:_t,observers:gt}=this;return qe||_t?Ie.Kn:(this.currentObservers=null,gt.push(Ee),new Ie.yU(()=>{this.currentObservers=null,(0,se.o)(gt,Ee)}))}_checkFinalizedStatuses(Ee){const{hasError:qe,thrownError:_t,isStopped:gt}=this;qe?Ee.error(_t):gt&&Ee.complete()}asObservable(){const Ee=new N.c;return Ee.source=this,Ee}}return et.create=(he,Ee)=>new Rt(he,Ee),et})();class Rt extends Ve{constructor(he,Ee){super(),this.destination=he,this.source=Ee}next(he){var Ee,qe;null===(qe=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.next)||void 0===qe||qe.call(Ee,he)}error(he){var Ee,qe;null===(qe=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.error)||void 0===qe||qe.call(Ee,he)}complete(){var he,Ee;null===(Ee=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===Ee||Ee.call(he)}_subscribe(he){var Ee,qe;return null!==(qe=null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(he))&&void 0!==qe?qe:Ie.Kn}}},7707:(_n,dt,ne)=>{ne.d(dt,{Ms:()=>Ht,vU:()=>qe});var N=ne(8071),Ie=ne(8359),Pe=ne(1026),Ke=ne(5334),se=ne(5343);const de=et("C",void 0,void 0);function et(rt,pt,it){return{kind:rt,value:pt,error:it}}var he=ne(9270),Ee=ne(9786);class qe extends Ie.yU{constructor(pt){super(),this.isStopped=!1,pt?(this.destination=pt,(0,Ie.Uv)(pt)&&pt.add(this)):this.destination=mr}static create(pt,it,xt){return new Ht(pt,it,xt)}next(pt){this.isStopped?qn(function Rt(rt){return et("N",rt,void 0)}(pt),this):this._next(pt)}error(pt){this.isStopped?qn(function Ve(rt){return et("E",void 0,rt)}(pt),this):(this.isStopped=!0,this._error(pt))}complete(){this.isStopped?qn(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pt){this.destination.next(pt)}_error(pt){try{this.destination.error(pt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _t=Function.prototype.bind;function gt(rt,pt){return _t.call(rt,pt)}class vt{constructor(pt){this.partialObserver=pt}next(pt){const{partialObserver:it}=this;if(it.next)try{it.next(pt)}catch(xt){ln(xt)}}error(pt){const{partialObserver:it}=this;if(it.error)try{it.error(pt)}catch(xt){ln(xt)}else ln(pt)}complete(){const{partialObserver:pt}=this;if(pt.complete)try{pt.complete()}catch(it){ln(it)}}}class Ht extends qe{constructor(pt,it,xt){let Ut;if(super(),(0,N.T)(pt)||!pt)Ut={next:pt??void 0,error:it??void 0,complete:xt??void 0};else{let bt;this&&Pe.$.useDeprecatedNextContext?(bt=Object.create(pt),bt.unsubscribe=()=>this.unsubscribe(),Ut={next:pt.next&&gt(pt.next,bt),error:pt.error&&gt(pt.error,bt),complete:pt.complete&&gt(pt.complete,bt)}):Ut=pt}this.destination=new vt(Ut)}}function ln(rt){Pe.$.useDeprecatedSynchronousErrorHandling?(0,Ee.l)(rt):(0,Ke.m)(rt)}function qn(rt,pt){const{onStoppedNotification:it}=Pe.$;it&&he.f.setTimeout(()=>it(rt,pt))}const mr={closed:!0,next:se.l,error:function pn(rt){throw rt},complete:se.l}},8359:(_n,dt,ne)=>{ne.d(dt,{Kn:()=>de,yU:()=>se,Uv:()=>Ve});var N=ne(8071);const Pe=(0,ne(1853).L)(et=>function(Ee){et(this),this.message=Ee?`${Ee.length} errors occurred during unsubscription:\n${Ee.map((qe,_t)=>`${_t+1}) ${qe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ee});var Ke=ne(7908);class se{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:Ee}=this;if(Ee)if(this._parentage=null,Array.isArray(Ee))for(const gt of Ee)gt.remove(this);else Ee.remove(this);const{initialTeardown:qe}=this;if((0,N.T)(qe))try{qe()}catch(gt){he=gt instanceof Pe?gt.errors:[gt]}const{_finalizers:_t}=this;if(_t){this._finalizers=null;for(const gt of _t)try{Rt(gt)}catch(vt){he=he??[],vt instanceof Pe?he=[...he,...vt.errors]:he.push(vt)}}if(he)throw new Pe(he)}}add(he){var Ee;if(he&&he!==this)if(this.closed)Rt(he);else{if(he instanceof se){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(Ee=this._finalizers)&&void 0!==Ee?Ee:[]).push(he)}}_hasParent(he){const{_parentage:Ee}=this;return Ee===he||Array.isArray(Ee)&&Ee.includes(he)}_addParent(he){const{_parentage:Ee}=this;this._parentage=Array.isArray(Ee)?(Ee.push(he),Ee):Ee?[Ee,he]:he}_removeParent(he){const{_parentage:Ee}=this;Ee===he?this._parentage=null:Array.isArray(Ee)&&(0,Ke.o)(Ee,he)}remove(he){const{_finalizers:Ee}=this;Ee&&(0,Ke.o)(Ee,he),he instanceof se&&he._removeParent(this)}}se.EMPTY=(()=>{const et=new se;return et.closed=!0,et})();const de=se.EMPTY;function Ve(et){return et instanceof se||et&&"closed"in et&&(0,N.T)(et.remove)&&(0,N.T)(et.add)&&(0,N.T)(et.unsubscribe)}function Rt(et){(0,N.T)(et)?et():et.unsubscribe()}},1026:(_n,dt,ne)=>{ne.d(dt,{$:()=>N});const N={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(_n,dt,ne)=>{ne.d(dt,{w:()=>Ie});const Ie=new(ne(1985).c)(se=>se.complete())},8455:(_n,dt,ne)=>{ne.d(dt,{H:()=>pt});var N=ne(8750),Ie=ne(941),Pe=ne(6745),de=ne(1985),Rt=ne(4761),et=ne(8071),he=ne(5225);function qe(it,xt){if(!it)throw new Error("Iterable cannot be null");return new de.c(Ut=>{(0,he.N)(Ut,xt,()=>{const bt=it[Symbol.asyncIterator]();(0,he.N)(Ut,xt,()=>{bt.next().then(ot=>{ot.done?Ut.complete():Ut.next(ot.value)})},0,!0)})})}var _t=ne(5055),gt=ne(9858),vt=ne(7441),Ht=ne(5397),ln=ne(7953),pn=ne(591),qn=ne(5196);function pt(it,xt){return xt?function rt(it,xt){if(null!=it){if((0,_t.l)(it))return function Ke(it,xt){return(0,N.Tg)(it).pipe((0,Pe._)(xt),(0,Ie.Q)(xt))}(it,xt);if((0,vt.X)(it))return function Ve(it,xt){return new de.c(Ut=>{let bt=0;return xt.schedule(function(){bt===it.length?Ut.complete():(Ut.next(it[bt++]),Ut.closed||this.schedule())})})}(it,xt);if((0,gt.y)(it))return function se(it,xt){return(0,N.Tg)(it).pipe((0,Pe._)(xt),(0,Ie.Q)(xt))}(it,xt);if((0,ln.T)(it))return qe(it,xt);if((0,Ht.x)(it))return function Ee(it,xt){return new de.c(Ut=>{let bt;return(0,he.N)(Ut,xt,()=>{bt=it[Rt.l](),(0,he.N)(Ut,xt,()=>{let ot,Zt;try{({value:ot,done:Zt}=bt.next())}catch(Gn){return void Ut.error(Gn)}Zt?Ut.complete():Ut.next(ot)},0,!0)}),()=>(0,et.T)(bt?.return)&&bt.return()})}(it,xt);if((0,qn.U)(it))return function mr(it,xt){return qe((0,qn.C)(it),xt)}(it,xt)}throw(0,pn.L)(it)}(it,xt):(0,N.Tg)(it)}},8750:(_n,dt,ne)=>{ne.d(dt,{Tg:()=>_t});var N=ne(1635),Ie=ne(7441),Pe=ne(9858),Ke=ne(1985),se=ne(5055),de=ne(7953),Ve=ne(591),Rt=ne(5397),et=ne(5196),he=ne(8071),Ee=ne(5334),qe=ne(3494);function _t(rt){if(rt instanceof Ke.c)return rt;if(null!=rt){if((0,se.l)(rt))return function gt(rt){return new Ke.c(pt=>{const it=rt[qe.s]();if((0,he.T)(it.subscribe))return it.subscribe(pt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(rt);if((0,Ie.X)(rt))return function vt(rt){return new Ke.c(pt=>{for(let it=0;it<rt.length&&!pt.closed;it++)pt.next(rt[it]);pt.complete()})}(rt);if((0,Pe.y)(rt))return function Ht(rt){return new Ke.c(pt=>{rt.then(it=>{pt.closed||(pt.next(it),pt.complete())},it=>pt.error(it)).then(null,Ee.m)})}(rt);if((0,de.T)(rt))return pn(rt);if((0,Rt.x)(rt))return function ln(rt){return new Ke.c(pt=>{for(const it of rt)if(pt.next(it),pt.closed)return;pt.complete()})}(rt);if((0,et.U)(rt))return function qn(rt){return pn((0,et.C)(rt))}(rt)}throw(0,Ve.L)(rt)}function pn(rt){return new Ke.c(pt=>{(function mr(rt,pt){var it,xt,Ut,bt;return(0,N.sH)(this,void 0,void 0,function*(){try{for(it=(0,N.xN)(rt);!(xt=yield it.next()).done;)if(pt.next(xt.value),pt.closed)return}catch(ot){Ut={error:ot}}finally{try{xt&&!xt.done&&(bt=it.return)&&(yield bt.call(it))}finally{if(Ut)throw Ut.error}}pt.complete()})})(rt,pt).catch(it=>pt.error(it))})}},7673:(_n,dt,ne)=>{ne.d(dt,{of:()=>Pe});var N=ne(3794),Ie=ne(8455);function Pe(...Ke){const se=(0,N.lI)(Ke);return(0,Ie.H)(Ke,se)}},4360:(_n,dt,ne)=>{ne.d(dt,{_:()=>Ie});var N=ne(7707);function Ie(Ke,se,de,Ve,Rt){return new Pe(Ke,se,de,Ve,Rt)}class Pe extends N.vU{constructor(se,de,Ve,Rt,et,he){super(se),this.onFinalize=et,this.shouldUnsubscribe=he,this._next=de?function(Ee){try{de(Ee)}catch(qe){se.error(qe)}}:super._next,this._error=Rt?function(Ee){try{Rt(Ee)}catch(qe){se.error(qe)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(Ee){se.error(Ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},6354:(_n,dt,ne)=>{ne.d(dt,{T:()=>Pe});var N=ne(9974),Ie=ne(4360);function Pe(Ke,se){return(0,N.N)((de,Ve)=>{let Rt=0;de.subscribe((0,Ie._)(Ve,et=>{Ve.next(Ke.call(se,et,Rt++))}))})}},6365:(_n,dt,ne)=>{ne.d(dt,{U:()=>Pe});var N=ne(1397),Ie=ne(3669);function Pe(Ke=1/0){return(0,N.Z)(Ie.D,Ke)}},1397:(_n,dt,ne)=>{ne.d(dt,{Z:()=>Rt});var N=ne(6354),Ie=ne(8750),Pe=ne(9974),Ke=ne(5225),se=ne(4360),Ve=ne(8071);function Rt(et,he,Ee=1/0){return(0,Ve.T)(he)?Rt((qe,_t)=>(0,N.T)((gt,vt)=>he(qe,gt,_t,vt))((0,Ie.Tg)(et(qe,_t))),Ee):("number"==typeof he&&(Ee=he),(0,Pe.N)((qe,_t)=>function de(et,he,Ee,qe,_t,gt,vt,Ht){const ln=[];let pn=0,qn=0,mr=!1;const rt=()=>{mr&&!ln.length&&!pn&&he.complete()},pt=xt=>pn<qe?it(xt):ln.push(xt),it=xt=>{gt&&he.next(xt),pn++;let Ut=!1;(0,Ie.Tg)(Ee(xt,qn++)).subscribe((0,se._)(he,bt=>{_t?.(bt),gt?pt(bt):he.next(bt)},()=>{Ut=!0},void 0,()=>{if(Ut)try{for(pn--;ln.length&&pn<qe;){const bt=ln.shift();vt?(0,Ke.N)(he,vt,()=>it(bt)):it(bt)}rt()}catch(bt){he.error(bt)}}))};return et.subscribe((0,se._)(he,pt,()=>{mr=!0,rt()})),()=>{Ht?.()}}(qe,_t,et,Ee)))}},941:(_n,dt,ne)=>{ne.d(dt,{Q:()=>Ke});var N=ne(5225),Ie=ne(9974),Pe=ne(4360);function Ke(se,de=0){return(0,Ie.N)((Ve,Rt)=>{Ve.subscribe((0,Pe._)(Rt,et=>(0,N.N)(Rt,se,()=>Rt.next(et),de),()=>(0,N.N)(Rt,se,()=>Rt.complete(),de),et=>(0,N.N)(Rt,se,()=>Rt.error(et),de)))})}},6745:(_n,dt,ne)=>{ne.d(dt,{_:()=>Ie});var N=ne(9974);function Ie(Pe,Ke=0){return(0,N.N)((se,de)=>{de.add(Pe.schedule(()=>se.subscribe(de),Ke))})}},5558:(_n,dt,ne)=>{ne.d(dt,{n:()=>Ke});var N=ne(8750),Ie=ne(9974),Pe=ne(4360);function Ke(se,de){return(0,Ie.N)((Ve,Rt)=>{let et=null,he=0,Ee=!1;const qe=()=>Ee&&!et&&Rt.complete();Ve.subscribe((0,Pe._)(Rt,_t=>{et?.unsubscribe();let gt=0;const vt=he++;(0,N.Tg)(se(_t,vt)).subscribe(et=(0,Pe._)(Rt,Ht=>Rt.next(de?de(_t,Ht,vt,gt++):Ht),()=>{et=null,qe()}))},()=>{Ee=!0,qe()}))})}},8141:(_n,dt,ne)=>{ne.d(dt,{M:()=>se});var N=ne(8071),Ie=ne(9974),Pe=ne(4360),Ke=ne(3669);function se(de,Ve,Rt){const et=(0,N.T)(de)||Ve||Rt?{next:de,error:Ve,complete:Rt}:de;return et?(0,Ie.N)((he,Ee)=>{var qe;null===(qe=et.subscribe)||void 0===qe||qe.call(et);let _t=!0;he.subscribe((0,Pe._)(Ee,gt=>{var vt;null===(vt=et.next)||void 0===vt||vt.call(et,gt),Ee.next(gt)},()=>{var gt;_t=!1,null===(gt=et.complete)||void 0===gt||gt.call(et),Ee.complete()},gt=>{var vt;_t=!1,null===(vt=et.error)||void 0===vt||vt.call(et,gt),Ee.error(gt)},()=>{var gt,vt;_t&&(null===(gt=et.unsubscribe)||void 0===gt||gt.call(et)),null===(vt=et.finalize)||void 0===vt||vt.call(et)}))}):Ke.D}},9270:(_n,dt,ne)=>{ne.d(dt,{f:()=>N});const N={setTimeout(Ie,Pe,...Ke){const{delegate:se}=N;return se?.setTimeout?se.setTimeout(Ie,Pe,...Ke):setTimeout(Ie,Pe,...Ke)},clearTimeout(Ie){const{delegate:Pe}=N;return(Pe?.clearTimeout||clearTimeout)(Ie)},delegate:void 0}},4761:(_n,dt,ne)=>{ne.d(dt,{l:()=>Ie});const Ie=function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(_n,dt,ne)=>{ne.d(dt,{s:()=>N});const N="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(_n,dt,ne)=>{ne.d(dt,{R0:()=>de,ms:()=>Ke,lI:()=>se});var N=ne(8071);function Pe(Ve){return Ve[Ve.length-1]}function Ke(Ve){return(0,N.T)(Pe(Ve))?Ve.pop():void 0}function se(Ve){return function Ie(Ve){return Ve&&(0,N.T)(Ve.schedule)}(Pe(Ve))?Ve.pop():void 0}function de(Ve,Rt){return"number"==typeof Pe(Ve)?Ve.pop():Rt}},3073:(_n,dt,ne)=>{ne.d(dt,{D:()=>se});const{isArray:N}=Array,{getPrototypeOf:Ie,prototype:Pe,keys:Ke}=Object;function se(Ve){if(1===Ve.length){const Rt=Ve[0];if(N(Rt))return{args:Rt,keys:null};if(function de(Ve){return Ve&&"object"==typeof Ve&&Ie(Ve)===Pe}(Rt)){const et=Ke(Rt);return{args:et.map(he=>Rt[he]),keys:et}}}return{args:Ve,keys:null}}},7908:(_n,dt,ne)=>{function N(Ie,Pe){if(Ie){const Ke=Ie.indexOf(Pe);0<=Ke&&Ie.splice(Ke,1)}}ne.d(dt,{o:()=>N})},1853:(_n,dt,ne)=>{function N(Ie){const Ke=Ie(se=>{Error.call(se),se.stack=(new Error).stack});return Ke.prototype=Object.create(Error.prototype),Ke.prototype.constructor=Ke,Ke}ne.d(dt,{L:()=>N})},8496:(_n,dt,ne)=>{function N(Ie,Pe){return Ie.reduce((Ke,se,de)=>(Ke[se]=Pe[de],Ke),{})}ne.d(dt,{e:()=>N})},9786:(_n,dt,ne)=>{ne.d(dt,{Y:()=>Pe,l:()=>Ke});var N=ne(1026);let Ie=null;function Pe(se){if(N.$.useDeprecatedSynchronousErrorHandling){const de=!Ie;if(de&&(Ie={errorThrown:!1,error:null}),se(),de){const{errorThrown:Ve,error:Rt}=Ie;if(Ie=null,Ve)throw Rt}}else se()}function Ke(se){N.$.useDeprecatedSynchronousErrorHandling&&Ie&&(Ie.errorThrown=!0,Ie.error=se)}},5225:(_n,dt,ne)=>{function N(Ie,Pe,Ke,se=0,de=!1){const Ve=Pe.schedule(function(){Ke(),de?Ie.add(this.schedule(null,se)):this.unsubscribe()},se);if(Ie.add(Ve),!de)return Ve}ne.d(dt,{N:()=>N})},3669:(_n,dt,ne)=>{function N(Ie){return Ie}ne.d(dt,{D:()=>N})},7441:(_n,dt,ne)=>{ne.d(dt,{X:()=>N});const N=Ie=>Ie&&"number"==typeof Ie.length&&"function"!=typeof Ie},7953:(_n,dt,ne)=>{ne.d(dt,{T:()=>Ie});var N=ne(8071);function Ie(Pe){return Symbol.asyncIterator&&(0,N.T)(Pe?.[Symbol.asyncIterator])}},8071:(_n,dt,ne)=>{function N(Ie){return"function"==typeof Ie}ne.d(dt,{T:()=>N})},5055:(_n,dt,ne)=>{ne.d(dt,{l:()=>Pe});var N=ne(3494),Ie=ne(8071);function Pe(Ke){return(0,Ie.T)(Ke[N.s])}},5397:(_n,dt,ne)=>{ne.d(dt,{x:()=>Pe});var N=ne(4761),Ie=ne(8071);function Pe(Ke){return(0,Ie.T)(Ke?.[N.l])}},9858:(_n,dt,ne)=>{ne.d(dt,{y:()=>Ie});var N=ne(8071);function Ie(Pe){return(0,N.T)(Pe?.then)}},5196:(_n,dt,ne)=>{ne.d(dt,{C:()=>Pe,U:()=>Ke});var N=ne(1635),Ie=ne(8071);function Pe(se){return(0,N.AQ)(this,arguments,function*(){const Ve=se.getReader();try{for(;;){const{value:Rt,done:et}=yield(0,N.N3)(Ve.read());if(et)return yield(0,N.N3)(void 0);yield yield(0,N.N3)(Rt)}}finally{Ve.releaseLock()}})}function Ke(se){return(0,Ie.T)(se?.getReader)}},9974:(_n,dt,ne)=>{ne.d(dt,{N:()=>Pe,S:()=>Ie});var N=ne(8071);function Ie(Ke){return(0,N.T)(Ke?.lift)}function Pe(Ke){return se=>{if(Ie(se))return se.lift(function(de){try{return Ke(de,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(_n,dt,ne)=>{ne.d(dt,{I:()=>Ke});var N=ne(6354);const{isArray:Ie}=Array;function Ke(se){return(0,N.T)(de=>function Pe(se,de){return Ie(de)?se(...de):se(de)}(se,de))}},5343:(_n,dt,ne)=>{function N(){}ne.d(dt,{l:()=>N})},1203:(_n,dt,ne)=>{ne.d(dt,{F:()=>Ie,m:()=>Pe});var N=ne(3669);function Ie(...Ke){return Pe(Ke)}function Pe(Ke){return 0===Ke.length?N.D:1===Ke.length?Ke[0]:function(de){return Ke.reduce((Ve,Rt)=>Rt(Ve),de)}}},5334:(_n,dt,ne)=>{ne.d(dt,{m:()=>Pe});var N=ne(1026),Ie=ne(9270);function Pe(Ke){Ie.f.setTimeout(()=>{const{onUnhandledError:se}=N.$;if(!se)throw Ke;se(Ke)})}},591:(_n,dt,ne)=>{function N(Ie){return new TypeError(`You provided ${null!==Ie&&"object"==typeof Ie?"an invalid object":`'${Ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ne.d(dt,{L:()=>N})},177:(_n,dt,ne)=>{ne.d(dt,{AJ:()=>us,MD:()=>as,N0:()=>ls,QT:()=>Pe,Sm:()=>vt,Sq:()=>Fr,VF:()=>se,Vy:()=>vn,Xr:()=>Lr,YU:()=>wn,ZD:()=>Ke,_b:()=>Mt,aZ:()=>ln,bT:()=>Pr,fw:()=>Ht,hb:()=>_t,hj:()=>Rt,qQ:()=>de});var N=ne(540);let Ie=null;function Pe(){return Ie}function Ke(w){Ie||(Ie=w)}class se{}const de=new N.nKC("DocumentToken");let Ve=(()=>{class w{historyGo(P){throw new Error("Not implemented")}static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275prov=N.jDH({token:w,factory:function(){return(0,N.WQX)(et)},providedIn:"platform"})}}return w})();const Rt=new N.nKC("Location Initialized");let et=(()=>{class w extends Ve{constructor(){super(),this._doc=(0,N.WQX)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pe().getBaseHref(this._doc)}onPopState(P){const F=Pe().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",P,!1),()=>F.removeEventListener("popstate",P)}onHashChange(P){const F=Pe().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",P,!1),()=>F.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,F,ie){this._history.pushState(P,F,ie)}replaceState(P,F,ie){this._history.replaceState(P,F,ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275prov=N.jDH({token:w,factory:function(){return new w},providedIn:"platform"})}}return w})();function he(w,H){if(0==w.length)return H;if(0==H.length)return w;let P=0;return w.endsWith("/")&&P++,H.startsWith("/")&&P++,2==P?w+H.substring(1):1==P?w+H:w+"/"+H}function Ee(w){const H=w.match(/#|\?|$/),P=H&&H.index||w.length;return w.slice(0,P-("/"===w[P-1]?1:0))+w.slice(P)}function qe(w){return w&&"?"!==w[0]?"?"+w:w}let _t=(()=>{class w{historyGo(P){throw new Error("Not implemented")}static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275prov=N.jDH({token:w,factory:function(){return(0,N.WQX)(vt)},providedIn:"root"})}}return w})();const gt=new N.nKC("appBaseHref");let vt=(()=>{class w extends _t{constructor(P,F){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,N.WQX)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return he(this._baseHref,P)}path(P=!1){const F=this._platformLocation.pathname+qe(this._platformLocation.search),ie=this._platformLocation.hash;return ie&&P?`${F}${ie}`:F}pushState(P,F,ie,ke){const Xe=this.prepareExternalUrl(ie+qe(ke));this._platformLocation.pushState(P,F,Xe)}replaceState(P,F,ie,ke){const Xe=this.prepareExternalUrl(ie+qe(ke));this._platformLocation.replaceState(P,F,Xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static{this.\u0275fac=function(F){return new(F||w)(N.KVO(Ve),N.KVO(gt,8))}}static{this.\u0275prov=N.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})(),Ht=(()=>{class w extends _t{constructor(P,F){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(P){const F=he(this._baseHref,P);return F.length>0?"#"+F:F}pushState(P,F,ie,ke){let Xe=this.prepareExternalUrl(ie+qe(ke));0==Xe.length&&(Xe=this._platformLocation.pathname),this._platformLocation.pushState(P,F,Xe)}replaceState(P,F,ie,ke){let Xe=this.prepareExternalUrl(ie+qe(ke));0==Xe.length&&(Xe=this._platformLocation.pathname),this._platformLocation.replaceState(P,F,Xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static{this.\u0275fac=function(F){return new(F||w)(N.KVO(Ve),N.KVO(gt,8))}}static{this.\u0275prov=N.jDH({token:w,factory:w.\u0275fac})}}return w})(),ln=(()=>{class w{constructor(P){this._subject=new N.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const F=this._locationStrategy.getBaseHref();this._basePath=function rt(w){if(new RegExp("^(https?:)?//").test(w)){const[,P]=w.split(/\/\/[^\/]+/);return P}return w}(Ee(mr(F))),this._locationStrategy.onPopState(ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:ie.state,type:ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,F=""){return this.path()==this.normalize(P+qe(F))}normalize(P){return w.stripTrailingSlash(function qn(w,H){if(!w||!H.startsWith(w))return H;const P=H.substring(w.length);return""===P||["/",";","?","#"].includes(P[0])?P:H}(this._basePath,mr(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,F="",ie=null){this._locationStrategy.pushState(ie,"",P,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+qe(F)),ie)}replaceState(P,F="",ie=null){this._locationStrategy.replaceState(ie,"",P,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+qe(F)),ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",F){this._urlChangeListeners.forEach(ie=>ie(P,F))}subscribe(P,F,ie){return this._subject.subscribe({next:P,error:F,complete:ie})}static{this.normalizeQueryParams=qe}static{this.joinWithSlash=he}static{this.stripTrailingSlash=Ee}static{this.\u0275fac=function(F){return new(F||w)(N.KVO(_t))}}static{this.\u0275prov=N.jDH({token:w,factory:function(){return function pn(){return new ln((0,N.KVO)(_t))}()},providedIn:"root"})}}return w})();function mr(w){return w.replace(/\/index.html$/,"")}function Mt(w,H){H=encodeURIComponent(H);for(const P of w.split(";")){const F=P.indexOf("="),[ie,ke]=-1==F?[P,""]:[P.slice(0,F),P.slice(F+1)];if(ie.trim()===H)return decodeURIComponent(ke)}return null}const dn=/\s+/,nn=[];let wn=(()=>{class w{constructor(P,F,ie,ke){this._iterableDiffers=P,this._keyValueDiffers=F,this._ngEl=ie,this._renderer=ke,this.initialClasses=nn,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(dn):nn}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(dn):P}ngDoCheck(){for(const F of this.initialClasses)this._updateState(F,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const F of P)this._updateState(F,!0);else if(null!=P)for(const F of Object.keys(P))this._updateState(F,!!P[F]);this._applyStateDiff()}_updateState(P,F){const ie=this.stateMap.get(P);void 0!==ie?(ie.enabled!==F&&(ie.changed=!0,ie.enabled=F),ie.touched=!0):this.stateMap.set(P,{enabled:F,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const F=P[0],ie=P[1];ie.changed?(this._toggleClass(F,ie.enabled),ie.changed=!1):ie.touched||(ie.enabled&&this._toggleClass(F,!1),this.stateMap.delete(F)),ie.touched=!1}}_toggleClass(P,F){(P=P.trim()).length>0&&P.split(dn).forEach(ie=>{F?this._renderer.addClass(this._ngEl.nativeElement,ie):this._renderer.removeClass(this._ngEl.nativeElement,ie)})}static{this.\u0275fac=function(F){return new(F||w)(N.rXU(N._q3),N.rXU(N.MKu),N.rXU(N.aKT),N.rXU(N.sFG))}}static{this.\u0275dir=N.FsC({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return w})();class rn{constructor(H,P,F,ie){this.$implicit=H,this.ngForOf=P,this.index=F,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fr=(()=>{class w{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,F,ie){this._viewContainer=P,this._template=F,this._differs=ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const F=this._viewContainer;P.forEachOperation((ie,ke,Xe)=>{if(null==ie.previousIndex)F.createEmbeddedView(this._template,new rn(ie.item,this._ngForOf,-1,-1),null===Xe?void 0:Xe);else if(null==Xe)F.remove(null===ke?void 0:ke);else if(null!==ke){const Bt=F.get(ke);F.move(Bt,Xe),Es(Bt,ie)}});for(let ie=0,ke=F.length;ie<ke;ie++){const Bt=F.get(ie).context;Bt.index=ie,Bt.count=ke,Bt.ngForOf=this._ngForOf}P.forEachIdentityChange(ie=>{Es(F.get(ie.currentIndex),ie)})}static ngTemplateContextGuard(P,F){return!0}static{this.\u0275fac=function(F){return new(F||w)(N.rXU(N.c1b),N.rXU(N.C4Q),N.rXU(N._q3))}}static{this.\u0275dir=N.FsC({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return w})();function Es(w,H){w.context.$implicit=H.item}let Pr=(()=>{class w{constructor(P,F){this._viewContainer=P,this._context=new ss,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){os("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){os("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,F){return!0}static{this.\u0275fac=function(F){return new(F||w)(N.rXU(N.c1b),N.rXU(N.C4Q))}}static{this.\u0275dir=N.FsC({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return w})();class ss{constructor(){this.$implicit=null,this.ngIf=null}}function os(w,H){if(H&&!H.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,N.Tbb)(H)}'.`)}let as=(()=>{class w{static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275mod=N.$C({type:w})}static{this.\u0275inj=N.G2t({})}}return w})();const us="browser",ao="server";function vn(w){return w===ao}let Lr=(()=>{class w{static{this.\u0275prov=(0,N.jDH)({token:w,providedIn:"root",factory:()=>new cs((0,N.KVO)(de),window)})}}return w})();class cs{constructor(H,P){this.document=H,this.window=P,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const P=function Or(w,H){const P=w.getElementById(H)||w.getElementsByName(H)[0];if(P)return P;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const F=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let ie=F.currentNode;for(;ie;){const ke=ie.shadowRoot;if(ke){const Xe=ke.getElementById(H)||ke.querySelector(`[name="${H}"]`);if(Xe)return Xe}ie=F.nextNode()}}return null}(this.document,H);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(H){this.supportsScrolling()&&(this.window.history.scrollRestoration=H)}scrollToElement(H){const P=H.getBoundingClientRect(),F=P.left+this.window.pageXOffset,ie=P.top+this.window.pageYOffset,ke=this.offset();this.window.scrollTo(F-ke[0],ie-ke[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ls{}},540:(_n,dt,ne)=>{ne.d(dt,{bc$:()=>Ag,iLQ:()=>DE,sZ2:()=>e_,hnV:()=>Ew,Hbi:()=>Hb,o8S:()=>Sp,BIS:()=>Pf,gRc:()=>Cb,Ql9:()=>KD,Ocv:()=>GD,Z63:()=>Fl,aKT:()=>Lf,uvJ:()=>Eu,zcH:()=>Xc,bkB:()=>Du,$GK:()=>Vt,nKC:()=>_e,zZn:()=>Oa,_q3:()=>ME,MKu:()=>NE,xe9:()=>cy,Co$:()=>bT,Vns:()=>Hh,NEm:()=>Eb,SKi:()=>no,Xx1:()=>Mc,Agw:()=>t_,PLl:()=>Ju,sFG:()=>qE,_9s:()=>lh,czy:()=>Lc,kdw:()=>ju,C4Q:()=>Em,NYb:()=>mb,giA:()=>Cw,xvI:()=>Rg,RxE:()=>Cg,c1b:()=>ay,gXe:()=>nr,L39:()=>eS,Ol2:()=>CT,w6W:()=>b0,oH4:()=>Nw,Rfq:()=>bt,WQX:()=>Wn,QuC:()=>Us,fpN:()=>$b,HJs:()=>nS,O8t:()=>_i,H3F:()=>Iw,H8p:()=>Jm,$K3:()=>Tw,KH2:()=>wp,wOt:()=>be,WHO:()=>bw,e01:()=>Sw,H5H:()=>Zv,mq5:()=>YI,JZv:()=>tn,LfX:()=>Hn,plB:()=>gE,jNT:()=>cp,zjR:()=>Qg,TL$:()=>Ty,Tbb:()=>it,Vt3:()=>R,GFd:()=>Ne,OA$:()=>En,Jv_:()=>DT,aNF:()=>RT,R7$:()=>pv,BMQ:()=>Xf,HbH:()=>Y_,AVh:()=>pp,wni:()=>JT,VBU:()=>so,FsC:()=>Pi,jDH:()=>At,G2t:()=>Lt,$C:()=>Ts,EJ8:()=>Ei,rXU:()=>Wl,nrm:()=>Ph,k0s:()=>Rh,j41:()=>Ch,RV6:()=>U_,xGo:()=>ha,KVO:()=>Er,kS0:()=>wc,QTQ:()=>f_,bIt:()=>lp,lsd:()=>ew,XpG:()=>j_,SdG:()=>H_,NAR:()=>Jg,Y8G:()=>Sh,mGM:()=>ZT,Njj:()=>gc,eBV:()=>pc,B4B:()=>mg,n$t:()=>yg,DNE:()=>x_,EFF:()=>lm,JRh:()=>Ep,SpI:()=>jh});var N=ne(1413),Ie=ne(8359),Pe=ne(1985),Ke=ne(6365),se=ne(8750),de=ne(983),Ve=ne(3794),Rt=ne(8455),he=ne(4412),Ee=ne(7673),qe=ne(7707),_t=ne(9974);function gt(t={}){const{connector:n=(()=>new N.B),resetOnError:i=!0,resetOnComplete:o=!0,resetOnRefCountZero:c=!0}=t;return l=>{let m,I,S,k=0,q=!1,oe=!1;const De=()=>{I?.unsubscribe(),I=void 0},xe=()=>{De(),m=S=void 0,q=oe=!1},st=()=>{const Tt=m;xe(),Tt?.unsubscribe()};return(0,_t.N)((Tt,zt)=>{k++,!oe&&!q&&De();const fn=S=S??n();zt.add(()=>{k--,0===k&&!oe&&!q&&(I=vt(st,c))}),fn.subscribe(zt),!m&&k>0&&(m=new qe.Ms({next:ft=>fn.next(ft),error:ft=>{oe=!0,De(),I=vt(xe,i,ft),fn.error(ft)},complete:()=>{q=!0,De(),I=vt(xe,o),fn.complete()}}),(0,se.Tg)(Tt).subscribe(m))})(l)}}function vt(t,n,...i){if(!0===n)return void t();if(!1===n)return;const o=new qe.Ms({next:()=>{o.unsubscribe(),t()}});return(0,se.Tg)(n(...i)).subscribe(o)}var Ht=ne(5558),ln=ne(3669),pn=ne(4360);function mr(t,n){return t===n}function rt(t){for(let n in t)if(t[n]===rt)return n;throw Error("Could not find renamed property on target object.")}function pt(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function it(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function xt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ut=rt({__forward_ref__:rt});function bt(t){return t.__forward_ref__=bt,t.toString=function(){return it(this())},t}function ot(t){return Zt(t)?t():t}function Zt(t){return"function"==typeof t&&t.hasOwnProperty(Ut)&&t.__forward_ref__===bt}function Gn(t){return t&&!!t.\u0275providers}const mt="https://g.co/ng/security#xss";class be extends Error{constructor(n,i){super(function qt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function wt(t){return"string"==typeof t?t:null==t?"":String(t)}function le(t,n){throw new be(-201,!1)}function _r(t,n){null==t&&function at(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function At(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dn(t){return It(t,vr)||It(t,Cn)}function Hn(t){return null!==Dn(t)}function It(t,n){return t.hasOwnProperty(n)?t[n]:null}function yr(t){return t&&(t.hasOwnProperty(Gi)||t.hasOwnProperty(fi))?t[Gi]:null}const vr=rt({\u0275prov:rt}),Gi=rt({\u0275inj:rt}),Cn=rt({ngInjectableDef:rt}),fi=rt({ngInjectorDef:rt});var Vt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Vt||{});let _s;function or(t){const n=_s;return _s=t,n}function Tr(t,n,i){const o=Dn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&Vt.Optional?null:void 0!==n?n:void le(it(t))}const tn=globalThis;class _e{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=At({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pt={},kt="__NG_DI_FLAG__",sn="ngTempTokenPath",Rr=/\n/gm,Gr="__source";let kr;function Ci(t){const n=kr;return kr=t,n}function ki(t,n=Vt.Default){if(void 0===kr)throw new be(-203,!1);return null===kr?Tr(t,void 0,n):kr.get(t,n&Vt.Optional?null:void 0,n)}function Er(t,n=Vt.Default){return(function xi(){return _s}()||ki)(ot(t),n)}function Wn(t,n=Vt.Default){return Er(t,vs(n))}function vs(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ge(t){const n=[];for(let i=0;i<t.length;i++){const o=ot(t[i]);if(Array.isArray(o)){if(0===o.length)throw new be(900,!1);let c,l=Vt.Default;for(let m=0;m<o.length;m++){const I=o[m],S=nt(I);"number"==typeof S?-1===S?c=I.token:l|=S:c=I}n.push(Er(c,l))}else n.push(Er(o))}return n}function Re(t,n){return t[kt]=n,t.prototype[kt]=n,t}function nt(t){return t[kt]}function nn(t){return{toString:t}.toString()}var wn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wn||{}),nr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(nr||{});const Zn={},rn=[],Fr=rt({\u0275cmp:rt}),Es=rt({\u0275dir:rt}),Yo=rt({\u0275pipe:rt}),Pr=rt({\u0275mod:rt}),ss=rt({\u0275fac:rt}),os=rt({__NG_ELEMENT_ID__:rt}),Ss=rt({__NG_ENV_ID__:rt});function li(t,n,i){let o=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const l=n.length;if(c+l===o||t.charCodeAt(c+l)<=32)return c}i=c+1}}function yo(t,n,i){let o=0;for(;o<i.length;){const c=i[o];if("number"==typeof c){if(0!==c)break;o++;const l=i[o++],m=i[o++],I=i[o++];t.setAttribute(n,m,I,l)}else{const l=c,m=i[++o];ii(l)?t.setProperty(n,l,m):t.setAttribute(n,l,m),o++}}return o}function Po(t){return 3===t||4===t||6===t}function ii(t){return 64===t.charCodeAt(0)}function Yi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?i=c:0===i||Fi(t,i,c,null,-1===i||2===i?n[++o]:null)}}return t}function Fi(t,n,i,o,c){let l=0,m=t.length;if(-1===n)m=-1;else for(;l<t.length;){const I=t[l++];if("number"==typeof I){if(I===n){m=-1;break}if(I>n){m=l-1;break}}}for(;l<t.length;){const I=t[l];if("number"==typeof I)break;if(I===i){if(null===o)return void(null!==c&&(t[l+1]=c));if(o===t[l+1])return void(t[l+2]=c)}l++,null!==o&&l++,null!==c&&l++}-1!==m&&(t.splice(m,0,n),l=m+1),t.splice(l++,0,i),null!==o&&t.splice(l++,0,o),null!==c&&t.splice(l++,0,c)}const pi="ng-template";function io(t,n,i){let o=0,c=!0;for(;o<t.length;){let l=t[o++];if("string"==typeof l&&c){const m=t[o++];if(i&&"class"===l&&-1!==li(m.toLowerCase(),n,0))return!0}else{if(1===l){for(;o<t.length&&"string"==typeof(l=t[o++]);)if(l.toLowerCase()===n)return!0;return!1}"number"==typeof l&&(c=!1)}}return!1}function rr(t){return 4===t.type&&t.value!==pi}function zr(t,n,i){return n===(4!==t.type||i?t.value:pi)}function Mr(t,n,i){let o=4;const c=t.attrs||[],l=function Uo(t){for(let n=0;n<t.length;n++)if(Po(t[n]))return n;return t.length}(c);let m=!1;for(let I=0;I<n.length;I++){const S=n[I];if("number"!=typeof S){if(!m)if(4&o){if(o=2|1&o,""!==S&&!zr(t,S,i)||""===S&&1===n.length){if(Mn(o))return!1;m=!0}}else{const k=8&o?S:n[++I];if(8&o&&null!==t.attrs){if(!io(t.attrs,k,i)){if(Mn(o))return!1;m=!0}continue}const oe=Vo(8&o?"class":S,c,rr(t),i);if(-1===oe){if(Mn(o))return!1;m=!0;continue}if(""!==k){let De;De=oe>l?"":c[oe+1].toLowerCase();const xe=8&o?De:null;if(xe&&-1!==li(xe,k,0)||2&o&&k!==De){if(Mn(o))return!1;m=!0}}}}else{if(!m&&!Mn(o)&&!Mn(S))return!1;if(m&&Mn(S))continue;m=!1,o=S|1&o}}return Mn(o)||m}function Mn(t){return 0==(1&t)}function Vo(t,n,i,o){if(null===n)return-1;let c=0;if(o||!i){let l=!1;for(;c<n.length;){const m=n[c];if(m===t)return c;if(3===m||6===m)l=!0;else{if(1===m||2===m){let I=n[++c];for(;"string"==typeof I;)I=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=l?1:2}return-1}return function Va(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function Is(t,n,i=!1){for(let o=0;o<n.length;o++)if(Mr(t,n[o],i))return!0;return!1}function Ar(t,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(t.length===o.length){for(let c=0;c<t.length;c++)if(t[c]!==o[c])continue e;return!0}}return!1}function Mo(t,n){return t?":not("+n.trim()+")":n}function Zi(t){let n=t[0],i=1,o=2,c="",l=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&o){const I=t[++i];c+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?c+="."+m:4&o&&(c+=" "+m);else""!==c&&!Mn(m)&&(n+=Mo(l,c),c=""),o=m,l=l||!Mn(o);i++}return""!==c&&(n+=Mo(l,c)),n}function so(t){return nn(()=>{const n=va(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||nr.Emulated,styles:t.styles||rn,_:null,schemas:t.schemas||null,tView:null,id:""};as(i);const o=t.dependencies;return i.directiveDefs=us(o,!1),i.pipeDefs=us(o,!0),i.id=function Cs(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Ys(t){return Vn(t)||Qn(t)}function oo(t){return null!==t}function Ts(t){return nn(()=>({type:t.type,bootstrap:t.bootstrap||rn,declarations:t.declarations||rn,imports:t.imports||rn,exports:t.exports||rn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qi(t,n){if(null==t)return Zn;const i={};for(const o in t)if(t.hasOwnProperty(o)){let c=t[o],l=c;Array.isArray(c)&&(l=c[1],c=c[0]),i[c]=o,n&&(n[c]=l)}return i}function Pi(t){return nn(()=>{const n=va(t);return as(n),n})}function Ei(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Vn(t){return t[Fr]||null}function Qn(t){return t[Es]||null}function $r(t){return t[Yo]||null}function Us(t){const n=Vn(t)||Qn(t)||$r(t);return null!==n&&n.standalone}function Xr(t,n){const i=t[Pr]||null;if(!i&&!0===n)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return i}function va(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Zn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||rn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qi(t.inputs,n),outputs:qi(t.outputs)}}function as(t){t.features?.forEach(n=>n(t))}function us(t,n){if(!t)return null;const i=n?$r:Ys;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(oo)}const Nr=0,jt=1,vn=2,br=3,Ii=4,Bs=5,Lr=6,cs=7,Or=8,Ki=9,ls=10,Yt=11,ws=12,hr=13,ji=14,Vr=15,uo=16,$i=17,Hi=18,js=19,bn=20,Xn=21,gi=22,vo=23,Zs=24,Sn=25,co=1,Zo=2,Wr=7,ds=9,mi=11;function di(t){return Array.isArray(t)&&"object"==typeof t[co]}function B(t){return Array.isArray(t)&&!0===t[co]}function $(t){return 0!=(4&t.flags)}function ae(t){return t.componentOffset>-1}function ce(t){return 1==(1&t.flags)}function Se(t){return!!t.template}function Qe(t){return 0!=(512&t[vn])}function Mi(t,n){return t.hasOwnProperty(ss)?t[ss]:null}let Zr=null,Hs=!1;function Jr(t){const n=Zr;return Zr=t,n}const Ua={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ja(t){if(!ve(t)||t.dirty){if(!t.producerMustRecompute(t)&&!O(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function z(t){t.dirty=!0,function Eo(t){if(void 0===t.liveConsumerNode)return;const n=Hs;Hs=!0;try{for(const i of t.liveConsumerNode)i.dirty||z(i)}finally{Hs=n}}(t),t.consumerMarkedDirty?.(t)}function _(t){return t&&(t.nextProducerIndex=0),Jr(t)}function T(t,n){if(Jr(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ve(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ge(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function O(t){je(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(Ja(i),o!==i.version))return!0}return!1}function G(t){if(je(t),ve(t))for(let n=0;n<t.producerNode.length;n++)ge(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ge(t,n){if(function Ze(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),je(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)ge(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];je(c),c.producerIndexOfThis[o]=n}}function ve(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function je(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ie=null;function _i(t){const n=Jr(null);try{return t()}finally{Jr(n)}}const ai=()=>{},Ms=(()=>({...Ua,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:ai}))();class Jt{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function En(){return lr}function lr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ds),Li}function Li(){const t=No(this),n=t?.current;if(n){const i=t.previous;if(i===Zn)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Ds(t,n,i,o){const c=this.declaredInputs[i],l=No(t)||function Rn(t,n){return t[bs]=n}(t,{previous:Zn,current:null}),m=l.current||(l.current={}),I=l.previous,S=I[c];m[c]=new Jt(S&&S.currentValue,n,I===Zn),t[o]=n}En.ngInherit=!0;const bs="__ngSimpleChanges__";function No(t){return t[bs]||null}const ei=function(t,n,i){};function Jn(t){for(;Array.isArray(t);)t=t[Nr];return t}function eu(t,n){return Jn(n[t])}function Vi(t,n){return Jn(n[t.index])}function na(t,n){return t.data[n]}function Os(t,n){const i=n[t];return di(i)?i:i[Nr]}function jo(t,n){return null==n?null:t[n]}function Pu(t){t[$i]=0}function tu(t){1024&t[vn]||(t[vn]|=1024,nu(t,1))}function $o(t){1024&t[vn]&&(t[vn]&=-1025,nu(t,-1))}function nu(t,n){let i=t[br];if(null===i)return;i[Bs]+=n;let o=i;for(i=i[br];null!==i&&(1===n&&1===o[Bs]||-1===n&&0===o[Bs]);)i[Bs]+=n,o=i,i=i[br]}const Nn={lFrame:dr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dc(){return Nn.bindingsEnabled}function xo(){return null!==Nn.skipHydrationRootTNode}function ht(){return Nn.lFrame.lView}function Ir(){return Nn.lFrame.tView}function pc(t){return Nn.lFrame.contextLView=t,t[Or]}function gc(t){return Nn.lFrame.contextLView=null,t}function ps(){let t=Ho();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ho(){return Nn.lFrame.currentTNode}function zs(t,n){const i=Nn.lFrame;i.currentTNode=t,i.isParent=n}function wa(){return Nn.lFrame.isParent}function Ba(){Nn.lFrame.isParent=!1}function su(){return Nn.lFrame.bindingIndex++}function ks(t){const n=Nn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function y(t,n){const i=Nn.lFrame;i.bindingIndex=i.bindingRootIndex=t,x(n)}function x(t){Nn.lFrame.currentDirectiveIndex=t}function ue(){return Nn.lFrame.currentQueryIndex}function $e(t){Nn.lFrame.currentQueryIndex=t}function Ue(t){const n=t[jt];return 2===n.type?n.declTNode:1===n.type?t[Lr]:null}function Ft(t,n,i){if(i&Vt.SkipSelf){let c=n,l=t;for(;!(c=c.parent,null!==c||i&Vt.Host||(c=Ue(l),null===c||(l=l[ji],10&c.type))););if(null===c)return!1;n=c,t=l}const o=Nn.lFrame=fr();return o.currentTNode=n,o.lView=t,!0}function In(t){const n=fr(),i=t[jt];Nn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function fr(){const t=Nn.lFrame,n=null===t?null:t.child;return null===n?dr(t):n}function dr(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function To(){const t=Nn.lFrame;return Nn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ia=To;function zo(){const t=To();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gs(){return Nn.lFrame.selectedIndex}function ja(t){Nn.lFrame.selectedIndex=t}function yi(){const t=Nn.lFrame;return na(t.tView,t.selectedIndex)}let _c=!0;function Mu(){return _c}function sa(t){_c=t}function oa(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const l=t.data[i].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:S,ngAfterViewChecked:k,ngOnDestroy:q}=l;m&&(t.contentHooks??=[]).push(-i,m),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),S&&(t.viewHooks??=[]).push(-i,S),k&&((t.viewHooks??=[]).push(i,k),(t.viewCheckHooks??=[]).push(i,k)),null!=q&&(t.destroyHooks??=[]).push(i,q)}}function ba(t,n,i){hd(t,n,3,i)}function Fs(t,n,i,o){(3&t[vn])===i&&hd(t,n,i,o)}function Nu(t,n){let i=t[vn];(3&i)===n&&(i&=8191,i+=1,t[vn]=i)}function hd(t,n,i,o){const l=o??-1,m=n.length-1;let I=0;for(let S=void 0!==o?65535&t[$i]:0;S<m;S++)if("number"==typeof n[S+1]){if(I=n[S],null!=o&&I>=o)break}else n[S]<0&&(t[$i]+=65536),(I<l||-1==l)&&(Pp(t,i,n,S),t[$i]=(4294901760&t[$i])+S+2),S++}function fd(t,n){ei(4,t,n);const i=Jr(null);try{n.call(t)}finally{Jr(i),ei(5,t,n)}}function Pp(t,n,i,o){const c=i[o]<0,l=i[o+1],I=t[c?-i[o]:i[o]];c?t[vn]>>13<t[$i]>>16&&(3&t[vn])===n&&(t[vn]+=8192,fd(I,l)):fd(I,l)}const aa=-1;class uu{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function pd(t){return t!==aa}function ua(t){return 32767&t}function Sa(t,n){let i=function xu(t){return t>>16}(t),o=n;for(;i>0;)o=o[ji],i--;return o}let ca=!0;function lu(t){const n=ca;return ca=t,n}const Ws=255,md=5;let vc=0;const ho={};function Go(t,n){const i=Wh(t,n);if(-1!==i)return i;const o=n[jt];o.firstCreatePass&&(t.injectorIndex=n.length,la(o.data,t),la(n,null),la(o.blueprint,null));const c=da(t,n),l=t.injectorIndex;if(pd(c)){const m=ua(c),I=Sa(c,n),S=I[jt].data;for(let k=0;k<8;k++)n[l+k]=I[m+k]|S[m+k]}return n[l+8]=c,l}function la(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Wh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function da(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,c=n;for(;null!==c;){if(o=Td(c),null===o)return aa;if(i++,c=c[ji],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return aa}function Ec(t,n,i){!function Op(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(os)&&(o=i[os]),null==o&&(o=i[os]=vc++);const c=o&Ws;n.data[t+(c>>md)]|=1<<c}(t,n,i)}function _d(t,n,i){if(i&Vt.Optional||void 0!==t)return t;le()}function Wo(t,n,i,o){if(i&Vt.Optional&&void 0===o&&(o=null),!(i&(Vt.Self|Vt.Host))){const c=t[Ki],l=or(void 0);try{return c?c.get(n,o,i&Vt.Optional):Tr(n,o,i&Vt.Optional)}finally{or(l)}}return _d(o,0,i)}function qh(t,n,i,o=Vt.Default,c){if(null!==t){if(2048&n[vn]&&!(o&Vt.Self)){const m=function Qh(t,n,i,o,c){let l=t,m=n;for(;null!==l&&null!==m&&2048&m[vn]&&!(512&m[vn]);){const I=ll(l,m,i,o|Vt.Self,ho);if(I!==ho)return I;let S=l.parent;if(!S){const k=m[bn];if(k){const q=k.get(i,ho,o);if(q!==ho)return q}S=Td(m),m=m[ji]}l=S}return c}(t,n,i,o,ho);if(m!==ho)return m}const l=ll(t,n,i,o,ho);if(l!==ho)return l}return Wo(n,i,o,c)}function ll(t,n,i,o,c){const l=function vd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(os)?t[os]:void 0;return"number"==typeof n?n>=0?n&Ws:Kh:n}(i);if("function"==typeof l){if(!Ft(n,t,o))return o&Vt.Host?_d(c,0,o):Wo(n,i,o,c);try{let m;if(m=l(o),null!=m||o&Vt.Optional)return m;le()}finally{ia()}}else if("number"==typeof l){let m=null,I=Wh(t,n),S=aa,k=o&Vt.Host?n[Vr][Lr]:null;for((-1===I||o&Vt.SkipSelf)&&(S=-1===I?da(t,n):n[I+8],S!==aa&&Ed(o,!1)?(m=n[jt],I=ua(S),n=Sa(S,n)):I=-1);-1!==I;){const q=n[jt];if(Tc(l,I,q.data)){const oe=yd(I,n,i,m,o,k);if(oe!==ho)return oe}S=n[I+8],S!==aa&&Ed(o,n[jt].data[I+8]===k)&&Tc(l,I,n)?(m=q,I=ua(S),n=Sa(S,n)):I=-1}}return c}function yd(t,n,i,o,c,l){const m=n[jt],I=m.data[t+8],q=ku(I,m,i,null==o?ae(I)&&ca:o!=m&&0!=(3&I.type),c&Vt.Host&&l===I);return null!==q?Ca(n,m,q,I):ho}function ku(t,n,i,o,c){const l=t.providerIndexes,m=n.data,I=1048575&l,S=t.directiveStart,q=l>>20,De=c?I+q:t.directiveEnd;for(let xe=o?I:I+q;xe<De;xe++){const st=m[xe];if(xe<S&&i===st||xe>=S&&st.type===i)return xe}if(c){const xe=m[S];if(xe&&Se(xe)&&xe.type===i)return S}return null}function Ca(t,n,i,o){let c=t[i];const l=n.data;if(function Mp(t){return t instanceof uu}(c)){const m=c;m.resolving&&function St(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new be(-200,`Circular dependency in DI detected for ${t}${i}`)}(function mn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():wt(t)}(l[i]));const I=lu(m.canSeeViewProviders);m.resolving=!0;const k=m.injectImpl?or(m.injectImpl):null;Ft(t,o,Vt.Default);try{c=t[i]=m.factory(void 0,l,t,o),n.firstCreatePass&&i>=o.directiveStart&&function Am(t,n,i){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:l}=n.type.prototype;if(o){const m=lr(n);(i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m)}c&&(i.preOrderHooks??=[]).push(0-t,c),l&&((i.preOrderHooks??=[]).push(t,l),(i.preOrderCheckHooks??=[]).push(t,l))}(i,l[i],n)}finally{null!==k&&or(k),lu(I),m.resolving=!1,ia()}}return c}function Tc(t,n,i){return!!(i[n+(t>>md)]&1<<t)}function Ed(t,n){return!(t&Vt.Self||t&Vt.Host&&n)}class to{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return qh(this._tNode,this._lView,n,vs(o),i)}}function Kh(){return new to(ps(),ht())}function ha(t){return nn(()=>{const n=t.prototype.constructor,i=n[ss]||du(n),o=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==o;){const l=c[ss]||du(c);if(l&&l!==i)return l;c=Object.getPrototypeOf(c)}return l=>new l})}function du(t){return Zt(t)?()=>{const n=du(ot(t));return n&&n()}:Mi(t)}function Td(t){const n=t[jt],i=n.type;return 2===i?n.declTNode:1===i?t[Lr]:null}function wc(t){return function Ic(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let c=0;for(;c<o;){const l=i[c];if(Po(l))break;if(0===l)c+=2;else if("number"==typeof l)for(c++;c<o&&"string"==typeof i[c];)c++;else{if(l===n)return i[c+1];c+=2}}}return null}(ps(),t)}const Lu="__parameters__";function Ui(t,n,i){return nn(()=>{const o=function $a(t){return function(...i){if(t){const o=t(...i);for(const c in o)this[c]=o[c]}}}(n);function c(...l){if(this instanceof c)return o.apply(this,l),this;const m=new c(...l);return I.annotation=m,I;function I(S,k,q){const oe=S.hasOwnProperty(Lu)?S[Lu]:Object.defineProperty(S,Lu,{value:[]})[Lu];for(;oe.length<=q;)oe.push(null);return(oe[q]=oe[q]||[]).push(m),S}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Uu(t,n){t.forEach(i=>Array.isArray(i)?Uu(i,n):n(i))}function bd(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function dl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function pu(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}function wo(t,n,i){let o=gu(t,n);return o>=0?t[1|o]=i:(o=~o,function Sd(t,n,i,o){let c=t.length;if(c==n)t.push(i,o);else if(1===c)t.push(o,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function bc(t,n){const i=gu(t,n);if(i>=0)return t[1|i]}function gu(t,n){return function Bu(t,n,i){let o=0,c=t.length>>i;for(;c!==o;){const l=o+(c-o>>1),m=t[l<<i];if(n===m)return l<<i;m>n?c=l:o=l+1}return~(c<<i)}(t,n,1)}const Mc=Re(Ui("Optional"),8),ju=Re(Ui("SkipSelf"),4);function Fc(t){return 128==(128&t.flags)}var Lc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Lc||{});const sf=new Map;let Xp=0;const wl="__ngContext__";function qs(t,n){di(n)?(t[wl]=n[js],function km(t){sf.set(t[js],t)}(n)):t[wl]=n}let Z;function Ae(t,n){return Z(t,n)}function ct(t){const n=t[br];return B(n)?n[br]:n}function jn(t){return Do(t[ws])}function ui(t){return Do(t[Ii])}function Do(t){for(;null!==t&&!B(t);)t=t[Ii];return t}function bo(t,n,i,o,c){if(null!=o){let l,m=!1;B(o)?l=o:di(o)&&(m=!0,o=o[Nr]);const I=Jn(o);0===t&&null!==i?null==c?df(n,i,I):vu(n,i,I,c||null,!0):1===t&&null!==i?vu(n,i,I,c||null,!0):2===t?function Ml(t,n,i){const o=Rl(t,n);o&&function ng(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,I,m):3===t&&n.destroyNode(I),null!=l&&function Bm(t,n,i,o,c){const l=i[Wr];l!==Jn(i)&&bo(n,t,o,l,c);for(let I=mi;I<i.length;I++){const S=i[I];Bc(S[jt],S,t,n,o,l)}}(n,t,l,i,c)}}function Ku(t,n,i){return t.createElement(n,i)}function Sl(t,n){const i=t[ds],o=i.indexOf(n);$o(n),i.splice(o,1)}function Cl(t,n){if(t.length<=mi)return;const i=mi+n,o=t[i];if(o){const c=o[uo];null!==c&&c!==t&&Sl(c,o),n>0&&(t[i-1][Ii]=o[Ii]);const l=dl(t,mi+n);!function Bd(t,n){Bc(t,n,n[Yt],2,null,null),n[Nr]=null,n[Lr]=null}(o[jt],o);const m=l[Hi];null!==m&&m.detachView(l[jt]),o[br]=null,o[Ii]=null,o[vn]&=-129}return o}function eg(t,n){if(!(256&n[vn])){const i=n[Yt];n[vo]&&G(n[vo]),n[Zs]&&G(n[Zs]),i.destroyNode&&Bc(t,n,i,3,null,null),function bl(t){let n=t[ws];if(!n)return zd(t[jt],t);for(;n;){let i=null;if(di(n))i=n[ws];else{const o=n[mi];o&&(i=o)}if(!i){for(;n&&!n[Ii]&&n!==t;)di(n)&&zd(n[jt],n),n=n[br];null===n&&(n=t),di(n)&&zd(n[jt],n),i=n&&n[Ii]}n=i}}(n)}}function zd(t,n){if(!(256&n[vn])){n[vn]&=-129,n[vn]|=256,function tg(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const c=n[i[o]];if(!(c instanceof uu)){const l=i[o+1];if(Array.isArray(l))for(let m=0;m<l.length;m+=2){const I=c[l[m]],S=l[m+1];ei(4,I,S);try{S.call(I)}finally{ei(5,I,S)}}else{ei(4,c,l);try{l.call(c)}finally{ei(5,c,l)}}}}}(t,n),function my(t,n){const i=t.cleanup,o=n[cs];if(null!==i)for(let l=0;l<i.length-1;l+=2)if("string"==typeof i[l]){const m=i[l+3];m>=0?o[m]():o[-m].unsubscribe(),l+=2}else i[l].call(o[i[l+1]]);null!==o&&(n[cs]=null);const c=n[Xn];if(null!==c){n[Xn]=null;for(let l=0;l<c.length;l++)(0,c[l])()}}(t,n),1===n[jt].type&&n[Yt].destroy();const i=n[uo];if(null!==i&&B(n[br])){i!==n[br]&&Sl(i,n);const o=n[Hi];null!==o&&o.detachView(t)}!function Fm(t){sf.delete(t[js])}(n)}}function cf(t,n,i){return function lf(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[Nr];{const{componentOffset:c}=o;if(c>-1){const{encapsulation:l}=t.data[o.directiveStart+c];if(l===nr.None||l===nr.Emulated)return null}return Vi(o,i)}}(t,n.parent,i)}function vu(t,n,i,o,c){t.insertBefore(n,i,o,c)}function df(t,n,i){t.appendChild(n,i)}function Lm(t,n,i,o,c){null!==o?vu(t,n,i,o,c):df(t,n,i)}function Rl(t,n){return t.parentNode(n)}function hf(t,n,i){return ff(t,n,i)}let pf,qd,_f,ff=function rg(t,n,i){return 40&t.type?Vi(t,i):null};function Pl(t,n,i,o){const c=cf(t,o,n),l=n[Yt],I=hf(o.parent||n[Lr],o,n);if(null!=c)if(Array.isArray(i))for(let S=0;S<i.length;S++)Lm(l,c,i[S],I,!1);else Lm(l,c,i,I,!1);void 0!==pf&&pf(l,o,n,i,c)}function Gd(t,n){if(null!==n){const i=n.type;if(3&i)return Vi(n,t);if(4&i)return ig(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return Gd(t,o);{const c=t[n.index];return B(c)?ig(-1,c):Jn(c)}}if(32&i)return Ae(n,t)()||Jn(t[n.index]);{const o=gf(t,n);return null!==o?Array.isArray(o)?o[0]:Gd(ct(t[Vr]),o):Gd(t,n.next)}}return null}function gf(t,n){return null!==n?t[Vr][Lr].projection[n.projection]:null}function ig(t,n){const i=mi+t+1;if(i<n.length){const o=n[i],c=o[jt].firstChild;if(null!==c)return Gd(o,c)}return n[Wr]}function Wd(t,n,i,o,c,l,m){for(;null!=i;){const I=o[i.index],S=i.type;if(m&&0===n&&(I&&qs(Jn(I),o),i.flags|=2),32!=(32&i.flags))if(8&S)Wd(t,n,i.child,o,c,l,!1),bo(n,t,c,I,l);else if(32&S){const k=Ae(i,o);let q;for(;q=k();)bo(n,t,c,q,l);bo(n,t,c,I,l)}else 16&S?jc(t,n,o,i,c,l):bo(n,t,c,I,l);i=m?i.projectionNext:i.next}}function Bc(t,n,i,o,c,l){Wd(i,o,t.firstChild,n,c,l,!1)}function jc(t,n,i,o,c,l){const m=i[Vr],S=m[Lr].projection[o.projection];if(Array.isArray(S))for(let k=0;k<S.length;k++)bo(n,t,c,S[k],l);else{let k=S;const q=m[br];Fc(o)&&(k.flags|=128),Wd(t,n,k,q,c,l,!0)}}function mf(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function za(t,n,i){const{mergedAttrs:o,classes:c,styles:l}=i;null!==o&&yo(t,n,o),null!==c&&mf(t,n,c),null!==l&&function yy(t,n,i){t.setAttribute(n,"style",i)}(t,n,l)}function Ty(t){qd=t}function cg(t){return function Kd(){if(void 0===_f&&(_f=null,tn.trustedTypes))try{_f=tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _f}()?.createScriptURL(t)||t}class $m{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}function Ga(t){return t instanceof $m?t.changingThisBreaksApplicationSecurity:t}function Qd(t,n){const i=function Ol(t){return t instanceof $m&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${mt})`)}return i===n}const Py=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var kl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(kl||{});function mg(t){const n=pr();return n?n.sanitize(kl.URL,t)||"":Qd(t,"URL")?Ga(t):function Zd(t){return(t=String(t)).match(Py)?t:"unsafe:"+t}(wt(t))}function qm(t){const n=pr();if(n)return cg(n.sanitize(kl.RESOURCE_URL,t)||"");if(Qd(t,"ResourceURL"))return cg(Ga(t));throw new be(904,!1)}function yg(t,n,i){return function Uy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?qm:mg}(n,i)(t)}function pr(){const t=ht();return t&&t[ls].sanitizer}const Fl=new _e("ENVIRONMENT_INITIALIZER"),Eg=new _e("INJECTOR",-1),Ll=new _e("INJECTOR_DEF_TYPES");class Ig{get(n,i=Pt){if(i===Pt){const o=new Error(`NullInjectorError: No provider for ${it(n)}!`);throw o.name="NullInjectorError",o}return i}}function gs(...t){return{\u0275providers:Na(0,t),\u0275fromNgModule:!0}}function Na(t,...n){const i=[],o=new Set;let c;const l=m=>{i.push(m)};return Uu(n,m=>{const I=m;Tg(I,l,[],o)&&(c||=[],c.push(I))}),void 0!==c&&jy(c,l),i}function jy(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:c}=t[i];Xm(c,l=>{n(l,o)})}}function Tg(t,n,i,o){if(!(t=ot(t)))return!1;let c=null,l=yr(t);const m=!l&&Vn(t);if(l||m){if(m&&!m.standalone)return!1;c=t}else{const S=t.ngModule;if(l=yr(S),!l)return!1;c=S}const I=o.has(c);if(m){if(I)return!1;if(o.add(c),m.dependencies){const S="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const k of S)Tg(k,n,i,o)}}else{if(!l)return!1;{if(null!=l.imports&&!I){let k;o.add(c);try{Uu(l.imports,q=>{Tg(q,n,i,o)&&(k||=[],k.push(q))})}finally{}void 0!==k&&jy(k,n)}if(!I){const k=Mi(c)||(()=>new c);n({provide:c,useFactory:k,deps:rn},c),n({provide:Ll,useValue:c,multi:!0},c),n({provide:Fl,useValue:()=>Er(c),multi:!0},c)}const S=l.providers;if(null!=S&&!I){const k=t;Xm(S,q=>{n(q,k)})}}}return c!==t&&void 0!==t.providers}function Xm(t,n){for(let i of t)Gn(i)&&(i=i.\u0275providers),Array.isArray(i)?Xm(i,n):n(i)}const Ym=rt({provide:String,useValue:rt});function Df(t){return null!==t&&"object"==typeof t&&Ym in t}function Vl(t){return"function"==typeof t}const Jm=new _e("Set Injector scope."),Sf={},Xi={};let Cf;function wg(){return void 0===Cf&&(Cf=new Ig),Cf}class Eu{}class Zu extends Eu{get destroyed(){return this._destroyed}constructor(n,i,o,c){super(),this.parent=i,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hc(n,m=>this.processProvider(m)),this.records.set(Eg,Jd(void 0,this)),c.has("environment")&&this.records.set(Eu,Jd(void 0,this));const l=this.records.get(Jm);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Ll.multi,rn,Vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Ci(this),o=or(void 0);try{return n()}finally{Ci(i),or(o)}}get(n,i=Pt,o=Vt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ss))return n[Ss](this);o=vs(o);const l=Ci(this),m=or(void 0);try{if(!(o&Vt.SkipSelf)){let S=this.records.get(n);if(void 0===S){const k=function jE(t){return"function"==typeof t||"object"==typeof t&&t instanceof _e}(n)&&Dn(n);S=k&&this.injectableDefInScope(k)?Jd(Rf(n),Sf):null,this.records.set(n,S)}if(null!=S)return this.hydrate(n,S)}return(o&Vt.Self?wg():this.parent).get(n,i=o&Vt.Optional&&i===Pt?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[sn]=I[sn]||[]).unshift(it(n)),l)throw I;return function Mt(t,n,i,o){const c=t[sn];throw n[Gr]&&c.unshift(n[Gr]),t.message=function dn(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=it(n);if(Array.isArray(n))c=n.map(it).join(" -> ");else if("object"==typeof n){let l=[];for(let m in n)if(n.hasOwnProperty(m)){let I=n[m];l.push(m+":"+("string"==typeof I?JSON.stringify(I):it(I)))}c=`{${l.join(", ")}}`}return`${i}${o?"("+o+")":""}[${c}]: ${t.replace(Rr,"\n  ")}`}("\n"+t.message,c,i,o),t.ngTokenPath=c,t[sn]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{or(m),Ci(l)}}resolveInjectorInitializers(){const n=Ci(this),i=or(void 0);try{const c=this.get(Fl.multi,rn,Vt.Self);for(const l of c)l()}finally{Ci(n),or(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(it(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(n){let i=Vl(n=ot(n))?n:ot(n&&n.provide);const o=function VE(t){return Df(t)?Jd(void 0,t.useValue):Jd(Hy(t),Sf)}(n);if(Vl(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=Jd(void 0,Sf,!0),c.factory=()=>Ge(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===Sf&&(i.value=Xi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function BE(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ot(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Rf(t){const n=Dn(t),i=null!==n?n.factory:Mi(t);if(null!==i)return i;if(t instanceof _e)throw new be(204,!1);if(t instanceof Function)return function LE(t){const n=t.length;if(n>0)throw pu(n,"?"),new be(204,!1);const i=function Ln(t){return t&&(t[vr]||t[Cn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new be(204,!1)}function Hy(t,n,i){let o;if(Vl(t)){const c=ot(t);return Mi(c)||Rf(c)}if(Df(t))o=()=>ot(t.useValue);else if(function Zm(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Ge(t.deps||[]));else if(function bf(t){return!(!t||!t.useExisting)}(t))o=()=>Er(ot(t.useExisting));else{const c=ot(t&&(t.useClass||t.provide));if(!function UE(t){return!!t.deps}(t))return Mi(c)||Rf(c);o=()=>new c(...Ge(t.deps))}return o}function Jd(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Hc(t,n){for(const i of t)Array.isArray(i)?Hc(i,n):i&&Gn(i)?Hc(i.\u0275providers,n):n(i)}const e_=new _e("AppId",{providedIn:"root",factory:()=>zc}),zc="ng",Ju=new _e("Platform Initializer"),t_=new _e("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ag=new _e("AnimationModuleType"),Pf=new _e("CSP nonce",{providedIn:"root",factory:()=>function Xu(){if(void 0!==qd)return qd;if(typeof document<"u")return document;throw new be(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Of=(t,n,i)=>null;function $l(t,n,i=!1){return Of(t,n,i)}class Hl{}class Qy{}class Ff{resolveComponentFactory(n){throw function zE(t){const n=Error(`No component factory found for ${it(t)}.`);return n.ngComponent=t,n}(n)}}let Sg=(()=>{class t{static{this.NULL=new Ff}}return t})();function GE(){return Au(ps(),ht())}function Au(t,n){return new Lf(Vi(t,n))}let Lf=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=GE}}return t})();function WE(t){return t instanceof Lf?t.nativeElement:t}class lh{}let qE=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function KE(){const t=ht(),i=Os(ps().index,t);return(di(i)?i:t)[Yt]}()}}return t})(),i_=(()=>{class t{static{this.\u0275prov=At({token:t,providedIn:"root",factory:()=>null})}}return t})();class Cg{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Rg=new Cg("16.2.12"),Vf={};function fh(t,n=null,i=null,o){const c=Qc(t,n,i,o);return c.resolveInjectorInitializers(),c}function Qc(t,n=null,i=null,o,c=new Set){const l=[i||rn,gs(t)];return o=o||("object"==typeof t?void 0:it(t)),new Zu(l,n||wg(),o||null,c)}let Oa=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Pt}static{this.NULL=new Ig}static create(i,o){if(Array.isArray(i))return fh({name:""},o,i,"");{const c=i.name??"";return fh({name:c},i.parent,i.providers,c)}}static{this.\u0275prov=At({token:t,providedIn:"any",factory:()=>Er(Eg)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Wa(t){return t.ngOriginalError}class Xc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Wa(n);for(;i&&Wa(i);)i=Wa(i);return i||null}}function s_(t){return n=>{setTimeout(t,void 0,n)}}const Du=class JE extends N.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let c=n,l=i||(()=>null),m=o;if(n&&"object"==typeof n){const S=n;c=S.next?.bind(S),l=S.error?.bind(S),m=S.complete?.bind(S)}this.__isAsync&&(l=s_(l),c&&(c=s_(c)),m&&(m=s_(m)));const I=super.subscribe({next:c,error:l,complete:m});return n instanceof Ie.yU&&n.add(I),I}};function nv(...t){}class no{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Du(!1),this.onMicrotaskEmpty=new Du(!1),this.onStable=new Du(!1),this.onError=new Du(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&i,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function eI(){const t="function"==typeof tn.requestAnimationFrame;let n=tn[t?"requestAnimationFrame":"setTimeout"],i=tn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function rv(t){const n=()=>{!function tI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(tn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Mg(t),t.isCheckStableRunning=!0,gh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Mg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,c,l,m,I)=>{if(function nI(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(c,l,m,I);try{return o_(t),i.invokeTask(c,l,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),a_(t)}},onInvoke:(i,o,c,l,m,I,S)=>{try{return o_(t),i.invoke(c,l,m,I,S)}finally{t.shouldCoalesceRunChangeDetection&&n(),a_(t)}},onHasTask:(i,o,c,l)=>{i.hasTask(c,l),o===c&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,Mg(t),gh(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(i,o,c,l)=>(i.handleError(c,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!no.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(no.isInAngularZone())throw new be(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,c){const l=this._inner,m=l.scheduleEventTask("NgZoneEvent: "+c,n,ph,nv,nv);try{return l.runTask(m,i,o)}finally{l.cancelTask(m)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const ph={};function gh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function o_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function a_(t){t._nesting--,gh(t)}class iv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Du,this.onMicrotaskEmpty=new Du,this.onStable=new Du,this.onError=new Du}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,c){return n.apply(i,o)}}const sv=new _e("",{providedIn:"root",factory:ov});function ov(){const t=Wn(no);let n=!0;return function et(...t){const n=(0,Ve.lI)(t),i=(0,Ve.R0)(t,1/0),o=t;return o.length?1===o.length?(0,se.Tg)(o[0]):(0,Ke.U)(i)((0,Rt.H)(o,n)):de.w}(new Pe.c(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),new Pe.c(c=>{let l;t.runOutsideAngular(()=>{l=t.onStable.subscribe(()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const m=t.onUnstable.subscribe(()=>{no.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),m.unsubscribe()}}).pipe(gt()))}function tc(t){return t instanceof Function?t():t}let l_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=At({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Bf(t){for(;t;){t[vn]|=64;const n=ct(t);if(Qe(t)&&!n)return t;t=n}return null}const dv=new _e("",{providedIn:"root",factory:()=>!1});let kg=null;function fv(t,n){return t[n]??Fg()}function jf(t,n){const i=Fg();i.producerNode?.length&&(t[n]=kg,i.lView=t,kg=mh())}const $f={...Ua,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bf(t.lView)},lView:null};function mh(){return Object.create($f)}function Fg(){return kg??=mh(),kg}const sr={};function pv(t){Hf(Ir(),ht(),Gs()+t,!1)}function Hf(t,n,i,o){if(!o)if(3==(3&n[vn])){const l=t.preOrderCheckHooks;null!==l&&ba(n,l,i)}else{const l=t.preOrderHooks;null!==l&&Fs(n,l,0,i)}ja(i)}function Wl(t,n=Vt.Default){const i=ht();return null===i?Er(t,n):qh(ps(),i,ot(t),n)}function f_(){throw new Error("invalid")}function zf(t,n,i,o,c,l,m,I,S,k,q){const oe=n.blueprint.slice();return oe[Nr]=c,oe[vn]=140|o,(null!==k||t&&2048&t[vn])&&(oe[vn]|=2048),Pu(oe),oe[br]=oe[ji]=t,oe[Or]=i,oe[ls]=m||t&&t[ls],oe[Yt]=I||t&&t[Yt],oe[Ki]=S||t&&t[Ki]||null,oe[Lr]=l,oe[js]=function Yp(){return Xp++}(),oe[gi]=q,oe[bn]=k,oe[Vr]=2==n.type?t[Vr]:oe,oe}function ql(t,n,i,o,c){let l=t.data[n];if(null===l)l=function Lg(t,n,i,o,c){const l=Ho(),m=wa(),S=t.data[n]=function fI(t,n,i,o,c,l){let m=n?n.injectorIndex:-1,I=0;return xo()&&(I|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?l:l&&l.parent,i,n,o,c);return null===t.firstChild&&(t.firstChild=S),null!==l&&(m?null==l.child&&null!==S.parent&&(l.child=S):null===l.next&&(l.next=S,S.prev=l)),S}(t,n,i,o,c),function v(){return Nn.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=i,l.value=o,l.attrs=c;const m=function ra(){const t=Nn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===m?-1:m.injectorIndex}return zs(l,!0),l}function Gf(t,n,i,o){if(0===i)return-1;const c=n.length;for(let l=0;l<i;l++)n.push(o),t.blueprint.push(o),t.data.push(null);return c}function mv(t,n,i,o,c){const l=fv(n,vo),m=Gs(),I=2&o;try{ja(-1),I&&n.length>Sn&&Hf(t,n,Sn,!1),ei(I?2:0,c);const k=I?l:null,q=_(k);try{null!==k&&(k.dirty=!1),i(o,c)}finally{T(k,q)}}finally{I&&null===n[vo]&&jf(n,vo),ja(m),ei(I?3:1,c)}}function p_(t,n,i){if($(n)){const o=Jr(null);try{const l=n.directiveEnd;for(let m=n.directiveStart;m<l;m++){const I=t.data[m];I.contentQueries&&I.contentQueries(1,i[m],m)}}finally{Jr(o)}}}function g_(t,n,i){dc()&&(function EI(t,n,i,o){const c=i.directiveStart,l=i.directiveEnd;ae(i)&&function SI(t,n,i){const o=Vi(n,t),c=_v(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const I=Wf(t,zf(t,c,null,m,o,n,null,t[ls].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=I}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Go(i,n),qs(o,n);const m=i.initialInputs;for(let I=c;I<l;I++){const S=t.data[I],k=Ca(n,t,I,i);qs(k,n),null!==m&&CI(0,I-c,k,S,0,m),Se(S)&&(Os(i.index,n)[Or]=Ca(n,t,I,i))}}(t,n,i,Vi(i,n)),64==(64&i.flags)&&v_(t,n,i))}function m_(t,n,i=Vi){const o=n.localNames;if(null!==o){let c=n.index+1;for(let l=0;l<o.length;l+=2){const m=o[l+1],I=-1===m?i(n,t):t[m];t[c++]=I}}}function _v(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=__(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function __(t,n,i,o,c,l,m,I,S,k,q){const oe=Sn+o,De=oe+c,xe=function aI(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:sr);return i}(oe,De),st="function"==typeof k?k():k;return xe[jt]={type:t,blueprint:xe,template:i,queries:null,viewQuery:I,declTNode:n,data:xe.slice().fill(null,oe),bindingStartIndex:oe,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:S,consts:st,incompleteFirstPass:!1,ssrId:q}}let yv=t=>null;function vv(t,n,i,o){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const l=t[c];null===o?Ev(i,n,c,l):o.hasOwnProperty(c)&&Ev(i,n,o[c],l)}return i}function Ev(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function y_(t,n,i,o){if(dc()){const c=null===o?null:{"":-1},l=function TI(t,n){const i=t.directiveRegistry;let o=null,c=null;if(i)for(let l=0;l<i.length;l++){const m=i[l];if(Is(n,m.selectors,!1))if(o||(o=[]),Se(m))if(null!==m.findHostDirectiveDefs){const I=[];c=c||new Map,m.findHostDirectiveDefs(m,I,c),o.unshift(...I,m),E_(t,n,I.length)}else o.unshift(m),E_(t,n,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,o,c),o.push(m)}return null===o?null:[o,c]}(t,i);let m,I;null===l?m=I=null:[m,I]=l,null!==m&&Iv(t,n,i,m,c,I),c&&function wI(t,n,i){if(n){const o=t.localNames=[];for(let c=0;c<n.length;c+=2){const l=i[n[c+1]];if(null==l)throw new be(-301,!1);o.push(n[c],l)}}}(i,o,c)}i.mergedAttrs=Yi(i.mergedAttrs,i.attrs)}function Iv(t,n,i,o,c,l){for(let k=0;k<o.length;k++)Ec(Go(i,n),t,o[k].type);!function DI(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let k=0;k<o.length;k++){const q=o[k];q.providersResolver&&q.providersResolver(q)}let m=!1,I=!1,S=Gf(t,n,o.length,null);for(let k=0;k<o.length;k++){const q=o[k];i.mergedAttrs=Yi(i.mergedAttrs,q.hostAttrs),bI(t,i,n,S,q),AI(S,q,c),null!==q.contentQueries&&(i.flags|=4),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(i.flags|=64);const oe=q.type.prototype;!m&&(oe.ngOnChanges||oe.ngOnInit||oe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),m=!0),!I&&(oe.ngOnChanges||oe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),S++}!function pI(t,n,i){const c=n.directiveEnd,l=t.data,m=n.attrs,I=[];let S=null,k=null;for(let q=n.directiveStart;q<c;q++){const oe=l[q],De=i?i.get(oe):null,st=De?De.outputs:null;S=vv(oe.inputs,q,S,De?De.inputs:null),k=vv(oe.outputs,q,k,st);const Tt=null===S||null===m||rr(n)?null:RI(S,q,m);I.push(Tt)}null!==S&&(S.hasOwnProperty("class")&&(n.flags|=8),S.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=S,n.outputs=k}(t,i,l)}function v_(t,n,i){const o=i.directiveStart,c=i.directiveEnd,l=i.index,m=function C(){return Nn.lFrame.currentDirectiveIndex}();try{ja(l);for(let I=o;I<c;I++){const S=t.data[I],k=n[I];x(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&II(S,k)}}finally{ja(-1),x(m)}}function II(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function E_(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function AI(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;Se(n)&&(i[""]=t)}}function bI(t,n,i,o,c){t.data[o]=c;const l=c.factory||(c.factory=Mi(c.type)),m=new uu(l,Se(c),Wl);t.blueprint[o]=m,i[o]=m,function yI(t,n,i,o,c){const l=c.hostBindings;if(l){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const I=~n.index;(function vI(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=I&&m.push(I),m.push(i,o,l)}}(t,n,o,Gf(t,i,c.hostVars,sr),c)}function bu(t,n,i,o,c,l){const m=Vi(t,n);!function I_(t,n,i,o,c,l,m){if(null==l)t.removeAttribute(n,c,i);else{const I=null==m?wt(l):m(l,o||"",c);t.setAttribute(n,c,I,i)}}(n[Yt],m,l,t.value,i,o,c)}function CI(t,n,i,o,c,l){const m=l[n];if(null!==m)for(let I=0;I<m.length;)Tv(o,i,m[I++],m[I++],m[I++])}function Tv(t,n,i,o,c){const l=Jr(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(o)&&(c=m[o].call(n,c)),null!==t.setInput?t.setInput(n,c,i,o):n[o]=c}finally{Jr(l)}}function RI(t,n,i){let o=null,c=0;for(;c<i.length;){const l=i[c];if(0!==l)if(5!==l){if("number"==typeof l)break;if(t.hasOwnProperty(l)){null===o&&(o=[]);const m=t[l];for(let I=0;I<m.length;I+=2)if(m[I]===n){o.push(l,m[I+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return o}function wv(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function Av(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const l=i[o+1];if(-1!==l){const m=t.data[l];$e(i[o]),m.contentQueries(2,n[l],l)}}}function Wf(t,n){return t[ws]?t[hr][Ii]=n:t[ws]=n,t[hr]=n,n}function T_(t,n,i){$e(0);const o=Jr(null);try{n(t,i)}finally{Jr(o)}}function Dv(t){return t[cs]||(t[cs]=[])}function bv(t){return t.cleanup||(t.cleanup=[])}function Cv(t,n){const i=t[Ki],o=i?i.get(Xc,null):null;o&&o.handleError(n)}function w_(t,n,i,o,c){for(let l=0;l<i.length;){const m=i[l++],I=i[l++];Tv(t.data[m],n[m],o,I,c)}}function PI(t,n){const i=Os(n,t),o=i[jt];!function MI(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const c=i[Nr];null!==c&&null===i[gi]&&(i[gi]=$l(c,i[Ki])),A_(o,i,i[Or])}function A_(t,n,i){In(n);try{const o=t.viewQuery;null!==o&&T_(1,o,i);const c=t.template;null!==c&&mv(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Av(t,n),t.staticViewQueries&&T_(2,t.viewQuery,i);const l=t.components;null!==l&&function NI(t,n){for(let i=0;i<n.length;i++)PI(t,n[i])}(n,l)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[vn]&=-5,zo()}}let Rv=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,c){const l=typeof Zone>"u"?null:Zone.current,m=function hi(t,n,i){const o=Object.create(Ms);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const c=m=>{o.cleanupFn=m};return o.ref={notify:()=>z(o),run:()=>{if(o.dirty=!1,o.hasRun&&!O(o))return;o.hasRun=!0;const m=_(o);try{o.cleanupFn(),o.cleanupFn=ai,o.fn(c)}finally{T(o,m)}},cleanup:()=>o.cleanupFn()},o.ref}(i,k=>{this.all.has(k)&&this.queue.set(k,l)},c);let I;this.all.add(m),m.notify();const S=()=>{m.cleanup(),I?.(),this.all.delete(m),this.queue.delete(m)};return I=o?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=At({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Vg(t,n,i){let o=i?t.styles:null,c=i?t.classes:null,l=0;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?l=I:1==l?c=xt(c,I):2==l&&(o=xt(o,I+": "+n[++m]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=c:t.classesWithoutHost=c}function qf(t,n,i,o,c=!1){for(;null!==i;){const l=n[i.index];null!==l&&o.push(Jn(l)),B(l)&&Pv(l,o);const m=i.type;if(8&m)qf(t,n,i.child,o);else if(32&m){const I=Ae(i,n);let S;for(;S=I();)o.push(S)}else if(16&m){const I=gf(n,i);if(Array.isArray(I))o.push(...I);else{const S=ct(n[Vr]);qf(S[jt],S,I,o,!0)}}i=c?i.projectionNext:i.next}return o}function Pv(t,n){for(let i=mi;i<t.length;i++){const o=t[i],c=o[jt].firstChild;null!==c&&qf(o[jt],o,c,n)}t[Wr]!==t[Nr]&&n.push(t[Wr])}function Ug(t,n,i,o=!0){const c=n[ls],l=c.rendererFactory,m=c.afterRenderEventManager;l.begin?.(),m?.begin();try{Mv(t,n,t.template,i)}catch(S){throw o&&Cv(n,S),S}finally{l.end?.(),c.effectManager?.flush(),m?.end()}}function Mv(t,n,i,o){const c=n[vn];if(256!=(256&c)){n[ls].effectManager?.flush(),In(n);try{Pu(n),function ul(t){return Nn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&mv(t,n,i,2,o);const m=3==(3&c);if(m){const k=t.preOrderCheckHooks;null!==k&&ba(n,k,null)}else{const k=t.preOrderHooks;null!==k&&Fs(n,k,0,null),Nu(n,0)}if(function kI(t){for(let n=jn(t);null!==n;n=ui(n)){if(!n[Zo])continue;const i=n[ds];for(let o=0;o<i.length;o++){tu(i[o])}}}(n),Nv(n,2),null!==t.contentQueries&&Av(t,n),m){const k=t.contentCheckHooks;null!==k&&ba(n,k)}else{const k=t.contentHooks;null!==k&&Fs(n,k,1),Nu(n,1)}!function gv(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=fv(n,Zs);try{for(let c=0;c<i.length;c++){const l=i[c];if(l<0)ja(~l);else{const m=l,I=i[++c],S=i[++c];y(I,m),o.dirty=!1;const k=_(o);try{S(2,n[m])}finally{T(o,k)}}}}finally{null===n[Zs]&&jf(n,Zs),ja(-1)}}(t,n);const I=t.components;null!==I&&xv(n,I,0);const S=t.viewQuery;if(null!==S&&T_(2,S,o),m){const k=t.viewCheckHooks;null!==k&&ba(n,k)}else{const k=t.viewHooks;null!==k&&Fs(n,k,2),Nu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[vn]&=-73,$o(n)}finally{zo()}}}function Nv(t,n){for(let i=jn(t);null!==i;i=ui(i))for(let o=mi;o<i.length;o++)Ov(i[o],n)}function FI(t,n,i){Ov(Os(n,t),i)}function Ov(t,n){if(!function cd(t){return 128==(128&t[vn])}(t))return;const i=t[jt],o=t[vn];if(80&o&&0===n||1024&o||2===n)Mv(i,t,i.template,t[Or]);else if(t[Bs]>0){Nv(t,1);const c=i.components;null!==c&&xv(t,c,1)}}function xv(t,n,i){for(let o=0;o<n.length;o++)FI(t,n[o],i)}class Kf{get rootNodes(){const n=this._lView,i=n[jt];return qf(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Or]}set context(n){this._lView[Or]=n}get destroyed(){return 256==(256&this._lView[vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[br];if(B(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(Cl(n,o),dl(i,o))}this._attachedToViewContainer=!1}eg(this._lView[jt],this._lView)}onDestroy(n){!function il(t,n){if(256==(256&t[vn]))throw new be(911,!1);null===t[Xn]&&(t[Xn]=[]),t[Xn].push(n)}(this._lView,n)}markForCheck(){Bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[vn]&=-129}reattach(){this._lView[vn]|=128}detectChanges(){Ug(this._lView[jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $d(t,n){Bc(t,n,n[Yt],2,null,null)}(this._lView[jt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=n}}class LI extends Kf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Ug(n[jt],n,n[Or],!1)}checkNoChanges(){}get context(){return null}}class kv extends Sg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Vn(n);return new Qf(i,this.ngModule)}}function Fv(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class UI{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=vs(o);const c=this.injector.get(n,Vf,o);return c!==Vf||i===Vf?c:this.parentInjector.get(n,i,o)}}class Qf extends Qy{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=Fv(n.inputs);if(null!==i)for(const c of o)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return o}get outputs(){return Fv(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Dr(t){return t.map(Zi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,c){let l=(c=c||this.ngModule)instanceof Eu?c:c?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const m=l?new UI(n,l):n,I=m.get(lh,null);if(null===I)throw new be(407,!1);const oe={rendererFactory:I,sanitizer:m.get(i_,null),effectManager:m.get(Rv,null),afterRenderEventManager:m.get(l_,null)},De=I.createRenderer(null,this.componentDef),xe=this.componentDef.selectors[0][0]||"div",st=o?function uI(t,n,i,o){const l=o.get(dv,!1)||i===nr.ShadowDom,m=t.selectRootElement(n,l);return function cI(t){yv(t)}(m),m}(De,o,this.componentDef.encapsulation,m):Ku(De,xe,function VI(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(xe)),fn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ft=null;null!==st&&(ft=$l(st,m,!0));const tr=__(0,null,null,1,0,null,null,null,null,null,null),Cr=zf(null,tr,null,fn,null,null,oe,De,m,null,ft);let bi,ya;In(Cr);try{const rl=this.componentDef;let Cp,xE=null;rl.findHostDirectiveDefs?(Cp=[],xE=new Map,rl.findHostDirectiveDefs(rl,Cp,xE),Cp.push(rl)):Cp=[rl];const rS=function a(t,n){const i=t[jt],o=Sn;return t[o]=n,ql(i,o,2,"#host",null)}(Cr,st),iS=function e(t,n,i,o,c,l,m){const I=c[jt];!function r(t,n,i,o){for(const c of t)n.mergedAttrs=Yi(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Vg(n,n.mergedAttrs,!0),null!==i&&za(o,i,n))}(o,t,n,m);let S=null;null!==n&&(S=$l(n,c[Ki]));const k=l.rendererFactory.createRenderer(n,i);let q=16;i.signals?q=4096:i.onPush&&(q=64);const oe=zf(c,_v(i),null,q,c[t.index],t,l,k,null,null,S);return I.firstCreatePass&&E_(I,t,o.length-1),Wf(c,oe),c[t.index]=oe}(rS,st,rl,Cp,Cr,oe,De);ya=na(tr,Sn),st&&function u(t,n,i,o){if(o)yo(t,i,["ng-version",Rg.full]);else{const{attrs:c,classes:l}=function Wi(t){const n=[],i=[];let o=1,c=2;for(;o<t.length;){let l=t[o];if("string"==typeof l)2===c?""!==l&&n.push(l,t[++o]):8===c&&i.push(l);else{if(!Mn(c))break;c=l}o++}return{attrs:n,classes:i}}(n.selectors[0]);c&&yo(t,i,c),l&&l.length>0&&mf(t,i,l.join(" "))}}(De,rl,st,o),void 0!==i&&function h(t,n,i){const o=t.projection=[];for(let c=0;c<n.length;c++){const l=i[c];o.push(null!=l?Array.from(l):null)}}(ya,this.ngContentSelectors,i),bi=function s(t,n,i,o,c,l){const m=ps(),I=c[jt],S=Vi(m,c);Iv(I,c,m,i,null,o);for(let q=0;q<i.length;q++)qs(Ca(c,I,m.directiveStart+q,m),c);v_(I,c,m),S&&qs(S,c);const k=Ca(c,I,m.directiveStart+m.componentOffset,m);if(t[Or]=c[Or]=k,null!==l)for(const q of l)q(k,n);return p_(I,m,t),k}(iS,rl,Cp,xE,Cr,[g]),A_(tr,Cr,null)}finally{zo()}return new Lv(this.componentType,bi,Au(ya,Cr),Cr,ya)}}class Lv extends Hl{constructor(n,i,o,c,l){super(),this.location=o,this._rootLView=c,this._tNode=l,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new LI(c),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let c;if(null!==o&&(c=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const l=this._rootLView;w_(l[jt],l,c,n,i),this.previousInputValues.set(n,i),Bf(Os(this._tNode.index,l))}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function g(){const t=ps();oa(ht()[jt],t)}function R(t){let n=function A(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let c;if(Se(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new be(903,!1);c=n.\u0275dir}if(c){if(i){o.push(c);const m=t;m.inputs=X(t.inputs),m.inputTransforms=X(t.inputTransforms),m.declaredInputs=X(t.declaredInputs),m.outputs=X(t.outputs);const I=c.hostBindings;I&&ze(t,I);const S=c.viewQuery,k=c.contentQueries;if(S&&re(t,S),k&&ye(t,k),pt(t.inputs,c.inputs),pt(t.declaredInputs,c.declaredInputs),pt(t.outputs,c.outputs),null!==c.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),pt(m.inputTransforms,c.inputTransforms)),Se(c)&&c.data.animation){const q=t.data;q.animation=(q.animation||[]).concat(c.data.animation)}}const l=c.features;if(l)for(let m=0;m<l.length;m++){const I=l[m];I&&I.ngInherit&&I(t),I===R&&(i=!1)}}n=Object.getPrototypeOf(n)}!function L(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const c=t[o];c.hostVars=n+=c.hostVars,c.hostAttrs=Yi(c.hostAttrs,i=Yi(i,c.hostAttrs))}}(o)}function X(t){return t===Zn?{}:t===rn?[]:t}function re(t,n){const i=t.viewQuery;t.viewQuery=i?(o,c)=>{n(o,c),i(o,c)}:n}function ye(t,n){const i=t.contentQueries;t.contentQueries=i?(o,c,l)=>{n(o,c,l),i(o,c,l)}:n}function ze(t,n){const i=t.hostBindings;t.hostBindings=i?(o,c)=>{n(o,c),i(o,c)}:n}function Ne(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const c=n[o];Array.isArray(c)&&c[2]&&(i[o]=c[2])}t.inputTransforms=i}function we(t){return!!We(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function We(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function go(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Xf(t,n,i,o){const c=ht();return go(c,su(),n)&&(Ir(),bu(yi(),c,t,n,i,o)),Xf}function x_(t,n,i,o,c,l,m,I){const S=ht(),k=Ir(),q=t+Sn,oe=k.firstCreatePass?function bh(t,n,i,o,c,l,m,I,S){const k=n.consts,q=ql(n,t,4,m||null,jo(k,I));y_(n,i,q,jo(k,S)),oa(n,q);const oe=q.tView=__(2,q,o,c,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k,null);return null!==n.queries&&(n.queries.template(n,q),oe.queries=n.queries.embeddedTView(q)),q}(q,k,S,n,i,o,c,l,m):k.data[q];zs(oe,!1);const De=k_(k,S,oe,t);Mu()&&Pl(k,S,De,oe),qs(De,S),Wf(S,S[q]=wv(De,S,De,oe)),ce(oe)&&g_(k,S,oe),null!=m&&m_(S,oe,I)}let k_=function el(t,n,i,o){return sa(!0),n[Yt].createComment("")};function Sh(t,n,i){const o=ht();return go(o,su(),n)&&function pa(t,n,i,o,c,l,m,I){const S=Vi(n,i);let q,k=n.inputs;!I&&null!=k&&(q=k[o])?(w_(t,i,q,o,c),ae(n)&&function mI(t,n){const i=Os(n,t);16&i[vn]||(i[vn]|=64)}(i,n.index)):3&n.type&&(o=function gI(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),c=null!=m?m(c,n.value||"",o):c,l.setProperty(S,o,c))}(Ir(),yi(),o,t,n,o[Yt],i,!1),Sh}function Jl(t,n,i,o,c){const m=c?"class":"style";w_(t,i,n.inputs[m],m,o)}function Ch(t,n,i,o){const c=ht(),l=Ir(),m=Sn+t,I=c[Yt],S=l.firstCreatePass?function sc(t,n,i,o,c,l){const m=n.consts,S=ql(n,t,2,o,jo(m,c));return y_(n,i,S,jo(m,l)),null!==S.attrs&&Vg(S,S.attrs,!1),null!==S.mergedAttrs&&Vg(S,S.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,S),S}(m,l,c,n,i,o):l.data[m],k=op(l,c,S,I,n,t);c[m]=k;const q=ce(S);return zs(S,!0),za(I,k,S),32!=(32&S.flags)&&Mu()&&Pl(l,c,k,S),0===function ol(){return Nn.lFrame.elementDepthCount}()&&qs(k,c),function Ni(){Nn.lFrame.elementDepthCount++}(),q&&(g_(l,c,S),p_(l,S,c)),null!==o&&m_(c,S),Ch}function Rh(){let t=ps();wa()?Ba():(t=t.parent,zs(t,!1));const n=t;(function ru(t){return Nn.skipHydrationRootTNode===t})(n)&&function fc(){Nn.skipHydrationRootTNode=null}(),function lc(){Nn.lFrame.elementDepthCount--}();const i=Ir();return i.firstCreatePass&&(oa(i,t),$(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ou(t){return 0!=(8&t.flags)}(n)&&Jl(i,n,ht(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function bm(t){return 0!=(16&t.flags)}(n)&&Jl(i,n,ht(),n.stylesWithoutHost,!1),Rh}function Ph(t,n,i,o){return Ch(t,n,i,o),Rh(),Ph}let op=(t,n,i,o,c,l)=>(sa(!0),Ku(o,c,function Rp(){return Nn.lFrame.currentNamespace}()));function U_(){return ht()}function cp(t){return!!t&&"function"==typeof t.then}function Qg(t){return!!t&&"function"==typeof t.subscribe}function lp(t,n,i,o){const c=ht(),l=Ir(),m=ps();return function Yg(t,n,i,o,c,l,m){const I=ce(o),k=t.firstCreatePass&&bv(t),q=n[Or],oe=Dv(n);let De=!0;if(3&o.type||m){const Tt=Vi(o,n),zt=m?m(Tt):Tt,fn=oe.length,ft=m?Cr=>m(Jn(Cr[o.index])):o.index;let tr=null;if(!m&&I&&(tr=function Xg(t,n,i,o){const c=t.cleanup;if(null!=c)for(let l=0;l<c.length-1;l+=2){const m=c[l];if(m===i&&c[l+1]===o){const I=n[cs],S=c[l+2];return I.length>S?I[S]:null}"string"==typeof m&&(l+=2)}return null}(t,n,c,o.index)),null!==tr)(tr.__ngLastListenerFn__||tr).__ngNextListenerFn__=l,tr.__ngLastListenerFn__=l,De=!1;else{l=B_(o,n,q,l,!1);const Cr=i.listen(zt,c,l);oe.push(l,Cr),k&&k.push(c,ft,fn,fn+1)}}else l=B_(o,n,q,l,!1);const xe=o.outputs;let st;if(De&&null!==xe&&(st=xe[c])){const Tt=st.length;if(Tt)for(let zt=0;zt<Tt;zt+=2){const bi=n[st[zt]][st[zt+1]].subscribe(l),ya=oe.length;oe.push(l,bi),k&&k.push(c,o.index,ya,-(ya+1))}}}(l,c,c[Yt],m,t,n,o),lp}function Zg(t,n,i,o){try{return ei(6,n,i),!1!==i(o)}catch(c){return Cv(t,c),!1}finally{ei(7,n,i)}}function B_(t,n,i,o,c){return function l(m){if(m===Function)return o;Bf(t.componentOffset>-1?Os(t.index,n):n);let S=Zg(n,i,o,m),k=l.__ngNextListenerFn__;for(;k;)S=Zg(n,i,k,m)&&S,k=k.__ngNextListenerFn__;return c&&!1===S&&m.preventDefault(),S}}function j_(t=1){return function ou(t){return(Nn.lFrame.contextLView=function Aa(t,n){for(;t>0;)n=n[ji],t--;return n}(t,Nn.lFrame.contextLView))[Or]}(t)}function $_(t,n){let i=null;const o=function Ri(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let c=0;c<n.length;c++){const l=n[c];if("*"!==l){if(null===o?Is(t,l,!0):Ar(o,l))return c}else i=c}return i}function Jg(t){const n=ht()[Vr][Lr];if(!n.projection){const o=n.projection=pu(t?t.length:1,null),c=o.slice();let l=n.child;for(;null!==l;){const m=t?$_(l,t):0;null!==m&&(c[m]?c[m].projectionNext=l:o[m]=l,c[m]=l),l=l.next}}}function H_(t,n=0,i){const o=ht(),c=Ir(),l=ql(c,Sn+t,16,null,i||null);null===l.projection&&(l.projection=n),Ba(),(!o[gi]||xo())&&32!=(32&l.flags)&&function sg(t,n,i){jc(n[Yt],0,n,i,cf(t,i,n),hf(i.parent||n[Lr],i,n))}(c,o,l)}function xh(t,n){return t<<17|n<<2}function ac(t){return t>>17&32767}function tm(t){return 2|t}function Fa(t){return(131068&t)>>2}function Xa(t,n){return-131069&t|n<<2}function hp(t){return 1|t}function W_(t,n,i,o,c){const l=t[i+1],m=null===n;let I=o?ac(l):Fa(l),S=!1;for(;0!==I&&(!1===S||m);){const q=t[I+1];uc(t[I],n)&&(S=!0,t[I+1]=o?hp(q):tm(q)),I=o?ac(q):Fa(q)}S&&(t[i+1]=o?tm(l):hp(l))}function uc(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&gu(t,n)>=0}const Ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function q_(t){return t.substring(Ls.key,Ls.keyEnd)}function nm(t,n){const i=Ls.textEnd;return i===n?-1:(n=Ls.keyEnd=function ns(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Ls.key=n,i),cc(t,n,i))}function cc(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function pp(t,n){return function ga(t,n,i,o){const c=ht(),l=Ir(),m=ks(2);l.firstUpdatePass&&sm(l,t,m,o),n!==sr&&go(c,m,n)&&am(l,l.data[Gs()],c,c[Yt],t,c[m+1]=function ey(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=it(Ga(t)))),t}(n,i),o,m)}(t,n,null,!0),pp}function Y_(t){!function Ko(t,n,i,o){const c=Ir(),l=ks(2);c.firstUpdatePass&&sm(c,null,l,o);const m=ht();if(i!==sr&&go(m,l,i)){const I=c.data[Gs()];if(cm(I,o)&&!Uh(c,l)){let S=o?I.classesWithoutHost:I.stylesWithoutHost;null!==S&&(i=xt(S,i||"")),Jl(c,I,m,i,o)}else!function yp(t,n,i,o,c,l,m,I){c===sr&&(c=rn);let S=0,k=0,q=0<c.length?c[0]:null,oe=0<l.length?l[0]:null;for(;null!==q||null!==oe;){const De=S<c.length?c[S+1]:void 0,xe=k<l.length?l[k+1]:void 0;let Tt,st=null;q===oe?(S+=2,k+=2,De!==xe&&(st=oe,Tt=xe)):null===oe||null!==q&&q<oe?(S+=2,st=q):(k+=2,st=oe,Tt=xe),null!==st&&am(t,n,i,o,st,Tt,m,I),q=S<c.length?c[S]:null,oe=k<l.length?l[k]:null}}(c,I,m,m[Yt],m[l+1],m[l+1]=function om(t,n,i){if(null==i||""===i)return rn;const o=[],c=Ga(i);if(Array.isArray(c))for(let l=0;l<c.length;l++)t(o,c[l],!0);else if("object"==typeof c)for(const l in c)c.hasOwnProperty(l)&&t(o,l,c[l]);else"string"==typeof c&&n(o,c);return o}(t,n,i),o,l)}}(J_,Lo,t,!0)}function Lo(t,n){for(let i=function fp(t){return function rm(t){Ls.key=0,Ls.keyEnd=0,Ls.value=0,Ls.valueEnd=0,Ls.textEnd=t.length}(t),nm(t,cc(t,0,Ls.textEnd))}(n);i>=0;i=nm(n,i))wo(t,q_(n),!0)}function Uh(t,n){return n>=t.expandoStartIndex}function sm(t,n,i,o){const c=t.data;if(null===c[i+1]){const l=c[Gs()],m=Uh(t,i);cm(l,o)&&null===n&&!m&&(n=!1),n=function gp(t,n,i,o){const c=function Q(t){const n=Nn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(i=sd(i=mp(null,t,n,i,o),n.attrs,o),l=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==c)if(i=mp(c,t,n,i,o),null===l){let S=function Yv(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==Fa(o))return t[ac(o)]}(t,n,o);void 0!==S&&Array.isArray(S)&&(S=mp(null,t,n,S[1],o),S=sd(S,n.attrs,o),function Z_(t,n,i,o){t[ac(i?n.classBindings:n.styleBindings)]=o}(t,n,o,S))}else l=function Bh(t,n,i){let o;const c=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<c;l++)o=sd(o,t[l].hostAttrs,i);return sd(o,n.attrs,i)}(t,n,o)}return void 0!==l&&(o?n.residualClasses=l:n.residualStyles=l),i}(c,l,n,o),function qv(t,n,i,o,c,l){let m=l?n.classBindings:n.styleBindings,I=ac(m),S=Fa(m);t[o]=i;let q,k=!1;if(Array.isArray(i)?(q=i[1],(null===q||gu(i,q)>0)&&(k=!0)):q=i,c)if(0!==S){const De=ac(t[I+1]);t[o+1]=xh(De,I),0!==De&&(t[De+1]=Xa(t[De+1],o)),t[I+1]=function Gv(t,n){return 131071&t|n<<17}(t[I+1],o)}else t[o+1]=xh(I,0),0!==I&&(t[I+1]=Xa(t[I+1],o)),I=o;else t[o+1]=xh(S,0),0===I?I=o:t[S+1]=Xa(t[S+1],o),S=o;k&&(t[o+1]=tm(t[o+1])),W_(t,q,o,!0),W_(t,q,o,!1),function Kv(t,n,i,o,c){const l=c?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&gu(l,n)>=0&&(i[o+1]=hp(i[o+1]))}(n,q,t,o,l),m=xh(I,S),l?n.classBindings=m:n.styleBindings=m}(c,l,n,i,m,o)}}function mp(t,n,i,o,c){let l=null;const m=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<m&&(l=n[I],o=sd(o,l.hostAttrs,c),l!==t);)I++;return null!==t&&(i.directiveStylingLast=I),o}function sd(t,n,i){const o=i?1:2;let c=-1;if(null!==n)for(let l=0;l<n.length;l++){const m=n[l];"number"==typeof m?c=m:c===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wo(t,m,!!i||n[++l]))}return void 0===t?null:t}function J_(t,n,i){const o=String(n);""!==o&&!o.includes(" ")&&wo(t,o,i)}function am(t,n,i,o,c,l,m,I){if(!(3&n.type))return;const S=t.data,k=S[I+1],q=function G_(t){return 1==(1&t)}(k)?um(S,n,i,c,Fa(k),m):void 0;Ya(q)||(Ya(l)||function zv(t){return 2==(2&t)}(k)&&(l=um(S,null,i,c,I,m)),function og(t,n,i,o,c){if(n)c?t.addClass(i,o):t.removeClass(i,o);else{let l=-1===o.indexOf("-")?void 0:Lc.DashCase;null==c?t.removeStyle(i,o,l):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),l|=Lc.Important),t.setStyle(i,o,c,l))}}(o,m,eu(Gs(),i),c,l))}function um(t,n,i,o,c,l){const m=null===n;let I;for(;c>0;){const S=t[c],k=Array.isArray(S),q=k?S[1]:S,oe=null===q;let De=i[c+1];De===sr&&(De=oe?rn:void 0);let xe=oe?bc(De,o):q===o?De:void 0;if(k&&!Ya(xe)&&(xe=bc(S,o)),Ya(xe)&&(I=xe,m))return I;const st=t[c+1];c=m?ac(st):Fa(st)}if(null!==n){let S=l?n.residualClasses:n.residualStyles;null!=S&&(I=bc(S,o))}return I}function Ya(t){return void 0!==t}function cm(t,n){return 0!=(t.flags&(n?8:16))}function lm(t,n=""){const i=ht(),o=Ir(),c=t+Sn,l=o.firstCreatePass?ql(o,c,1,n,null):o.data[c],m=dm(o,i,l,n,t);i[c]=m,Mu()&&Pl(o,i,m,l),zs(l,!1)}let dm=(t,n,i,o,c)=>(sa(!0),function fa(t,n){return t.createText(n)}(n[Yt],o));function Ep(t){return jh("",t,""),Ep}function jh(t,n,i){const o=ht(),c=function qo(t,n,i,o){return go(t,su(),i)?n+wt(i)+o:sr}(o,t,n,i);return c!==sr&&function rc(t,n,i){const o=eu(n,t);!function qu(t,n,i){t.setValue(n,i)}(t[Yt],o,i)}(o,Gs(),c),jh}const $h=void 0;var DA=["en",[["a","p"],["AM","PM"],$h],[["AM","PM"],$h,$h],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$h,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$h,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$h,"{1} 'at' {0}",$h],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AA(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Tp={};function Zv(t){const n=function bA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=ZI(n);if(i)return i;const o=n.split("-")[0];if(i=ZI(o),i)return i;if("en"===o)return DA;throw new be(701,!1)}function YI(t){return Zv(t)[wp.PluralCase]}function ZI(t){return t in Tp||(Tp[t]=tn.ng&&tn.ng.common&&tn.ng.common.locales&&tn.ng.common.locales[t]),Tp[t]}var wp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(wp||{});const Ap="en-US";let JI=Ap;function tE(t,n,i,o,c){if(t=ot(t),Array.isArray(t))for(let l=0;l<t.length;l++)tE(t[l],n,i,o,c);else{const l=Ir(),m=ht(),I=ps();let S=Vl(t)?t:ot(t.provide);const k=Hy(t),q=1048575&I.providerIndexes,oe=I.directiveStart,De=I.providerIndexes>>20;if(Vl(t)||!t.multi){const xe=new uu(k,c,Wl),st=rE(S,n,c?q:q+De,oe);-1===st?(Ec(Go(I,m),l,S),nE(l,t,n.length),n.push(S),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(xe),m.push(xe)):(i[st]=xe,m[st]=xe)}else{const xe=rE(S,n,q+De,oe),st=rE(S,n,q,q+De),zt=st>=0&&i[st];if(c&&!zt||!c&&!(xe>=0&&i[xe])){Ec(Go(I,m),l,S);const fn=function D0(t,n,i,o,c){const l=new uu(t,i,Wl);return l.multi=[],l.index=n,l.componentProviders=0,AT(l,c,o&&!i),l}(c?A0:w0,i.length,c,o,k);!c&&zt&&(i[st].providerFactory=fn),nE(l,t,n.length,0),n.push(S),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(fn),m.push(fn)}else nE(l,t,xe>-1?xe:st,AT(i[c?st:xe],k,!c&&o));!c&&o&&zt&&i[st].componentProviders++}}}function nE(t,n,i,o){const c=Vl(n),l=function Ai(t){return!!t.useClass}(n);if(c||l){const S=(l?ot(n.useClass):n).prototype.ngOnDestroy;if(S){const k=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const q=k.indexOf(i);-1===q?k.push(i,[o,S]):k[q+1].push(o,S)}else k.push(i,S)}}}function AT(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function rE(t,n,i,o){for(let c=i;c<o;c++)if(n[c]===t)return c;return-1}function w0(t,n,i,o){return iE(this.multi,[])}function A0(t,n,i,o){const c=this.multi;let l;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=Ca(i,i[jt],this.providerFactory.index,o);l=I.slice(0,m),iE(c,l);for(let S=m;S<I.length;S++)l.push(I[S])}else l=[],iE(c,l);return l}function iE(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function DT(t,n=[]){return i=>{i.providersResolver=(o,c)=>function T0(t,n,i){const o=Ir();if(o.firstCreatePass){const c=Se(t);tE(i,o.data,o.blueprint,c,!0),tE(n,o.data,o.blueprint,c,!1)}}(o,c?c(t):t,n)}}class Hh{}class bT{}function b0(t,n){return new sE(t,n??null,[])}class sE extends Hh{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kv(this);const c=Xr(n);this._bootstrapComponents=tc(c.bootstrap),this._r3Injector=Qc(n,i,[{provide:Hh,useValue:this},{provide:Sg,useValue:this.componentFactoryResolver},...o],it(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class oE extends bT{constructor(n){super(),this.moduleType=n}create(n){return new sE(this.moduleType,n,[])}}class ST extends Hh{constructor(n){super(),this.componentFactoryResolver=new kv(this),this.instance=null;const i=new Zu([...n.providers,{provide:Hh,useValue:this},{provide:Sg,useValue:this.componentFactoryResolver}],n.parent||wg(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function CT(t,n,i=null){return new ST({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let C0=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=Na(0,i.type),c=o.length>0?CT([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=At({token:t,providedIn:"environment",factory:()=>new t(Er(Eu))})}}return t})();function RT(t){t.getStandaloneInjector=n=>n.get(C0).getOrCreateStandaloneInjector(t)}function eD(){return this._results[Symbol.iterator]()}class uE{get changes(){return this._changes||(this._changes=new Du)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=uE.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=eD)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const c=function fo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Dd(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let c=t[o],l=n[o];if(i&&(c=i(c),l=i(l)),l!==c)return!1}return!0}(o._results,c,i))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nD(t,n,i,o=!0){const c=n[jt];if(function Hd(t,n,i,o){const c=mi+o,l=i.length;o>0&&(i[c-1][Ii]=n),o<l-mi?(n[Ii]=i[c],bd(i,mi+o,n)):(i.push(n),n[Ii]=null),n[br]=i;const m=n[uo];null!==m&&i!==m&&function Jp(t,n){const i=t[ds];n[Vr]!==n[br][br][Vr]&&(t[Zo]=!0),null===i?t[ds]=[n]:i.push(n)}(m,n);const I=n[Hi];null!==I&&I.insertView(t),n[vn]|=128}(c,n,t,i),o){const l=ig(i,t),m=n[Yt],I=Rl(m,t[Wr]);null!==I&&function jd(t,n,i,o,c,l){o[Nr]=c,o[Lr]=n,Bc(t,o,i,1,c,l)}(c,t[Lr],m,n,I,l)}}let Em=(()=>{class t{static{this.__NG_ELEMENT_ID__=sD}}return t})();const rD=Em,iD=class extends rD{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const c=function tD(t,n,i,o){const c=n.tView,I=zf(t,c,i,4096&t[vn]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);I[uo]=t[n.index];const k=t[Hi];return null!==k&&(I[Hi]=k.createEmbeddedView(c)),A_(c,I,i),I}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new Kf(c)}};function sD(){return sy(ps(),ht())}function sy(t,n){return 4&t.type?new iD(n,t,Au(t,n)):null}let ay=(()=>{class t{static{this.__NG_ELEMENT_ID__=dD}}return t})();function dD(){return qT(ps(),ht())}const hD=ay,GT=class extends hD{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Au(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const n=da(this._hostTNode,this._hostLView);if(pd(n)){const i=Sa(n,this._hostLView),o=ua(n);return new to(i[jt].data[o+8],i)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=WT(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-mi}createEmbeddedView(n,i,o){let c,l;"number"==typeof o?c=o:null!=o&&(c=o.index,l=o.injector);const I=n.createEmbeddedViewImpl(i||{},l,null);return this.insertImpl(I,c,false),I}createComponent(n,i,o,c,l){const m=n&&!function Ra(t){return"function"==typeof t}(n);let I;if(m)I=i;else{const Tt=i||{};I=Tt.index,o=Tt.injector,c=Tt.projectableNodes,l=Tt.environmentInjector||Tt.ngModuleRef}const S=m?n:new Qf(Vn(n)),k=o||this.parentInjector;if(!l&&null==S.ngModule){const zt=(m?k:this.parentInjector).get(Eu,null);zt&&(l=zt)}Vn(S.componentType??{});const xe=S.create(k,c,null,l);return this.insertImpl(xe.hostView,I,false),xe}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const c=n._lView;if(function Ru(t){return B(t[br])}(c)){const S=this.indexOf(n);if(-1!==S)this.detach(S);else{const k=c[br],q=new GT(k,k[Lr],k[br]);q.detach(q.indexOf(n))}}const m=this._adjustIndex(i),I=this._lContainer;return nD(I,c,m,!o),n.attachToViewContainerRef(),bd(cE(I),m,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=WT(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=Cl(this._lContainer,i);o&&(dl(cE(this._lContainer),i),eg(o[jt],o))}detach(n){const i=this._adjustIndex(n,-1),o=Cl(this._lContainer,i);return o&&null!=dl(cE(this._lContainer),i)?new Kf(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function WT(t){return t[8]}function cE(t){return t[8]||(t[8]=[])}function qT(t,n){let i;const o=n[t.index];return B(o)?i=o:(i=wv(o,n,null,t),n[t.index]=i,Wf(n,i)),KT(i,n,t,o),new GT(i,t,n)}let KT=function QT(t,n,i,o){if(t[Wr])return;let c;c=8&i.type?Jn(o):function fD(t,n){const i=t[Yt],o=i.createComment(""),c=Vi(n,t);return vu(i,Rl(i,c),o,function _y(t,n){return t.nextSibling(n)}(i,c),!1),o}(n,i),t[Wr]=c};class lE{constructor(n){this.queryList=n,this.matches=null}clone(){return new lE(this.queryList)}setDirty(){this.queryList.setDirty()}}class dE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let l=0;l<o;l++){const m=i.getByIndex(l);c.push(this.queries[m.indexInDeclarationView].clone())}return new dE(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==rw(n,i).matches&&this.queries[i].setDirty()}}class XT{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class hE{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const c=null!==i?i.length:0,l=this.getByIndex(o).embeddedTView(n,c);l&&(l.indexInDeclarationView=o,null!==i?i.push(l):i=[l])}return null!==i?new hE(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class fE{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new fE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const l=o[c];this.matchTNodeWithReadOption(n,i,mD(i,l)),this.matchTNodeWithReadOption(n,i,ku(i,n,l,!1,!1))}else o===Em?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,ku(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===Lf||c===ay||c===Em&&4&i.type)this.addMatch(i.index,-2);else{const l=ku(i,n,c,!1,!1);null!==l&&this.addMatch(i.index,l)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function mD(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function yD(t,n,i,o){return-1===i?function _D(t,n){return 11&t.type?Au(t,n):4&t.type?sy(t,n):null}(n,t):-2===i?function vD(t,n,i){return i===Lf?Au(n,t):i===Em?sy(n,t):i===ay?qT(n,t):void 0}(t,n,o):Ca(t,t[jt],i,n)}function YT(t,n,i,o){const c=n[Hi].queries[o];if(null===c.matches){const l=t.data,m=i.matches,I=[];for(let S=0;S<m.length;S+=2){const k=m[S];I.push(k<0?null:yD(n,l[k],m[S+1],i.metadata.read))}c.matches=I}return c.matches}function pE(t,n,i,o){const c=t.queries.getByIndex(i),l=c.matches;if(null!==l){const m=YT(t,n,c,i);for(let I=0;I<l.length;I+=2){const S=l[I];if(S>0)o.push(m[I/2]);else{const k=l[I+1],q=n[-S];for(let oe=mi;oe<q.length;oe++){const De=q[oe];De[uo]===De[br]&&pE(De[jt],De,k,o)}if(null!==q[ds]){const oe=q[ds];for(let De=0;De<oe.length;De++){const xe=oe[De];pE(xe[jt],xe,k,o)}}}}}return o}function ZT(t){const n=ht(),i=Ir(),o=ue();$e(o+1);const c=rw(i,o);if(t.dirty&&function ud(t){return 4==(4&t[vn])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const l=c.crossesNgTemplate?pE(i,n,o,[]):YT(i,n,c,o);t.reset(l,WE),t.notifyOnChanges()}return!0}return!1}function JT(t,n,i,o){const c=Ir();if(c.firstCreatePass){const l=ps();(function nw(t,n,i){null===t.queries&&(t.queries=new hE),t.queries.track(new fE(n,i))})(c,new XT(n,i,o),l.index),function TD(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}!function tw(t,n,i){const o=new uE(4==(4&i));(function hI(t,n,i,o){const c=Dv(n);c.push(i),t.firstCreatePass&&bv(t).push(o,c.length-1)})(t,n,o,o.destroy),null===n[Hi]&&(n[Hi]=new dE),n[Hi].queries.push(new lE(o))}(c,ht(),i)}function ew(){return function ID(t,n){return t[Hi].queries[n].queryList}(ht(),ue())}function rw(t,n){return t.queries.getByIndex(n)}function gE(t){return!!Xr(t)}const Ew=new _e("Application Initializer");let EE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=Wn(Ew,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const l=c();if(cp(l))i.push(l);else if(Qg(l)){const m=new Promise((I,S)=>{l.subscribe({complete:I,error:S})});i.push(m)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(c=>{this.reject(c)}),0===i.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Iw=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const cy=new _e("LocaleId",{providedIn:"root",factory:()=>Wn(cy,Vt.Optional|Vt.SkipSelf)||function zD(){return typeof $localize<"u"&&$localize.locale||Ap}()}),GD=new _e("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Tw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class qD{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let KD=(()=>{class t{compileModuleSync(i){return new oE(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),l=tc(Xr(i).declarations).reduce((m,I)=>{const S=Vn(I);return S&&m.push(new Qf(S)),m},[]);return new qD(o,l)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const bw=new _e(""),Sw=new _e("");let wE,mb=(()=>{class t{constructor(i,o,c){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wE||(function _b(t){wE=t}(c),c.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,c){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==l),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:l,updateCb:c})}whenStable(i,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,c){return[]}static{this.\u0275fac=function(o){return new(o||t)(Er(no),Er(Cw),Er(Sw))}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac})}}return t})(),Cw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return wE?.findTestabilityInTree(this,i,o)??null}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),ad=null;const Rw=new _e("AllowMultipleToken"),AE=new _e("PlatformDestroyListeners"),DE=new _e("appBootstrapListener");class Eb{constructor(n,i){this.name=n,this.token=i}}function Nw(t,n,i=[]){const o=`Platform: ${n}`,c=new _e(o);return(l=[])=>{let m=bE();if(!m||m.injector.get(Rw,!1)){const I=[...i,...l,{provide:c,useValue:!0}];t?t(I):function Ib(t){if(ad&&!ad.get(Rw,!1))throw new be(400,!1);(function Pw(){!function Xe(t){ie=t}(()=>{throw new be(600,!1)})})(),ad=t;const n=t.get(xw);(function Mw(t){t.get(Ju,null)?.forEach(i=>i())})(t)}(function Ow(t=[],n){return Oa.create({name:n,providers:[{provide:Jm,useValue:"platform"},{provide:AE,useValue:new Set([()=>ad=null])},...t]})}(I,o))}return function wb(t){const n=bE();if(!n)throw new be(401,!1);return n}()}}function bE(){return ad?.get(xw)??null}let xw=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const c=function Ab(t="zone.js",n){return"noop"===t?new iv:"zone.js"===t?new no(n):t}(o?.ngZone,function kw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return c.run(()=>{const l=function S0(t,n,i){return new sE(t,n,i)}(i.moduleType,this.injector,function Bw(t){return[{provide:no,useFactory:t},{provide:Fl,multi:!0,useFactory:()=>{const n=Wn(bb,{optional:!0});return()=>n.initialize()}},{provide:Uw,useFactory:Db},{provide:sv,useFactory:ov}]}(()=>c)),m=l.injector.get(Xc,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:S=>{m.handleError(S)}});l.onDestroy(()=>{dy(this._modules,l),I.unsubscribe()})}),function Fw(t,n,i){try{const o=i();return cp(o)?o.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(m,c,()=>{const I=l.injector.get(EE);return I.runInitializers(),I.donePromise.then(()=>(function eT(t){_r(t,"Expected localeId to be defined"),"string"==typeof t&&(JI=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(cy,Ap)||Ap),this._moduleDoBootstrap(l),l))})})}bootstrapModule(i,o=[]){const c=Lw({},o);return function yb(t,n,i){const o=new oE(i);return Promise.resolve(o)}(0,0,i).then(l=>this.bootstrapModuleFactory(l,c))}_moduleDoBootstrap(i){const o=i.injector.get(Sp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new be(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(AE,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(o){return new(o||t)(Er(Oa))}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function Lw(t,n){return Array.isArray(n)?n.reduce(Lw,t):{...t,...n}}let Sp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Wn(Uw),this.zoneIsStable=Wn(sv),this.componentTypes=[],this.components=[],this.isStable=Wn(Tw).hasPendingTasks.pipe((0,Ht.n)(i=>i?(0,Ee.of)(!1):this.zoneIsStable),function qn(t,n=ln.D){return t=t??mr,(0,_t.N)((i,o)=>{let c,l=!0;i.subscribe((0,pn._)(o,m=>{const I=n(m);(l||!t(c,I))&&(l=!1,c=I,o.next(m))}))})}(),gt()),this._injector=Wn(Eu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const c=i instanceof Qy;if(!this._injector.get(EE).done)throw!c&&Us(i),new be(405,!1);let m;m=c?i:this._injector.get(Sg).resolveComponentFactory(i),this.componentTypes.push(m.componentType);const I=function vb(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Hh),k=m.create(Oa.NULL,[],o||m.selector,I),q=k.location.nativeElement,oe=k.injector.get(bw,null);return oe?.registerApplication(q),k.onDestroy(()=>{this.detachView(k.hostView),dy(this.components,k),oe?.unregisterApplication(q)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;dy(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(DE,[]);o.push(...this._bootstrapListeners),o.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>dy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new be(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function dy(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const Uw=new _e("",{providedIn:"root",factory:()=>Wn(Xc).handleError.bind(void 0)});function Db(){const t=Wn(no),n=Wn(Xc);return i=>t.runOutsideAngular(()=>n.handleError(i))}let bb=(()=>{class t{constructor(){this.zone=Wn(no),this.applicationRef=Wn(Sp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let Cb=(()=>{class t{static{this.__NG_ELEMENT_ID__=Rb}}return t})();function Rb(t){return function Pb(t,n,i){if(ae(t)&&!i){const o=Os(t.index,n);return new Kf(o,o)}return 47&t.type?new Kf(n[Vr],n):null}(ps(),ht(),16==(16&t))}class Gw{constructor(){}supports(n){return we(n)}create(n){return new kb(n)}}const xb=(t,n)=>n;class kb{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||xb}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,c=0,l=null;for(;i||o;){const m=!o||i&&i.currentIndex<qw(o,c,l)?i:o,I=qw(m,c,l),S=m.currentIndex;if(m===o)c--,o=o._nextRemoved;else if(i=i._next,null==m.previousIndex)c++;else{l||(l=[]);const k=I-c,q=S-c;if(k!=q){for(let De=0;De<k;De++){const xe=De<l.length?l[De]:l[De]=0,st=xe+De;q<=st&&st<k&&(l[De]=xe+1)}l[m.previousIndex]=q-k}}I!==S&&n(m,I,S)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!we(n))throw new be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,l,m,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)l=n[I],m=this._trackByFn(I,l),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,l,m,I)),Object.is(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,m,I),o=!0),i=i._next}else c=0,function Fe(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,I=>{m=this._trackByFn(c,I),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,I,m,c)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,m,c),o=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,c){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,l,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,l,c)):n=this._addAfter(new Fb(i,o),l,c),n}_verifyReinsertion(n,i,o,c){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?n=this._reinsertAfter(l,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,l=n._nextRemoved;return null===c?this._removalsHead=l:c._nextRemoved=l,null===l?this._removalsTail=c:l._prevRemoved=c,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Ww),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ww),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Fb{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lb{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class Ww{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new Lb,this.map.set(i,o)),o.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qw(t,n,i){const o=t.previousIndex;if(null===o)return o;let c=0;return i&&o<i.length&&(c=i[o]),o+n+c}class Kw{constructor(){}supports(n){return n instanceof Map||We(n)}create(){return new Vb}}class Vb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||We(n)))throw new be(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const l=this._getOrCreateRecordForKey(c,o);i=this._insertBeforeOrAppend(i,l)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const l=c._prev,m=c._next;return l&&(l._next=m),m&&(m._prev=l),c._next=null,c._prev=null,c}const o=new Ub(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class Ub{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qw(){return new ME([new Gw])}let ME=(()=>{class t{static{this.\u0275prov=At({token:t,providedIn:"root",factory:Qw})}constructor(i){this.factories=i}static create(i,o){if(null!=o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||Qw()),deps:[[t,new ju,new Mc]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(null!=o)return o;throw new be(901,!1)}}return t})();function Xw(){return new NE([new Kw])}let NE=(()=>{class t{static{this.\u0275prov=At({token:t,providedIn:"root",factory:Xw})}constructor(i){this.factories=i}static create(i,o){if(o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||Xw()),deps:[[t,new ju,new Mc]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(o)return o;throw new be(901,!1)}}return t})();const $b=Nw(null,"core",[]);let Hb=(()=>{class t{constructor(i){}static{this.\u0275fac=function(o){return new(o||t)(Er(Sp))}}static{this.\u0275mod=Ts({type:t})}static{this.\u0275inj=Lt({})}}return t})();function eS(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function nS(t){const n=Vn(t);if(!n)return null;const i=new Qf(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7440:(_n,dt,ne)=>{ne.d(dt,{MW:()=>_t,Wp:()=>ln,XU:()=>Ke,gL:()=>se});var N=ne(2214),Ie=ne(540),Pe=ne(3586);class Ke{constructor(pt){return pt}}class se{constructor(){return(0,N.Dk)()}}const Rt=new Ie.nKC("angularfire2._apps"),et={provide:Ke,useFactory:function Ve(rt){return rt&&1===rt.length?rt[0]:new Ke((0,N.Sx)())},deps:[[new Ie.Xx1,Rt]]},he={provide:se,deps:[[new Ie.Xx1,Rt]]};function Ee(rt){return(pt,it)=>{const xt=pt.runOutsideAngular(()=>rt(it));return new Ke(xt)}}let qe=(()=>{class rt{constructor(it){(0,N.KO)("angularfire",Pe.xv.full,"core"),(0,N.KO)("angularfire",Pe.xv.full,"app"),(0,N.KO)("angular",Ie.xvI.full,it.toString())}static \u0275fac=function(xt){return new(xt||rt)(Ie.KVO(Ie.Agw))};static \u0275mod=Ie.$C({type:rt});static \u0275inj=Ie.G2t({providers:[et,he]})}return rt})();function _t(rt,...pt){return{ngModule:qe,providers:[{provide:Rt,useFactory:Ee(rt),multi:!0,deps:[Ie.SKi,Ie.zZn,Pe.u0,...pt]}]}}const ln=(0,Pe.S3)(N.Wp,!0)},4665:(_n,dt,ne)=>{ne.d(dt,{Nj:()=>Pa,DF:()=>Nc,eJ:()=>Nm,xI:()=>Oc,_q:()=>Lp,r7:()=>Al});var N=ne(3586),Ie=ne(540),Pe=ne(7440),Ke=ne(2214),se=ne(467),de=ne(7852),Ve=ne(1076),Rt=ne(8041),et=ne(1635),he=ne(1362);const qn=function ln(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mr=new Ve.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new Rt.Vy("@firebase/auth");function xt(E,...d){pt.logLevel<=Rt.$b.ERROR&&pt.error(`Auth (${de.MF}): ${E}`,...d)}function Ut(E,...d){throw ni(E,...d)}function bt(E,...d){return ni(E,...d)}function ot(E,d,p){const D=Object.assign(Object.assign({},qn()),{[d]:p});return new Ve.FA("auth","Firebase",D).create(d,{appName:E.name})}function Zt(E){return ot(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ni(E,...d){if("string"!=typeof E){const p=d[0],D=[...d.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(p,...D)}return mr.create(E,...d)}function mt(E,d,...p){if(!E)throw ni(d,...p)}function be(E){const d="INTERNAL ASSERTION FAILED: "+E;throw xt(d),new Error(d)}function qt(E,d){E||be(d)}function wt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function St(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class le{constructor(d,p){this.shortDelay=d,this.longDelay=p,qt(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,Ve.jZ)()||(0,Ve.lV)()}get(){return function Ot(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function mn(){return"http:"===St()||"https:"===St()}()||(0,Ve.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Y(E,d){qt(E.emulator,"Emulator should always be set here");const{url:p}=E.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class ee{static initialize(d,p,D){this.fetchImpl=d,p&&(this.headersImpl=p),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Be=new le(3e4,6e4);function ut(E,d){return E.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:E.tenantId}):d}function yt(E,d,p,D){return On.apply(this,arguments)}function On(){return(On=(0,se.A)(function*(E,d,p,D,j={}){return on(E,j,(0,se.A)(function*(){let Z={},Ae={};D&&("GET"===d?Ae=D:Z={body:JSON.stringify(D)});const He=(0,Ve.Am)(Object.assign({key:E.config.apiKey},Ae)).slice(1),ct=yield E._getAdditionalHeaders();ct["Content-Type"]="application/json",E.languageCode&&(ct["X-Firebase-Locale"]=E.languageCode);const en=Object.assign({method:d,headers:ct},Z);return(0,Ve.c1)()||(en.referrerPolicy="no-referrer"),ee.fetch()(Tn(E,E.config.apiHost,p,He),en)}))})).apply(this,arguments)}function on(E,d,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,se.A)(function*(E,d,p){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ce),d);try{const j=new _r(E),Z=yield Promise.race([p(),j.promise]);j.clearNetworkTimeout();const Ae=yield Z.json();if("needConfirmation"in Ae)throw at(E,"account-exists-with-different-credential",Ae);if(Z.ok&&!("errorMessage"in Ae))return Ae;{const He=Z.ok?Ae.errorMessage:Ae.error.message,[ct,en]=He.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw at(E,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===ct)throw at(E,"email-already-in-use",Ae);if("USER_DISABLED"===ct)throw at(E,"user-disabled",Ae);const Fn=D[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(en)throw ot(E,Fn,en);Ut(E,Fn)}}catch(j){if(j instanceof Ve.g)throw j;Ut(E,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function Pn(E,d,p,D){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,se.A)(function*(E,d,p,D,j={}){const Z=yield yt(E,d,p,D,j);return"mfaPendingCredential"in Z&&Ut(E,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Tn(E,d,p,D){const j=`${d}${p}?${D}`;return E.config.emulator?Y(E.config,j):`${E.config.apiScheme}://${j}`}function Hr(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _r{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,D)=>{this.timer=setTimeout(()=>D(bt(this.auth,"network-request-failed")),Be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function at(E,d,p){const D={appName:E.name};p.email&&(D.email=p.email),p.phoneNumber&&(D.phoneNumber=p.phoneNumber);const j=bt(E,d,D);return j.customData._tokenResponse=p,j}function yn(E){return void 0!==E&&void 0!==E.enterprise}class $n{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===d)return Hr(p.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function Lt(E,d){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,se.A)(function*(E,d){return yt(E,"GET","/v2/recaptchaConfig",ut(E,d))})).apply(this,arguments)}function It(){return(It=(0,se.A)(function*(E,d){return yt(E,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function vr(E,d){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,se.A)(function*(E,d){return yt(E,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Cn(E){if(E)try{const d=new Date(Number(E));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function _s(){return(_s=(0,se.A)(function*(E,d=!1){const p=(0,Ve.Ku)(E),D=yield p.getIdToken(d),j=or(D);mt(j&&j.exp&&j.auth_time&&j.iat,p.auth,"internal-error");const Z="object"==typeof j.firebase?j.firebase:void 0,Ae=Z?.sign_in_provider;return{claims:j,token:D,authTime:Cn(xi(j.auth_time)),issuedAtTime:Cn(xi(j.iat)),expirationTime:Cn(xi(j.exp)),signInProvider:Ae||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function xi(E){return 1e3*Number(E)}function or(E){const[d,p,D]=E.split(".");if(void 0===d||void 0===p||void 0===D)return xt("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,Ve.u)(p);return j?JSON.parse(j):(xt("Failed to decode base64 JWT payload"),null)}catch(j){return xt("Caught error parsing JWT payload as JSON",j?.toString()),null}}function Tr(E){const d=or(E);return mt(d,"internal-error"),mt(typeof d.exp<"u","internal-error"),mt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function ar(E,d){return tn.apply(this,arguments)}function tn(){return(tn=(0,se.A)(function*(E,d,p=!1){if(p)return d;try{return yield d}catch(D){throw D instanceof Ve.g&&function vi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}class rs{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const j=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const D=this.getInterval(d);this.timerId=setTimeout((0,se.A)(function*(){yield p.iteration()}),D)}iteration(){var d=this;return(0,se.A)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class _e{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cn(this.lastLoginAt),this.creationTime=Cn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wr(E){return xr.apply(this,arguments)}function xr(){return(xr=(0,se.A)(function*(E){var d;const p=E.auth,D=yield E.getIdToken(),j=yield ar(E,vr(p,{idToken:D}));mt(j?.users.length,p,"internal-error");const Z=j.users[0];E._notifyReloadListener(Z);const Ae=null!==(d=Z.providerUserInfo)&&void 0!==d&&d.length?W(Z.providerUserInfo):[],He=function Ye(E,d){return[...E.filter(D=>!d.some(j=>j.providerId===D.providerId)),...d]}(E.providerData,Ae),Fn=!!E.isAnonymous&&!(E.email&&Z.passwordHash||He?.length),jn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:He,metadata:new _e(Z.createdAt,Z.lastLoginAt),isAnonymous:Fn};Object.assign(E,jn)})).apply(this,arguments)}function Si(){return(Si=(0,se.A)(function*(E){const d=(0,Ve.Ku)(E);yield wr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function W(E){return E.map(d=>{var{providerId:p}=d,D=(0,et.Tt)(d,["providerId"]);return{providerId:p,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function K(){return(K=(0,se.A)(function*(E,d){const p=yield on(E,{},(0,se.A)(function*(){const D=(0,Ve.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:j,apiKey:Z}=E.config,Ae=Tn(E,j,"/v1/token",`key=${Z}`),He=yield E._getAdditionalHeaders();return He["Content-Type"]="application/x-www-form-urlencoded",ee.fetch()(Ae,{method:"POST",headers:He,body:D})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function me(){return(me=(0,se.A)(function*(E,d){return yt(E,"POST","/v2/accounts:revokeToken",ut(E,d))})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){mt(d.idToken,"internal-error"),mt(typeof d.idToken<"u","internal-error"),mt(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Tr(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}updateFromIdToken(d){mt(0!==d.length,"internal-error");const p=Tr(d);this.updateTokensAndExpiration(d,null,p)}getToken(d){var p=this;return(0,se.A)(function*(D,j=!1){return j||!p.accessToken||p.isExpired?(mt(p.refreshToken,D,"user-token-expired"),p.refreshToken?(yield p.refresh(D,p.refreshToken),p.accessToken):null):p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var D=this;return(0,se.A)(function*(){const{accessToken:j,refreshToken:Z,expiresIn:Ae}=yield function V(E,d){return K.apply(this,arguments)}(d,p);D.updateTokensAndExpiration(j,Z,Number(Ae))})()}updateTokensAndExpiration(d,p,D){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(d,p){const{refreshToken:D,accessToken:j,expirationTime:Z}=p,Ae=new tt;return D&&(mt("string"==typeof D,"internal-error",{appName:d}),Ae.refreshToken=D),j&&(mt("string"==typeof j,"internal-error",{appName:d}),Ae.accessToken=j),Z&&(mt("number"==typeof Z,"internal-error",{appName:d}),Ae.expirationTime=Z),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return be("not implemented")}}function Pt(E,d){mt("string"==typeof E||typeof E>"u","internal-error",{appName:d})}class kt{constructor(d){var{uid:p,auth:D,stsTokenManager:j}=d,Z=(0,et.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=D,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new _e(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,se.A)(function*(){const D=yield ar(p,p.stsTokenManager.getToken(p.auth,d));return mt(D,p.auth,"internal-error"),p.accessToken!==D&&(p.accessToken=D,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),D})()}getIdTokenResult(d){return function Vt(E){return _s.apply(this,arguments)}(this,d)}reload(){return function ys(E){return Si.apply(this,arguments)}(this)}_assign(d){this!==d&&(mt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new kt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d){var p=this;return(0,se.A)(function*(D,j=!1){let Z=!1;D.idToken&&D.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(D),Z=!0),j&&(yield wr(p)),yield p.auth._persistUserIfCurrent(p),Z&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var d=this;return(0,se.A)(function*(){if((0,de.xZ)(d.auth.app))return Promise.reject(Zt(d.auth));const p=yield d.getIdToken();return yield ar(d,function Hn(E,d){return It.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var D,j,Z,Ae,He,ct,en,Fn;const jn=null!==(D=p.displayName)&&void 0!==D?D:void 0,ui=null!==(j=p.email)&&void 0!==j?j:void 0,Do=null!==(Z=p.phoneNumber)&&void 0!==Z?Z:void 0,bo=null!==(Ae=p.photoURL)&&void 0!==Ae?Ae:void 0,fa=null!==(He=p.tenantId)&&void 0!==He?He:void 0,qu=null!==(ct=p._redirectEventId)&&void 0!==ct?ct:void 0,Dl=null!==(en=p.createdAt)&&void 0!==en?en:void 0,Ku=null!==(Fn=p.lastLoginAt)&&void 0!==Fn?Fn:void 0,{uid:Bd,emailVerified:jd,isAnonymous:$d,providerData:bl,stsTokenManager:Hd}=p;mt(Bd&&Hd,d,"internal-error");const Jp=tt.fromJSON(this.name,Hd);mt("string"==typeof Bd,d,"internal-error"),Pt(jn,d.name),Pt(ui,d.name),mt("boolean"==typeof jd,d,"internal-error"),mt("boolean"==typeof $d,d,"internal-error"),Pt(Do,d.name),Pt(bo,d.name),Pt(fa,d.name),Pt(qu,d.name),Pt(Dl,d.name),Pt(Ku,d.name);const Sl=new kt({uid:Bd,auth:d,email:ui,emailVerified:jd,displayName:jn,isAnonymous:$d,photoURL:bo,phoneNumber:Do,tenantId:fa,stsTokenManager:Jp,createdAt:Dl,lastLoginAt:Ku});return bl&&Array.isArray(bl)&&(Sl.providerData=bl.map(Cl=>Object.assign({},Cl))),qu&&(Sl._redirectEventId=qu),Sl}static _fromIdTokenResponse(d,p){return(0,se.A)(function*(D,j,Z=!1){const Ae=new tt;Ae.updateFromServerResponse(j);const He=new kt({uid:j.localId,auth:D,stsTokenManager:Ae,isAnonymous:Z});return yield wr(He),He}).apply(this,arguments)}static _fromGetAccountInfoResponse(d,p,D){return(0,se.A)(function*(){const j=p.users[0];mt(void 0!==j.localId,"internal-error");const Z=void 0!==j.providerUserInfo?W(j.providerUserInfo):[],Ae=!(j.email&&j.passwordHash||Z?.length),He=new tt;He.updateFromIdToken(D);const ct=new kt({uid:j.localId,auth:d,stsTokenManager:He,isAnonymous:Ae}),en={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:Z,metadata:new _e(j.createdAt,j.lastLoginAt),isAnonymous:!(j.email&&j.passwordHash||Z?.length)};return Object.assign(ct,en),ct})()}}const sn=new Map;function gn(E){qt(E instanceof Function,"Expected a class definition");let d=sn.get(E);return d?(qt(d instanceof E,"Instance stored in cache mismatched with class"),d):(d=new E,sn.set(E,d),d)}const an=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,se.A)(function*(){return!0})()}_set(p,D){var j=this;return(0,se.A)(function*(){j.storage[p]=D})()}_get(p){var D=this;return(0,se.A)(function*(){const j=D.storage[p];return void 0===j?null:j})()}_remove(p){var D=this;return(0,se.A)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}return E.type="NONE",E})();function Gr(E,d,p){return`firebase:${E}:${d}:${p}`}class kr{constructor(d,p,D){this.persistence=d,this.auth=p,this.userKey=D;const{config:j,name:Z}=this.auth;this.fullUserKey=Gr(this.userKey,j.apiKey,Z),this.fullPersistenceKey=Gr("persistence",j.apiKey,Z),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,se.A)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?kt._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,se.A)(function*(){if(p.persistence===d)return;const D=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,D?p.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p){return(0,se.A)(function*(D,j,Z="authUser"){if(!j.length)return new kr(gn(an),D,Z);const Ae=(yield Promise.all(j.map(function(){var jn=(0,se.A)(function*(ui){if(yield ui._isAvailable())return ui});return function(ui){return jn.apply(this,arguments)}}()))).filter(jn=>jn);let He=Ae[0]||gn(an);const ct=Gr(Z,D.config.apiKey,D.name);let en=null;for(const jn of j)try{const ui=yield jn._get(ct);if(ui){const Do=kt._fromJSON(D,ui);jn!==He&&(en=Do),He=jn;break}}catch{}const Fn=Ae.filter(jn=>jn._shouldAllowMigration);return He._shouldAllowMigration&&Fn.length?(He=Fn[0],en&&(yield He._set(ct,en.toJSON())),yield Promise.all(j.map(function(){var jn=(0,se.A)(function*(ui){if(ui!==He)try{yield ui._remove(ct)}catch{}});return function(ui){return jn.apply(this,arguments)}}())),new kr(He,D,Z)):new kr(He,D,Z)}).apply(this,arguments)}}function ci(E){const d=E.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(is(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ci(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(vs(d))return"Blackberry";if(Ge(d))return"Webos";if(ki(d))return"Safari";if((d.includes("chrome/")||Er(d))&&!d.includes("edge/"))return"Chrome";if(Wn(d))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function Ci(E=(0,Ve.ZQ)()){return/firefox\//i.test(E)}function ki(E=(0,Ve.ZQ)()){const d=E.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Er(E=(0,Ve.ZQ)()){return/crios\//i.test(E)}function is(E=(0,Ve.ZQ)()){return/iemobile/i.test(E)}function Wn(E=(0,Ve.ZQ)()){return/android/i.test(E)}function vs(E=(0,Ve.ZQ)()){return/blackberry/i.test(E)}function Ge(E=(0,Ve.ZQ)()){return/webos/i.test(E)}function Re(E=(0,Ve.ZQ)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function nn(E=(0,Ve.ZQ)()){return Re(E)||Wn(E)||Ge(E)||vs(E)||/windows phone/i.test(E)||is(E)}function wn(E,d=[]){let p;switch(E){case"Browser":p=ci((0,Ve.ZQ)());break;case"Worker":p=`${ci((0,Ve.ZQ)())}-${E}`;break;default:p=E}const D=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${de.MF}/${D}`}class nr{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const D=Z=>new Promise((Ae,He)=>{try{Ae(d(Z))}catch(ct){He(ct)}});D.onAbort=p,this.queue.push(D);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,se.A)(function*(){if(p.auth.currentUser===d)return;const D=[];try{for(const j of p.queue)yield j(d),j.onAbort&&D.push(j.onAbort)}catch(j){D.reverse();for(const Z of D)try{Z()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:j?.message})}})()}}function rn(){return(rn=(0,se.A)(function*(E,d={}){return yt(E,"GET","/v2/passwordPolicy",ut(E,d))})).apply(this,arguments)}class Es{constructor(d){var p,D,j,Z;const Ae=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Ae.minPasswordLength)&&void 0!==p?p:6,Ae.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ae.maxPasswordLength),void 0!==Ae.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ae.containsLowercaseCharacter),void 0!==Ae.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ae.containsUppercaseCharacter),void 0!==Ae.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ae.containsNumericCharacter),void 0!==Ae.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ae.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(j=null===(D=d.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==j?j:"",this.forceUpgradeOnSignin=null!==(Z=d.forceUpgradeOnSignin)&&void 0!==Z&&Z,this.schemaVersion=d.schemaVersion}validatePassword(d){var p,D,j,Z,Ae,He;const ct={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,ct),this.validatePasswordCharacterOptions(d,ct),ct.isValid&&(ct.isValid=null===(p=ct.meetsMinPasswordLength)||void 0===p||p),ct.isValid&&(ct.isValid=null===(D=ct.meetsMaxPasswordLength)||void 0===D||D),ct.isValid&&(ct.isValid=null===(j=ct.containsLowercaseLetter)||void 0===j||j),ct.isValid&&(ct.isValid=null===(Z=ct.containsUppercaseLetter)||void 0===Z||Z),ct.isValid&&(ct.isValid=null===(Ae=ct.containsNumericCharacter)||void 0===Ae||Ae),ct.isValid&&(ct.isValid=null===(He=ct.containsNonAlphanumericCharacter)||void 0===He||He),ct}validatePasswordLengthOptions(d,p){const D=this.customStrengthOptions.minPasswordLength,j=this.customStrengthOptions.maxPasswordLength;D&&(p.meetsMinPasswordLength=d.length>=D),j&&(p.meetsMaxPasswordLength=d.length<=j)}validatePasswordCharacterOptions(d,p){let D;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let j=0;j<d.length;j++)D=d.charAt(j),this.updatePasswordCharacterOptionsStatuses(p,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(d,p,D,j,Z){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=j)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=Z))}}class Yo{constructor(d,p,D,j){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=D,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ss(this),this.idTokenSubscription=new ss(this),this.beforeStateQueue=new nr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(d,p){var D=this;return p&&(this._popupRedirectResolver=gn(p)),this._initializationPromise=this.queue((0,se.A)(function*(){var j,Z;if(!D._deleted&&(D.persistenceManager=yield kr.create(D,d),!D._deleted)){if(null!==(j=D._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(p),D.lastNotifiedUid=(null===(Z=D.currentUser)||void 0===Z?void 0:Z.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,se.A)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(d){var p=this;return(0,se.A)(function*(){try{const D=yield vr(p,{idToken:d}),j=yield kt._fromGetAccountInfoResponse(p,D,d);yield p.directlySetCurrentUser(j)}catch(D){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",D),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var p=this;return(0,se.A)(function*(){var D;if((0,de.xZ)(p.app)){const He=p.app.settings.authIdToken;return He?new Promise(ct=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(He).then(ct,ct))}):p.directlySetCurrentUser(null)}const j=yield p.assertedPersistence.getCurrentUser();let Z=j,Ae=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const He=null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId,ct=Z?._redirectEventId,en=yield p.tryRedirectSignIn(d);(!He||He===ct)&&en?.user&&(Z=en.user,Ae=!0)}if(!Z)return p.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Ae)try{yield p.beforeStateQueue.runMiddleware(Z)}catch(He){Z=j,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(He))}return Z?p.reloadAndSetCurrentUserOrClear(Z):p.directlySetCurrentUser(null)}return mt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Z._redirectEventId?p.directlySetCurrentUser(Z):p.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(d){var p=this;return(0,se.A)(function*(){let D=null;try{D=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,se.A)(function*(){try{yield wr(d)}catch(D){if("auth/network-request-failed"!==D?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Me(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var d=this;return(0,se.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,se.A)(function*(){if((0,de.xZ)(p.app))return Promise.reject(Zt(p));const D=d?(0,Ve.Ku)(d):null;return D&&mt(D.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(D&&D._clone(p))})()}_updateCurrentUser(d){var p=this;return(0,se.A)(function*(D,j=!1){if(!p._deleted)return D&&mt(p.tenantId===D.tenantId,p,"tenant-id-mismatch"),j||(yield p.beforeStateQueue.runMiddleware(D)),p.queue((0,se.A)(function*(){yield p.directlySetCurrentUser(D),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var d=this;return(0,se.A)(function*(){return(0,de.xZ)(d.app)?Promise.reject(Zt(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var p=this;return(0,de.xZ)(this.app)?Promise.reject(Zt(this)):this.queue((0,se.A)(function*(){yield p.assertedPersistence.setPersistence(gn(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var p=this;return(0,se.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const D=p._getPasswordPolicyInternal();return D.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,se.A)(function*(){const p=yield function Zn(E){return rn.apply(this,arguments)}(d),D=new Es(p);null===d.tenantId?d._projectPasswordPolicy=D:d._tenantPasswordPolicies[d.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Ve.FA("auth","Firebase",d())}onAuthStateChanged(d,p,D){return this.registerStateListener(this.authStateSubscription,d,p,D)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,D){return this.registerStateListener(this.idTokenSubscription,d,p,D)}authStateReady(){return new Promise((d,p)=>{if(this.currentUser)d();else{const D=this.onAuthStateChanged(()=>{D(),d()},p)}})}revokeAccessToken(d){var p=this;return(0,se.A)(function*(){if(p.currentUser){const D=yield p.currentUser.getIdToken(),j={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:D};null!=p.tenantId&&(j.tenantId=p.tenantId),yield function fe(E,d){return me.apply(this,arguments)}(p,j)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var D=this;return(0,se.A)(function*(){const j=yield D.getOrInitRedirectPersistenceManager(p);return null===d?j.removeCurrentUser():j.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,se.A)(function*(){if(!p.redirectPersistenceManager){const D=d&&gn(d)||p._popupRedirectResolver;mt(D,p,"argument-error"),p.redirectPersistenceManager=yield kr.create(p,[gn(D._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,se.A)(function*(){var D,j;return p._isInitialized&&(yield p.queue((0,se.A)(function*(){}))),(null===(D=p._currentUser)||void 0===D?void 0:D._redirectEventId)===d?p._currentUser:(null===(j=p.redirectUser)||void 0===j?void 0:j._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,se.A)(function*(){if(d===p.currentUser)return p.queue((0,se.A)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,D,j){if(this._deleted)return()=>{};const Z="function"==typeof p?p:p.next.bind(p);let Ae=!1;const He=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(He,this,"internal-error"),He.then(()=>{Ae||Z(this.currentUser)}),"function"==typeof p){const ct=d.addObserver(p,D,j);return()=>{Ae=!0,ct()}}{const ct=d.addObserver(p);return()=>{Ae=!0,ct()}}}directlySetCurrentUser(d){var p=this;return(0,se.A)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,se.A)(function*(){var p;const D={"X-Client-Version":d.clientVersion};d.app.options.appId&&(D["X-Firebase-gmpid"]=d.app.options.appId);const j=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();j&&(D["X-Firebase-Client"]=j);const Z=yield d._getAppCheckToken();return Z&&(D["X-Firebase-AppCheck"]=Z),D})()}_getAppCheckToken(){var d=this;return(0,se.A)(function*(){var p;const D=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return D?.error&&function it(E,...d){pt.logLevel<=Rt.$b.WARN&&pt.warn(`Auth (${de.MF}): ${E}`,...d)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function Pr(E){return(0,Ve.Ku)(E)}class ss{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Ve.tD)(p=>this.observer=p)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let os={loadJS:()=>(0,se.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function li(E){return os.loadJS(E)}function Yi(E){return`__${E}${Math.floor(1e6*Math.random())}`}class io{constructor(d){this.type="recaptcha-enterprise",this.auth=Pr(d)}verify(){var d=this;return(0,se.A)(function*(p="verify",D=!1){function Z(){return Z=(0,se.A)(function*(He){if(!D){if(null==He.tenantId&&null!=He._agentRecaptchaConfig)return He._agentRecaptchaConfig.siteKey;if(null!=He.tenantId&&void 0!==He._tenantRecaptchaConfigs[He.tenantId])return He._tenantRecaptchaConfigs[He.tenantId].siteKey}return new Promise(function(){var ct=(0,se.A)(function*(en,Fn){Lt(He,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(jn=>{if(void 0!==jn.recaptchaKey){const ui=new $n(jn);return null==He.tenantId?He._agentRecaptchaConfig=ui:He._tenantRecaptchaConfigs[He.tenantId]=ui,en(ui.siteKey)}Fn(new Error("recaptcha Enterprise site key undefined"))}).catch(jn=>{Fn(jn)})});return function(en,Fn){return ct.apply(this,arguments)}}())}),Z.apply(this,arguments)}function Ae(He,ct,en){const Fn=window.grecaptcha;yn(Fn)?Fn.enterprise.ready(()=>{Fn.enterprise.execute(He,{action:p}).then(jn=>{ct(jn)}).catch(()=>{ct("NO_RECAPTCHA")})}):en(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((He,ct)=>{(function j(He){return Z.apply(this,arguments)})(d.auth).then(en=>{if(!D&&yn(window.grecaptcha))Ae(en,He,ct);else{if(typeof window>"u")return void ct(new Error("RecaptchaVerifier is only supported in browser"));let Fn=function Po(){return os.recaptchaEnterpriseScript}();0!==Fn.length&&(Fn+=en),li(Fn).then(()=>{Ae(en,He,ct)}).catch(jn=>{ct(jn)})}}).catch(en=>{ct(en)})})}).apply(this,arguments)}}function rr(E,d,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,se.A)(function*(E,d,p,D=!1){const j=new io(E);let Z;try{Z=yield j.verify(p)}catch{Z=yield j.verify(p,!0)}const Ae=Object.assign({},d);return Object.assign(Ae,D?{captchaResp:Z}:{captchaResponse:Z}),Object.assign(Ae,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ae,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ae})).apply(this,arguments)}function Mn(){return Mn=(0,se.A)(function*(E,d,p,D){var j;if(null!==(j=E._getRecaptchaConfig())&&void 0!==j&&j.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Z=yield rr(E,d,p,"getOobCode"===p);return D(E,Z)}return D(E,d).catch(function(){var Z=(0,se.A)(function*(Ae){if("auth/missing-recaptcha-token"===Ae.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const He=yield rr(E,d,p,"getOobCode"===p);return D(E,He)}return Promise.reject(Ae)});return function(Ae){return Z.apply(this,arguments)}}())}),Mn.apply(this,arguments)}function Ar(E){const d=E.indexOf(":");return d<0?"":E.substr(0,d+1)}function Zi(E){if(!E)return null;const d=Number(E);return isNaN(d)?null:d}class Wi{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return be("not implemented")}_getIdTokenResponse(d){return be("not implemented")}_linkToIdToken(d,p){return be("not implemented")}_getReauthenticationResolver(d){return be("not implemented")}}function Lr(E,d){return cs.apply(this,arguments)}function cs(){return(cs=(0,se.A)(function*(E,d){return Pn(E,"POST","/v1/accounts:signInWithIdp",ut(E,d))})).apply(this,arguments)}class Sn{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Bo extends Sn{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function B(E,d){return $.apply(this,arguments)}function $(){return($=(0,se.A)(function*(E,d){return Pn(E,"POST","/v1/accounts:signUp",ut(E,d))})).apply(this,arguments)}class ae{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,D){return(0,se.A)(function*(j,Z,Ae,He=!1){const ct=yield kt._fromIdTokenResponse(j,Ae,He),en=ce(Ae);return new ae({user:ct,providerId:en,_tokenResponse:Ae,operationType:Z})}).apply(this,arguments)}static _forOperation(d,p,D){return(0,se.A)(function*(){yield d._updateTokensIfNecessary(D,!0);const j=ce(D);return new ae({user:d,providerId:j,_tokenResponse:D,operationType:p})})()}}function ce(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class Dt extends Ve.g{constructor(d,p,D,j){var Z;super(p.code,p.message),this.operationType=D,this.user=j,Object.setPrototypeOf(this,Dt.prototype),this.customData={appName:d.name,tenantId:null!==(Z=d.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:p.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(d,p,D,j){return new Dt(d,p,D,j)}}function Kt(E,d,p,D){return("reauthenticate"===d?p._getReauthenticationResolver(E):p._getIdTokenResponse(E)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?Dt._fromErrorAndOperation(E,Z,d,D):Z})}function Ur(){return(Ur=(0,se.A)(function*(E,d,p=!1){const D=yield ar(E,d._linkToIdToken(E.auth,yield E.getIdToken()),p);return ae._forOperation(E,"link",D)})).apply(this,arguments)}function Kn(){return(Kn=(0,se.A)(function*(E,d,p=!1){const{auth:D}=E;if((0,de.xZ)(D.app))return Promise.reject(Zt(D));const j="reauthenticate";try{const Z=yield ar(E,Kt(D,j,d,E),p);mt(Z.idToken,D,"internal-error");const Ae=or(Z.idToken);mt(Ae,D,"internal-error");const{sub:He}=Ae;return mt(E.uid===He,D,"user-mismatch"),ae._forOperation(E,j,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&Ut(D,"user-mismatch"),Z}})).apply(this,arguments)}function wi(){return(wi=(0,se.A)(function*(E,d,p=!1){if((0,de.xZ)(E.app))return Promise.reject(Zt(E));const D="signIn",j=yield Kt(E,D,d),Z=yield ae._fromIdTokenResponse(E,D,j);return p||(yield E._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function Jr(){return(Jr=(0,se.A)(function*(E){const d=Pr(E);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function J(E,d,p){return ge.apply(this,arguments)}function ge(){return(ge=(0,se.A)(function*(E,d,p){if((0,de.xZ)(E.app))return Promise.reject(Zt(E));const D=Pr(E),Ae=yield function Mr(E,d,p,D){return Mn.apply(this,arguments)}(D,{returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B).catch(ct=>{throw"auth/password-does-not-meet-requirements"===ct.code&&function Hs(E){return Jr.apply(this,arguments)}(E),ct}),He=yield ae._fromIdTokenResponse(D,"signIn",Ae);return yield D._updateCurrentUser(He.user),He})).apply(this,arguments)}function kn(){return(kn=(0,se.A)(function*(E,d){return yt(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function cn(E,d){return cr.apply(this,arguments)}function cr(){return cr=(0,se.A)(function*(E,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const D=(0,Ve.Ku)(E),Z={idToken:yield D.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},Ae=yield ar(D,function ur(E,d){return kn.apply(this,arguments)}(D.auth,Z));D.displayName=Ae.displayName||null,D.photoURL=Ae.photoUrl||null;const He=D.providerData.find(({providerId:ct})=>"password"===ct);He&&(He.displayName=D.displayName,He.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Ae)}),cr.apply(this,arguments)}const nu="__sak";class il{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(nu,"1"),this.storage.removeItem(nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const sl=(()=>{class E extends il{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,D)=>this.onStorageEvent(p,D),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const D of Object.keys(this.listeners)){const j=this.storage.getItem(D),Z=this.localCache[D];j!==Z&&p(D,Z,j)}}onStorageEvent(p,D=!1){if(!p.key)return void this.forAllChangedKeys((He,ct,en)=>{this.notifyListeners(He,en)});const j=p.key;D?this.detachListener():this.stopPolling();const Z=()=>{const He=this.storage.getItem(j);!D&&this.localCache[j]===He||this.notifyListeners(j,He)},Ae=this.storage.getItem(j);!function dn(){return(0,Ve.lT)()&&10===document.documentMode}()||Ae===p.newValue||p.newValue===p.oldValue?Z():setTimeout(Z,10)}notifyListeners(p,D){this.localCache[p]=D;const j=this.listeners[p];if(j)for(const Z of Array.from(j))Z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,D,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:D,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,D){var j=()=>super._set,Z=this;return(0,se.A)(function*(){yield j().call(Z,p,D),Z.localCache[p]=JSON.stringify(D)})()}_get(p){var D=()=>super._get,j=this;return(0,se.A)(function*(){const Z=yield D().call(j,p);return j.localCache[p]=JSON.stringify(Z),Z})()}_remove(p){var D=()=>super._remove,j=this;return(0,se.A)(function*(){yield D().call(j,p),delete j.localCache[p]})()}}return E.type="LOCAL",E})(),Ni=(()=>{class E extends il{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,D){}_removeListener(p,D){}}return E.type="SESSION",E})();let dc=(()=>{class E{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(Z=>Z.isListeningto(p));if(D)return D;const j=new E(p);return this.receivers.push(j),j}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,se.A)(function*(){const j=p,{eventId:Z,eventType:Ae,data:He}=j.data,ct=D.handlersMap[Ae];if(!ct?.size)return;j.ports[0].postMessage({status:"ack",eventId:Z,eventType:Ae});const en=Array.from(ct).map(function(){var jn=(0,se.A)(function*(ui){return ui(j.origin,He)});return function(ui){return jn.apply(this,arguments)}}()),Fn=yield function lc(E){return Promise.all(E.map(function(){var d=(0,se.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(D){return{fulfilled:!1,reason:D}}});return function(p){return d.apply(this,arguments)}}()))}(en);j.ports[0].postMessage({status:"done",eventId:Z,eventType:Ae,response:Fn})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function xo(E="",d=10){let p="";for(let D=0;D<d;D++)p+=Math.floor(10*Math.random());return E+p}class ru{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p){var D=this;return(0,se.A)(function*(j,Z,Ae=50){const He=typeof MessageChannel<"u"?new MessageChannel:null;if(!He)throw new Error("connection_unavailable");let ct,en;return new Promise((Fn,jn)=>{const ui=xo("",20);He.port1.start();const Do=setTimeout(()=>{jn(new Error("unsupported_event"))},Ae);en={messageChannel:He,onMessage(bo){const fa=bo;if(fa.data.eventId===ui)switch(fa.data.status){case"ack":clearTimeout(Do),ct=setTimeout(()=>{jn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ct),Fn(fa.data.response);break;default:clearTimeout(Do),clearTimeout(ct),jn(new Error("invalid_response"))}}},D.handlers.add(en),He.port1.addEventListener("message",en.onMessage),D.target.postMessage({eventType:j,eventId:ui,data:Z},[He.port2])}).finally(()=>{en&&D.removeMessageHandler(en)})}).apply(this,arguments)}}function Kr(){return window}function hc(){return typeof Kr().WorkerGlobalScope<"u"&&"function"==typeof Kr().importScripts}function ht(){return(ht=(0,se.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gc="firebaseLocalStorageDb",Ho="firebaseLocalStorage",ra="fbase_key";class zs{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function wa(E,d){return E.transaction([Ho],d?"readwrite":"readonly").objectStore(Ho)}function iu(){const E=indexedDB.open(gc,1);return new Promise((d,p)=>{E.addEventListener("error",()=>{p(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(Ho,{keyPath:ra})}catch(j){p(j)}}),E.addEventListener("success",(0,se.A)(function*(){const D=E.result;D.objectStoreNames.contains(Ho)?d(D):(D.close(),yield function Ba(){const E=indexedDB.deleteDatabase(gc);return new zs(E).toPromise()}(),d(yield iu()))}))})}function al(E,d,p){return mc.apply(this,arguments)}function mc(){return(mc=(0,se.A)(function*(E,d,p){const D=wa(E,!0).put({[ra]:d,value:p});return new zs(D).toPromise()})).apply(this,arguments)}function ko(){return(ko=(0,se.A)(function*(E,d){const p=wa(E,!1).get(d),D=yield new zs(p).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ul(E,d){const p=wa(E,!0).delete(d);return new zs(p).toPromise()}const b=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,se.A)(function*(){return p.db||(p.db=yield iu()),p.db})()}_withRetries(p){var D=this;return(0,se.A)(function*(){let j=0;for(;;)try{const Z=yield D._openDb();return yield p(Z)}catch(Z){if(j++>3)throw Z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,se.A)(function*(){return hc()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,se.A)(function*(){p.receiver=dc._getInstance(function pc(){return hc()?self:null}()),p.receiver._subscribe("keyChanged",function(){var D=(0,se.A)(function*(j,Z){return{keyProcessed:(yield p._poll()).includes(Z.key)}});return function(j,Z){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,se.A)(function*(j,Z){return["keyChanged"]});return function(j,Z){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,se.A)(function*(){var D,j;if(p.activeServiceWorker=yield function fc(){return ht.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ru(p.activeServiceWorker);const Z=yield p.sender._send("ping",{},800);Z&&null!==(D=Z[0])&&void 0!==D&&D.fulfilled&&null!==(j=Z[0])&&void 0!==j&&j.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,se.A)(function*(){if(D.sender&&D.activeServiceWorker&&function Ir(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,se.A)(function*(){try{if(!indexedDB)return!1;const p=yield iu();return yield al(p,nu,"1"),yield ul(p,nu),!0}catch{}return!1})()}_withPendingWrite(p){var D=this;return(0,se.A)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var j=this;return(0,se.A)(function*(){return j._withPendingWrite((0,se.A)(function*(){return yield j._withRetries(Z=>al(Z,p,D)),j.localCache[p]=D,j.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,se.A)(function*(){const j=yield D._withRetries(Z=>function xs(E,d){return ko.apply(this,arguments)}(Z,p));return D.localCache[p]=j,j})()}_remove(p){var D=this;return(0,se.A)(function*(){return D._withPendingWrite((0,se.A)(function*(){return yield D._withRetries(j=>ul(j,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,se.A)(function*(){const D=yield p._withRetries(Ae=>{const He=wa(Ae,!1).getAll();return new zs(He).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const j=[],Z=new Set;if(0!==D.length)for(const{fbase_key:Ae,value:He}of D)Z.add(Ae),JSON.stringify(p.localCache[Ae])!==JSON.stringify(He)&&(p.notifyListeners(Ae,He),j.push(Ae));for(const Ae of Object.keys(p.localCache))p.localCache[Ae]&&!Z.has(Ae)&&(p.notifyListeners(Ae,null),j.push(Ae));return j})()}notifyListeners(p,D){this.localCache[p]=D;const j=this.listeners[p];if(j)for(const Z of Array.from(j))Z(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,se.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();Yi("rcb"),new le(3e4,6e4);class Nu extends Wi{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Lr(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Lr(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Lr(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function hd(E){return function zi(E,d){return wi.apply(this,arguments)}(E.auth,new Nu(E),E.bypassAuthState)}function fd(E){const{auth:d,user:p}=E;return mt(p,d,"internal-error"),function Ti(E,d){return Kn.apply(this,arguments)}(p,new Nu(E),E.bypassAuthState)}function Pp(E){return aa.apply(this,arguments)}function aa(){return(aa=(0,se.A)(function*(E){const{auth:d,user:p}=E;return mt(p,d,"internal-error"),function qr(E,d){return Ur.apply(this,arguments)}(p,new Nu(E),E.bypassAuthState)})).apply(this,arguments)}class uu{constructor(d,p,D,j,Z=!1){this.auth=d,this.resolver=D,this.user=j,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,se.A)(function*(D,j){d.pendingPromise={resolve:D,reject:j};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(Z){d.reject(Z)}});return function(D,j){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,se.A)(function*(){const{urlResponse:D,sessionId:j,postBody:Z,tenantId:Ae,error:He,type:ct}=d;if(He)return void p.reject(He);const en={auth:p.auth,requestUri:D,sessionId:j,tenantId:Ae||void 0,postBody:Z||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ct)(en))}catch(Fn){p.reject(Fn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return hd;case"linkViaPopup":case"linkViaRedirect":return Pp;case"reauthViaPopup":case"reauthViaRedirect":return fd;default:Ut(this.auth,"internal-error")}}resolve(d){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new le(2e3,1e4);const pd="pendingRedirect",ua=new Map;class xu extends uu{constructor(d,p,D=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,D),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,se.A)(function*(){let D=ua.get(p.auth._key());if(!D){try{const Z=(yield function Sa(E,d){return ca.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;D=()=>Promise.resolve(Z)}catch(j){D=()=>Promise.reject(j)}ua.set(p.auth._key(),D)}return p.bypassAuthState||ua.set(p.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,D=this;return(0,se.A)(function*(){if("signInViaRedirect"===d.type)return p().call(D,d);if("unknown"!==d.type){if(d.eventId){const j=yield D.auth._redirectUserForId(d.eventId);if(j)return D.user=j,p().call(D,d);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,se.A)(function*(){})()}cleanUp(){}}function ca(){return(ca=(0,se.A)(function*(E,d){const p=function ho(E){return Gr(pd,E.config.apiKey,E.name)}(d),D=function vc(E){return gn(E._redirectPersistence)}(E);if(!(yield D._isAvailable()))return!1;const j="true"===(yield D._get(p));return yield D._remove(p),j})).apply(this,arguments)}function md(E,d){ua.set(E._key(),d)}function yd(E,d){return ku.apply(this,arguments)}function ku(){return(ku=(0,se.A)(function*(E,d,p=!1){if((0,de.xZ)(E.app))return Promise.reject(Zt(E));const D=Pr(E),j=function Fs(E,d){return d?gn(d):(mt(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}(D,d),Ae=yield new xu(D,j,p).execute();return Ae&&!p&&(delete Ae.user._redirectEventId,yield D._persistUserIfCurrent(Ae.user),yield D._setRedirectUser(null,d)),Ae})).apply(this,arguments)}class Ed{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(d,D)&&(p=!0,this.sendToConsumer(d,D),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function to(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Id(E);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var D;if(d.error&&!Id(d)){const j=(null===(D=d.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";p.onError(bt(this.auth,j))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const D=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&D}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fu(d))}saveEventToCache(d){this.cachedEventUids.add(Fu(d)),this.lastProcessedEventTime=Date.now()}}function Fu(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(d=>d).join("-")}function Id({type:E,error:d}){return"unknown"===E&&"auth/no-auth-event"===d?.code}function ha(){return(ha=(0,se.A)(function*(E,d={}){return yt(E,"GET","/v1/projects",d)})).apply(this,arguments)}const du=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qh=/^https?/;function wc(){return wc=(0,se.A)(function*(E){if(E.config.emulator)return;const{authorizedDomains:d}=yield function Kh(E){return ha.apply(this,arguments)}(E);for(const p of d)try{if(hu(p))return}catch{}Ut(E,"unauthorized-domain")}),wc.apply(this,arguments)}function hu(E){const d=wt(),{protocol:p,hostname:D}=new URL(d);if(E.startsWith("chrome-extension://")){const Ae=new URL(E);return""===Ae.hostname&&""===D?"chrome-extension:"===p&&E.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Ae.hostname===D}if(!Qh.test(p))return!1;if(du.test(E))return D===E;const j=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(D)}const Lu=new le(3e4,6e4);function fu(){const E=Kr().___jsl;if(E?.H)for(const d of Object.keys(E.H))if(E.H[d].r=E.H[d].r||[],E.H[d].L=E.H[d].L||[],E.H[d].r=[...E.H[d].L],E.CP)for(let p=0;p<E.CP.length;p++)E.CP[p]=null}let $a=null;const Sm=new le(5e3,15e3),xp="__/auth/iframe",Cm="emulator/auth/iframe",Rm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pm(E){const d=E.config;mt(d.authDomain,E,"auth-domain-config-required");const p=d.emulator?Y(d,Cm):`https://${E.config.authDomain}/${xp}`,D={apiKey:d.apiKey,appName:E.name,v:de.MF},j=Yh.get(E.config.apiHost);j&&(D.eid=j);const Z=E._getFrameworks();return Z.length&&(D.fw=Z.join(",")),`${p}?${(0,Ve.Am)(D).slice(1)}`}function Ac(){return Ac=(0,se.A)(function*(E){const d=yield function Ui(E){return $a=$a||function Xh(E){return new Promise((d,p)=>{var D,j,Z;function Ae(){fu(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{fu(),p(bt(E,"network-request-failed"))},timeout:Lu.get()})}if(null!==(j=null===(D=Kr().gapi)||void 0===D?void 0:D.iframes)&&void 0!==j&&j.Iframe)d(gapi.iframes.getContext());else{if(null===(Z=Kr().gapi)||void 0===Z||!Z.load){const He=Yi("iframefcb");return Kr()[He]=()=>{gapi.load?Ae():p(bt(E,"network-request-failed"))},li(`${function ii(){return os.gapiScript}()}?onload=${He}`).catch(ct=>p(ct))}Ae()}}).catch(d=>{throw $a=null,d})}(E),$a}(E),p=Kr().gapi;return mt(p,E,"internal-error"),d.open({where:document.body,url:Pm(E),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rm,dontclear:!0},D=>new Promise(function(){var j=(0,se.A)(function*(Z,Ae){yield D.restyle({setHideOnLeave:!1});const He=bt(E,"network-request-failed"),ct=Kr().setTimeout(()=>{Ae(He)},Sm.get());function en(){Kr().clearTimeout(ct),Z(D)}D.ping(en).then(en,()=>{Ae(He)})});return function(Z,Ae){return j.apply(this,arguments)}}()))}),Ac.apply(this,arguments)}const Vu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ra{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Uu="__/auth/handler",bd="emulator/auth/handler",dl=encodeURIComponent("fac");function pu(E,d,p,D,j,Z){return hl.apply(this,arguments)}function hl(){return(hl=(0,se.A)(function*(E,d,p,D,j,Z){mt(E.config.authDomain,E,"auth-domain-config-required"),mt(E.config.apiKey,E,"invalid-api-key");const Ae={apiKey:E.config.apiKey,appName:E.name,authType:p,redirectUrl:D,v:de.MF,eventId:j};if(d instanceof Sn){d.setDefaultLanguage(E.languageCode),Ae.providerId=d.providerId||"",(0,Ve.Im)(d.getCustomParameters())||(Ae.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Fn,jn]of Object.entries(Z||{}))Ae[Fn]=jn}if(d instanceof Bo){const Fn=d.getScopes().filter(jn=>""!==jn);Fn.length>0&&(Ae.scopes=Fn.join(","))}E.tenantId&&(Ae.tid=E.tenantId);const He=Ae;for(const Fn of Object.keys(He))void 0===He[Fn]&&delete He[Fn];const ct=yield E._getAppCheckToken(),en=ct?`#${dl}=${encodeURIComponent(ct)}`:"";return`${function Jh({config:E}){return E.emulator?Y(E,bd):`https://${E.authDomain}/${Uu}`}(E)}?${(0,Ve.Am)(He).slice(1)}${en}`})).apply(this,arguments)}const Sd="webStorageSupport",wo=class kp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ni,this._completeRedirectFn=yd,this._overrideRedirectResult=md}_openPopup(d,p,D,j){var Z=this;return(0,se.A)(function*(){var Ae;qt(null===(Ae=Z.eventManagers[d._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const He=yield pu(d,p,D,wt(),j);return function Dd(E,d,p,D=500,j=600){const Z=Math.max((window.screen.availHeight-j)/2,0).toString(),Ae=Math.max((window.screen.availWidth-D)/2,0).toString();let He="";const ct=Object.assign(Object.assign({},Vu),{width:D.toString(),height:j.toString(),top:Z,left:Ae}),en=(0,Ve.ZQ)().toLowerCase();p&&(He=Er(en)?"_blank":p),Ci(en)&&(d=d||"http://localhost",ct.scrollbars="yes");const Fn=Object.entries(ct).reduce((ui,[Do,bo])=>`${ui}${Do}=${bo},`,"");if(function Mt(E=(0,Ve.ZQ)()){var d;return Re(E)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(en)&&"_self"!==He)return function fo(E,d){const p=document.createElement("a");p.href=E,p.target=d;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(D)}(d||"",He),new Ra(null);const jn=window.open(d||"",He,Fn);mt(jn,E,"popup-blocked");try{jn.focus()}catch{}return new Ra(jn)}(d,He,xo())})()}_openRedirect(d,p,D,j){var Z=this;return(0,se.A)(function*(){return yield Z._originValidation(d),function ld(E){Kr().location.href=E}(yield pu(d,p,D,wt(),j)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:j,promise:Z}=this.eventManagers[p];return j?Promise.resolve(j):(qt(Z,"If manager is not set, promise should be"),Z)}const D=this.initAndGetManager(d);return this.eventManagers[p]={promise:D},D.catch(()=>{delete this.eventManagers[p]}),D}initAndGetManager(d){var p=this;return(0,se.A)(function*(){const D=yield function wd(E){return Ac.apply(this,arguments)}(d),j=new Ed(d);return D.register("authEvent",Z=>(mt(Z?.authEvent,d,"invalid-auth-event"),{status:j.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:j},p.iframes[d._key()]=D,j})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(Sd,{type:Sd},j=>{var Z;const Ae=null===(Z=j?.[0])||void 0===Z?void 0:Z[Sd];void 0!==Ae&&p(!!Ae),Ut(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Td(E){return wc.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return nn()||ki()||Re()}};var Cd="@firebase/auth";class Fp{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,se.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(D=>{d(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mc=(0,Ve.XA)("authIdTokenMaxAge")||300;let Md=null;const ju=E=>function(){var d=(0,se.A)(function*(p){const D=p&&(yield p.getIdTokenResult()),j=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(j&&j>Mc)return;const Z=D?.token;Md!==Z&&(Md=Z,yield fetch(E,{method:Z?"POST":"DELETE",headers:Z?{Authorization:`Bearer ${Z}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function gl(E=(0,de.Sx)()){const d=(0,de.j6)(E,"auth");if(d.isInitialized())return d.getImmediate();const p=function Ri(E,d){const p=(0,de.j6)(E,"auth");if(p.isInitialized()){const j=p.getImmediate(),Z=p.getOptions();if((0,Ve.bD)(Z,d??{}))return j;Ut(j,"already-initialized")}return p.initialize({options:d})}(E,{popupRedirectResolver:wo,persistence:[b,sl,Ni]}),D=(0,Ve.XA)("authTokenSyncURL");if(D&&"boolean"==typeof isSecureContext&&isSecureContext){const Z=new URL(D,location.origin);if(location.origin===Z.origin){const Ae=ju(Z.toString());(function Cu(E,d,p){(0,Ve.Ku)(E).beforeAuthStateChanged(d,p)})(p,Ae,()=>Ae(p.currentUser)),function ir(E,d,p,D){(0,Ve.Ku)(E).onIdTokenChanged(d,p,D)}(p,He=>Ae(He))}}const j=(0,Ve.Tj)("auth");return j&&function Va(E,d,p){const D=Pr(E);mt(D._canInitEmulator,D,"emulator-config-failed"),mt(/^https?:\/\//.test(d),D,"invalid-emulator-scheme");const j=!!p?.disableWarnings,Z=Ar(d),{host:Ae,port:He}=function Mo(E){const d=Ar(E),p=/(\/\/)?([^?#/]+)/.exec(E.substr(d.length));if(!p)return{host:"",port:null};const D=p[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(D);if(j){const Z=j[1];return{host:Z,port:Zi(D.substr(Z.length+1))}}{const[Z,Ae]=D.split(":");return{host:Z,port:Zi(Ae)}}}(d);D.config.emulator={url:`${Z}//${Ae}${null===He?"":`:${He}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Ae,port:He,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function Dr(){function E(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(p,`http://${j}`),p}(function Ss(E){os=E})({loadJS:E=>new Promise((d,p)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=d,D.onerror=j=>{const Z=bt("internal-error");Z.customData=j,p(Z)},D.type="text/javascript",D.charset="UTF-8",function $u(){var E,d;return null!==(d=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==d?d:document}().appendChild(D)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function pl(E){(0,de.om)(new he.uA("auth",(d,{options:p})=>{const D=d.getProvider("app").getImmediate(),j=d.getProvider("heartbeat"),Z=d.getProvider("app-check-internal"),{apiKey:Ae,authDomain:He}=D.options;mt(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:D.name});const ct={apiKey:Ae,authDomain:He,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wn(E)},en=new Yo(D,j,Z,ct);return function Uo(E,d){const p=d?.persistence||[],D=(Array.isArray(p)?p:[p]).map(gn);d?.errorMap&&E._updateErrorMap(d.errorMap),E._initializeWithPersistence(D,d?.popupRedirectResolver)}(en,p),en},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,D)=>{d.getProvider("auth-internal").initialize()})),(0,de.om)(new he.uA("auth-internal",d=>{const p=Pr(d.getProvider("auth").getImmediate());return new Fp(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.KO)(Cd,"1.7.9",function Pc(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,de.KO)(Cd,"1.7.9","esm2017")}("Browser");class Pa{constructor(d){return d}}class Nc{constructor(){return(0,N.CA)("auth")}}const ml=new Ie.nKC("angularfire2.auth-instances");function zu(E){return(d,p)=>{const D=d.runOutsideAngular(()=>E(p));return new Pa(D)}}const _l={provide:Nc,deps:[[new Ie.Xx1,ml]]},tf={provide:Pa,useFactory:function Hu(E,d){const p=(0,N.lR)("auth",E,d);return p&&new Pa(p)},deps:[[new Ie.Xx1,ml],Pe.XU]};let nf=(()=>{class E{constructor(){(0,Ke.KO)("angularfire",N.xv.full,"auth")}static \u0275fac=function(D){return new(D||E)};static \u0275mod=Ie.$C({type:E});static \u0275inj=Ie.G2t({providers:[tf,_l]})}return E})();function Lp(E,...d){return{ngModule:nf,providers:[{provide:ml,useFactory:zu(E),multi:!0,deps:[Ie.SKi,Ie.zZn,N.u0,Pe.gL,[new Ie.Xx1,N.Jv],...d]}]}}const Nm=(0,N.S3)(J,!0),Oc=(0,N.S3)(gl,!0),Al=(0,N.S3)(cn,!0)},4262:(_n,dt,ne)=>{ne.d(dt,{_7:()=>mh,H9:()=>v_,aU:()=>Wf,hV:()=>Lg,wP:()=>Lv});var _t,N=ne(3586),Ie=ne(540),Pe=ne(7440),Ke=ne(4665),se=ne(2214),de=ne(467),Ve=ne(7852),Rt=ne(1362),et=ne(8041),he=ne(1076),Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qe={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ne,pe,we){we||(we=0);var Oe=Array(16);if("string"==typeof pe)for(var Fe=0;16>Fe;++Fe)Oe[Fe]=pe.charCodeAt(we++)|pe.charCodeAt(we++)<<8|pe.charCodeAt(we++)<<16|pe.charCodeAt(we++)<<24;else for(Fe=0;16>Fe;++Fe)Oe[Fe]=pe[we++]|pe[we++]<<8|pe[we++]<<16|pe[we++]<<24;var We=Ne.g[3],Te=(pe=Ne.g[0])+(We^(we=Ne.g[1])&((Fe=Ne.g[2])^We))+Oe[0]+3614090360&4294967295;Te=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=(we=(Fe=(We=(pe=we+(Te<<7&4294967295|Te>>>25))+((Te=We+(Fe^pe&(we^Fe))+Oe[1]+3905402710&4294967295)<<12&4294967295|Te>>>20))+((Te=Fe+(we^We&(pe^we))+Oe[2]+606105819&4294967295)<<17&4294967295|Te>>>15))+((Te=we+(pe^Fe&(We^pe))+Oe[3]+3250441966&4294967295)<<22&4294967295|Te>>>10))+((Te=pe+(We^we&(Fe^We))+Oe[4]+4118548399&4294967295)<<7&4294967295|Te>>>25))+((Te=We+(Fe^pe&(we^Fe))+Oe[5]+1200080426&4294967295)<<12&4294967295|Te>>>20))+((Te=Fe+(we^We&(pe^we))+Oe[6]+2821735955&4294967295)<<17&4294967295|Te>>>15))+((Te=we+(pe^Fe&(We^pe))+Oe[7]+4249261313&4294967295)<<22&4294967295|Te>>>10))+((Te=pe+(We^we&(Fe^We))+Oe[8]+1770035416&4294967295)<<7&4294967295|Te>>>25))+((Te=We+(Fe^pe&(we^Fe))+Oe[9]+2336552879&4294967295)<<12&4294967295|Te>>>20))+((Te=Fe+(we^We&(pe^we))+Oe[10]+4294925233&4294967295)<<17&4294967295|Te>>>15))+((Te=we+(pe^Fe&(We^pe))+Oe[11]+2304563134&4294967295)<<22&4294967295|Te>>>10))+((Te=pe+(We^we&(Fe^We))+Oe[12]+1804603682&4294967295)<<7&4294967295|Te>>>25))+((Te=We+(Fe^pe&(we^Fe))+Oe[13]+4254626195&4294967295)<<12&4294967295|Te>>>20))+((Te=Fe+(we^We&(pe^we))+Oe[14]+2792965006&4294967295)<<17&4294967295|Te>>>15))+((Te=we+(pe^Fe&(We^pe))+Oe[15]+1236535329&4294967295)<<22&4294967295|Te>>>10))+((Te=pe+(Fe^We&(we^Fe))+Oe[1]+4129170786&4294967295)<<5&4294967295|Te>>>27))+((Te=We+(we^Fe&(pe^we))+Oe[6]+3225465664&4294967295)<<9&4294967295|Te>>>23))+((Te=Fe+(pe^we&(We^pe))+Oe[11]+643717713&4294967295)<<14&4294967295|Te>>>18))+((Te=we+(We^pe&(Fe^We))+Oe[0]+3921069994&4294967295)<<20&4294967295|Te>>>12))+((Te=pe+(Fe^We&(we^Fe))+Oe[5]+3593408605&4294967295)<<5&4294967295|Te>>>27))+((Te=We+(we^Fe&(pe^we))+Oe[10]+38016083&4294967295)<<9&4294967295|Te>>>23))+((Te=Fe+(pe^we&(We^pe))+Oe[15]+3634488961&4294967295)<<14&4294967295|Te>>>18))+((Te=we+(We^pe&(Fe^We))+Oe[4]+3889429448&4294967295)<<20&4294967295|Te>>>12))+((Te=pe+(Fe^We&(we^Fe))+Oe[9]+568446438&4294967295)<<5&4294967295|Te>>>27))+((Te=We+(we^Fe&(pe^we))+Oe[14]+3275163606&4294967295)<<9&4294967295|Te>>>23))+((Te=Fe+(pe^we&(We^pe))+Oe[3]+4107603335&4294967295)<<14&4294967295|Te>>>18))+((Te=we+(We^pe&(Fe^We))+Oe[8]+1163531501&4294967295)<<20&4294967295|Te>>>12))+((Te=pe+(Fe^We&(we^Fe))+Oe[13]+2850285829&4294967295)<<5&4294967295|Te>>>27))+((Te=We+(we^Fe&(pe^we))+Oe[2]+4243563512&4294967295)<<9&4294967295|Te>>>23))+((Te=Fe+(pe^we&(We^pe))+Oe[7]+1735328473&4294967295)<<14&4294967295|Te>>>18))+((Te=we+(We^pe&(Fe^We))+Oe[12]+2368359562&4294967295)<<20&4294967295|Te>>>12))+((Te=pe+(we^Fe^We)+Oe[5]+4294588738&4294967295)<<4&4294967295|Te>>>28))+((Te=We+(pe^we^Fe)+Oe[8]+2272392833&4294967295)<<11&4294967295|Te>>>21))+((Te=Fe+(We^pe^we)+Oe[11]+1839030562&4294967295)<<16&4294967295|Te>>>16))+((Te=we+(Fe^We^pe)+Oe[14]+4259657740&4294967295)<<23&4294967295|Te>>>9))+((Te=pe+(we^Fe^We)+Oe[1]+2763975236&4294967295)<<4&4294967295|Te>>>28))+((Te=We+(pe^we^Fe)+Oe[4]+1272893353&4294967295)<<11&4294967295|Te>>>21))+((Te=Fe+(We^pe^we)+Oe[7]+4139469664&4294967295)<<16&4294967295|Te>>>16))+((Te=we+(Fe^We^pe)+Oe[10]+3200236656&4294967295)<<23&4294967295|Te>>>9))+((Te=pe+(we^Fe^We)+Oe[13]+681279174&4294967295)<<4&4294967295|Te>>>28))+((Te=We+(pe^we^Fe)+Oe[0]+3936430074&4294967295)<<11&4294967295|Te>>>21))+((Te=Fe+(We^pe^we)+Oe[3]+3572445317&4294967295)<<16&4294967295|Te>>>16))+((Te=we+(Fe^We^pe)+Oe[6]+76029189&4294967295)<<23&4294967295|Te>>>9))+((Te=pe+(we^Fe^We)+Oe[9]+3654602809&4294967295)<<4&4294967295|Te>>>28))+((Te=We+(pe^we^Fe)+Oe[12]+3873151461&4294967295)<<11&4294967295|Te>>>21))+((Te=Fe+(We^pe^we)+Oe[15]+530742520&4294967295)<<16&4294967295|Te>>>16))+((Te=we+(Fe^We^pe)+Oe[2]+3299628645&4294967295)<<23&4294967295|Te>>>9))+((Te=pe+(Fe^(we|~We))+Oe[0]+4096336452&4294967295)<<6&4294967295|Te>>>26))+((Te=We+(we^(pe|~Fe))+Oe[7]+1126891415&4294967295)<<10&4294967295|Te>>>22))+((Te=Fe+(pe^(We|~we))+Oe[14]+2878612391&4294967295)<<15&4294967295|Te>>>17))+((Te=we+(We^(Fe|~pe))+Oe[5]+4237533241&4294967295)<<21&4294967295|Te>>>11))+((Te=pe+(Fe^(we|~We))+Oe[12]+1700485571&4294967295)<<6&4294967295|Te>>>26))+((Te=We+(we^(pe|~Fe))+Oe[3]+2399980690&4294967295)<<10&4294967295|Te>>>22))+((Te=Fe+(pe^(We|~we))+Oe[10]+4293915773&4294967295)<<15&4294967295|Te>>>17))+((Te=we+(We^(Fe|~pe))+Oe[1]+2240044497&4294967295)<<21&4294967295|Te>>>11))+((Te=pe+(Fe^(we|~We))+Oe[8]+1873313359&4294967295)<<6&4294967295|Te>>>26))+((Te=We+(we^(pe|~Fe))+Oe[15]+4264355552&4294967295)<<10&4294967295|Te>>>22))+((Te=Fe+(pe^(We|~we))+Oe[6]+2734768916&4294967295)<<15&4294967295|Te>>>17))+((Te=we+(We^(Fe|~pe))+Oe[13]+1309151649&4294967295)<<21&4294967295|Te>>>11))+((We=(pe=we+((Te=pe+(Fe^(we|~We))+Oe[4]+4149444226&4294967295)<<6&4294967295|Te>>>26))+((Te=We+(we^(pe|~Fe))+Oe[11]+3174756917&4294967295)<<10&4294967295|Te>>>22))^((Fe=We+((Te=Fe+(pe^(We|~we))+Oe[2]+718787259&4294967295)<<15&4294967295|Te>>>17))|~pe))+Oe[9]+3951481745&4294967295,Ne.g[0]=Ne.g[0]+pe&4294967295,Ne.g[1]=Ne.g[1]+(Fe+(Te<<21&4294967295|Te>>>11))&4294967295,Ne.g[2]=Ne.g[2]+Fe&4294967295,Ne.g[3]=Ne.g[3]+We&4294967295}function g(Ne,pe){this.h=pe;for(var we=[],Oe=!0,Fe=Ne.length-1;0<=Fe;Fe--){var We=0|Ne[Fe];Oe&&We==pe||(we[Fe]=We,Oe=!1)}this.g=we}(function e(Ne,pe){function we(){}we.prototype=pe.prototype,Ne.D=pe.prototype,Ne.prototype=new we,Ne.prototype.constructor=Ne,Ne.C=function(Oe,Fe,We){for(var Te=Array(arguments.length-2),Qs=2;Qs<arguments.length;Qs++)Te[Qs-2]=arguments[Qs];return pe.prototype[Fe].apply(Oe,Te)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Ne,pe){void 0===pe&&(pe=Ne.length);for(var we=pe-this.blockSize,Oe=this.B,Fe=this.h,We=0;We<pe;){if(0==Fe)for(;We<=we;)u(this,Ne,We),We+=this.blockSize;if("string"==typeof Ne){for(;We<pe;)if(Oe[Fe++]=Ne.charCodeAt(We++),Fe==this.blockSize){u(this,Oe),Fe=0;break}}else for(;We<pe;)if(Oe[Fe++]=Ne[We++],Fe==this.blockSize){u(this,Oe),Fe=0;break}}this.h=Fe,this.o+=pe},s.prototype.v=function(){var Ne=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ne[0]=128;for(var pe=1;pe<Ne.length-8;++pe)Ne[pe]=0;var we=8*this.o;for(pe=Ne.length-8;pe<Ne.length;++pe)Ne[pe]=255&we,we/=256;for(this.u(Ne),Ne=Array(16),pe=we=0;4>pe;++pe)for(var Oe=0;32>Oe;Oe+=8)Ne[we++]=this.g[pe]>>>Oe&255;return Ne};var A={};function R(Ne){return-128<=Ne&&128>Ne?function h(Ne,pe){var we=A;return Object.prototype.hasOwnProperty.call(we,Ne)?we[Ne]:we[Ne]=pe(Ne)}(Ne,function(pe){return new g([0|pe],0>pe?-1:0)}):new g([0|Ne],0>Ne?-1:0)}function L(Ne){if(isNaN(Ne)||!isFinite(Ne))return re;if(0>Ne)return Et(L(-Ne));for(var pe=[],we=1,Oe=0;Ne>=we;Oe++)pe[Oe]=Ne/we|0,we*=4294967296;return new g(pe,0)}var re=R(0),ye=R(1),ze=R(16777216);function lt(Ne){if(0!=Ne.h)return!1;for(var pe=0;pe<Ne.g.length;pe++)if(0!=Ne.g[pe])return!1;return!0}function Ct(Ne){return-1==Ne.h}function Et(Ne){for(var pe=Ne.g.length,we=[],Oe=0;Oe<pe;Oe++)we[Oe]=~Ne.g[Oe];return new g(we,~Ne.h).add(ye)}function un(Ne,pe){return Ne.add(Et(pe))}function An(Ne,pe){for(;(65535&Ne[pe])!=Ne[pe];)Ne[pe+1]+=Ne[pe]>>>16,Ne[pe]&=65535,pe++}function hn(Ne,pe){this.g=Ne,this.h=pe}function er(Ne,pe){if(lt(pe))throw Error("division by zero");if(lt(Ne))return new hn(re,re);if(Ct(Ne))return pe=er(Et(Ne),pe),new hn(Et(pe.g),Et(pe.h));if(Ct(pe))return pe=er(Ne,Et(pe)),new hn(Et(pe.g),pe.h);if(30<Ne.g.length){if(Ct(Ne)||Ct(pe))throw Error("slowDivide_ only works with positive integers.");for(var we=ye,Oe=pe;0>=Oe.l(Ne);)we=ti(we),Oe=ti(Oe);var Fe=gr(we,1),We=gr(Oe,1);for(Oe=gr(Oe,2),we=gr(we,2);!lt(Oe);){var Te=We.add(Oe);0>=Te.l(Ne)&&(Fe=Fe.add(we),We=Te),Oe=gr(Oe,1),we=gr(we,1)}return pe=un(Ne,Fe.j(pe)),new hn(Fe,pe)}for(Fe=re;0<=Ne.l(pe);){for(we=Math.max(1,Math.floor(Ne.m()/pe.m())),Oe=48>=(Oe=Math.ceil(Math.log(we)/Math.LN2))?1:Math.pow(2,Oe-48),Te=(We=L(we)).j(pe);Ct(Te)||0<Te.l(Ne);)Te=(We=L(we-=Oe)).j(pe);lt(We)&&(We=ye),Fe=Fe.add(We),Ne=un(Ne,Te)}return new hn(Fe,Ne)}function ti(Ne){for(var pe=Ne.g.length+1,we=[],Oe=0;Oe<pe;Oe++)we[Oe]=Ne.i(Oe)<<1|Ne.i(Oe-1)>>>31;return new g(we,Ne.h)}function gr(Ne,pe){var we=pe>>5;pe%=32;for(var Oe=Ne.g.length-we,Fe=[],We=0;We<Oe;We++)Fe[We]=0<pe?Ne.i(We+we)>>>pe|Ne.i(We+we+1)<<32-pe:Ne.i(We+we);return new g(Fe,Ne.h)}(a=g.prototype).m=function(){if(Ct(this))return-Et(this).m();for(var Ne=0,pe=1,we=0;we<this.g.length;we++){var Oe=this.i(we);Ne+=(0<=Oe?Oe:4294967296+Oe)*pe,pe*=4294967296}return Ne},a.toString=function(Ne){if(2>(Ne=Ne||10)||36<Ne)throw Error("radix out of range: "+Ne);if(lt(this))return"0";if(Ct(this))return"-"+Et(this).toString(Ne);for(var pe=L(Math.pow(Ne,6)),we=this,Oe="";;){var Fe=er(we,pe).g,We=((0<(we=un(we,Fe.j(pe))).g.length?we.g[0]:we.h)>>>0).toString(Ne);if(lt(we=Fe))return We+Oe;for(;6>We.length;)We="0"+We;Oe=We+Oe}},a.i=function(Ne){return 0>Ne?0:Ne<this.g.length?this.g[Ne]:this.h},a.l=function(Ne){return Ct(Ne=un(this,Ne))?-1:lt(Ne)?0:1},a.abs=function(){return Ct(this)?Et(this):this},a.add=function(Ne){for(var pe=Math.max(this.g.length,Ne.g.length),we=[],Oe=0,Fe=0;Fe<=pe;Fe++){var We=Oe+(65535&this.i(Fe))+(65535&Ne.i(Fe)),Te=(We>>>16)+(this.i(Fe)>>>16)+(Ne.i(Fe)>>>16);Oe=Te>>>16,we[Fe]=(Te&=65535)<<16|(We&=65535)}return new g(we,-2147483648&we[we.length-1]?-1:0)},a.j=function(Ne){if(lt(this)||lt(Ne))return re;if(Ct(this))return Ct(Ne)?Et(this).j(Et(Ne)):Et(Et(this).j(Ne));if(Ct(Ne))return Et(this.j(Et(Ne)));if(0>this.l(ze)&&0>Ne.l(ze))return L(this.m()*Ne.m());for(var pe=this.g.length+Ne.g.length,we=[],Oe=0;Oe<2*pe;Oe++)we[Oe]=0;for(Oe=0;Oe<this.g.length;Oe++)for(var Fe=0;Fe<Ne.g.length;Fe++){var We=this.i(Oe)>>>16,Te=65535&this.i(Oe),Qs=Ne.i(Fe)>>>16,Su=65535&Ne.i(Fe);we[2*Oe+2*Fe]+=Te*Su,An(we,2*Oe+2*Fe),we[2*Oe+2*Fe+1]+=We*Su,An(we,2*Oe+2*Fe+1),we[2*Oe+2*Fe+1]+=Te*Qs,An(we,2*Oe+2*Fe+1),we[2*Oe+2*Fe+2]+=We*Qs,An(we,2*Oe+2*Fe+2)}for(Oe=0;Oe<pe;Oe++)we[Oe]=we[2*Oe+1]<<16|we[2*Oe];for(Oe=pe;Oe<2*pe;Oe++)we[Oe]=0;return new g(we,0)},a.A=function(Ne){return er(this,Ne).h},a.and=function(Ne){for(var pe=Math.max(this.g.length,Ne.g.length),we=[],Oe=0;Oe<pe;Oe++)we[Oe]=this.i(Oe)&Ne.i(Oe);return new g(we,this.h&Ne.h)},a.or=function(Ne){for(var pe=Math.max(this.g.length,Ne.g.length),we=[],Oe=0;Oe<pe;Oe++)we[Oe]=this.i(Oe)|Ne.i(Oe);return new g(we,this.h|Ne.h)},a.xor=function(Ne){for(var pe=Math.max(this.g.length,Ne.g.length),we=[],Oe=0;Oe<pe;Oe++)we[Oe]=this.i(Oe)^Ne.i(Oe);return new g(we,this.h^Ne.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,qe.Md5=s,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=L,g.fromString=function X(Ne,pe){if(0==Ne.length)throw Error("number format error: empty string");if(2>(pe=pe||10)||36<pe)throw Error("radix out of range: "+pe);if("-"==Ne.charAt(0))return Et(X(Ne.substring(1),pe));if(0<=Ne.indexOf("-"))throw Error('number format error: interior "-" character');for(var we=L(Math.pow(pe,8)),Oe=re,Fe=0;Fe<Ne.length;Fe+=8){var We=Math.min(8,Ne.length-Fe),Te=parseInt(Ne.substring(Fe,Fe+We),pe);8>We?(We=L(Math.pow(pe,We)),Oe=Oe.j(We).add(L(Te))):Oe=(Oe=Oe.j(we)).add(L(Te))}return Oe},_t=qe.Integer=g}).apply(typeof Ee<"u"?Ee:typeof self<"u"?self:typeof window<"u"?window:{});var ln,qn,mr,rt,pt,it,xt,Ut,vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ht={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,M,U){return f==Array.prototype||f==Object.prototype||(f[M]=U.value),f},s=function r(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof vt&&vt];for(var M=0;M<f.length;++M){var U=f[M];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}(this);!function u(f,M){if(M)e:{var U=s;f=f.split(".");for(var te=0;te<f.length-1;te++){var Le=f[te];if(!(Le in U))break e;U=U[Le]}(M=M(te=U[f=f[f.length-1]]))!=te&&null!=M&&e(U,f,{configurable:!0,writable:!0,value:M})}}("Array.prototype.values",function(f){return f||function(){return function h(f,M){f instanceof String&&(f+="");var U=0,te=!1,Le={next:function(){if(!te&&U<f.length){var Je=U++;return{value:M(Je,f[Je]),done:!1}}return te=!0,{done:!0,value:void 0}}};return Le[Symbol.iterator]=function(){return Le},Le}(this,function(M,U){return U})}});var g=g||{},A=this||self;function R(f){var M=typeof f;return"array"==(M="object"!=M?M:f?Array.isArray(f)?"array":M:"null")||"object"==M&&"number"==typeof f.length}function L(f){var M=typeof f;return"object"==M&&null!=f||"function"==M}function X(f,M,U){return f.call.apply(f.bind,arguments)}function re(f,M,U){if(!f)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var Le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Le,te),f.apply(M,Le)}}return function(){return f.apply(M,arguments)}}function ye(f,M,U){return(ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:re).apply(null,arguments)}function ze(f,M){var U=Array.prototype.slice.call(arguments,1);return function(){var te=U.slice();return te.push.apply(te,arguments),f.apply(this,te)}}function lt(f,M){function U(){}U.prototype=M.prototype,f.aa=M.prototype,f.prototype=new U,f.prototype.constructor=f,f.Qb=function(te,Le,Je){for(var $t=Array(arguments.length-2),Di=2;Di<arguments.length;Di++)$t[Di-2]=arguments[Di];return M.prototype[Le].apply(te,$t)}}function Ct(f){const M=f.length;if(0<M){const U=Array(M);for(let te=0;te<M;te++)U[te]=f[te];return U}return[]}function Et(f,M){for(let U=1;U<arguments.length;U++){const te=arguments[U];if(R(te)){const Le=f.length||0,Je=te.length||0;f.length=Le+Je;for(let $t=0;$t<Je;$t++)f[Le+$t]=te[$t]}else f.push(te)}}function An(f){return/^[\s\xa0]*$/.test(f)}function hn(){var f=A.navigator;return f&&(f=f.userAgent)?f:""}function er(f){return er[" "](f),f}er[" "]=function(){};var ti=!(-1==hn().indexOf("Gecko")||-1!=hn().toLowerCase().indexOf("webkit")&&-1==hn().indexOf("Edge")||-1!=hn().indexOf("Trident")||-1!=hn().indexOf("MSIE")||-1!=hn().indexOf("Edge"));function gr(f,M,U){for(const te in f)M.call(U,f[te],te,f)}function pe(f){const M={};for(const U in f)M[U]=f[U];return M}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oe(f,M){let U,te;for(let Le=1;Le<arguments.length;Le++){for(U in te=arguments[Le],te)f[U]=te[U];for(let Je=0;Je<we.length;Je++)U=we[Je],Object.prototype.hasOwnProperty.call(te,U)&&(f[U]=te[U])}}function Fe(f){var M=1;f=f.split(":");const U=[];for(;0<M&&f.length;)U.push(f.shift()),M--;return f.length&&U.push(f.join(":")),U}function We(f){A.setTimeout(()=>{throw f},0)}function Te(){var f=Fo;let M=null;return f.g&&(M=f.g,f.g=f.g.next,f.g||(f.h=null),M.next=null),M}var Su=new class un{constructor(M,U){this.i=M,this.j=U,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}(()=>new go,f=>f.reset());class go{constructor(){this.next=this.g=this.h=null}set(M,U){this.h=M,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let xa,ic=!1,Fo=new class Qs{constructor(){this.h=this.g=null}add(M,U){const te=Su.get();te.set(M,U),this.h?this.h.next=te:this.g=te,this.h=te}},Xf=()=>{const f=A.Promise.resolve(void 0);xa=()=>{f.then(Kl)}};var Kl=()=>{for(var f;f=Te();){try{f.h.call(f.g)}catch(U){We(U)}var M=Su;M.j(f),100>M.h&&(M.h++,f.next=M.g,M.g=f)}ic=!1};function qo(){this.s=this.s,this.C=this.C}function ms(f,M){this.type=f,this.g=this.target=M,this.defaultPrevented=!1}qo.prototype.s=!1,qo.prototype.ma=function(){this.s||(this.s=!0,this.N())},qo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ms.prototype.h=function(){this.defaultPrevented=!0};var Ql=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var f=!1,M=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const U=()=>{};A.addEventListener("test",U,M),A.removeEventListener("test",U,M)}catch{}return f}();function qa(f,M){if(ms.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var U=this.type=f.type,te=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=M,M=f.relatedTarget){if(ti){e:{try{er(M.nodeName);var Le=!0;break e}catch{}Le=!1}Le||(M=null)}}else"mouseover"==U?M=f.fromElement:"mouseout"==U&&(M=f.toElement);this.relatedTarget=M,te?(this.clientX=void 0!==te.clientX?te.clientX:te.pageX,this.clientY=void 0!==te.clientY?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:Xl[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&qa.aa.h.call(this)}}lt(qa,ms);var Xl={2:"touch",3:"pen",4:"mouse"};qa.prototype.h=function(){qa.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ka="closure_listenable_"+(1e6*Math.random()|0),Yl=0;function Zl(f,M,U,te,Le){this.listener=f,this.proxy=null,this.src=M,this.type=U,this.capture=!!te,this.ha=Le,this.key=++Yl,this.da=this.fa=!1}function _h(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function yh(f){this.src=f,this.g={},this.h=0}function Yf(f,M){var U=M.type;if(U in f.g){var Je,te=f.g[U],Le=Array.prototype.indexOf.call(te,M,void 0);(Je=0<=Le)&&Array.prototype.splice.call(te,Le,1),Je&&(_h(M),0==f.g[U].length&&(delete f.g[U],f.h--))}}function Zf(f,M,U,te){for(var Le=0;Le<f.length;++Le){var Je=f[Le];if(!Je.da&&Je.listener==M&&Je.capture==!!U&&Je.ha==te)return Le}return-1}yh.prototype.add=function(f,M,U,te,Le){var Je=f.toString();(f=this.g[Je])||(f=this.g[Je]=[],this.h++);var $t=Zf(f,M,te,Le);return-1<$t?(M=f[$t],U||(M.fa=!1)):((M=new Zl(M,this.src,Je,!!te,Le)).fa=U,f.push(M)),M};var Jf="closure_lm_"+(1e6*Math.random()|0),ep={};function Bg(f,M,U,te,Le){if(te&&te.once)return tp(f,M,U,te,Le);if(Array.isArray(M)){for(var Je=0;Je<M.length;Je++)Bg(f,M[Je],U,te,Le);return null}return U=Hg(U),f&&f[Ka]?f.K(M,U,L(te)?!!te.capture:!!te,Le):jg(f,M,U,!1,te,Le)}function jg(f,M,U,te,Le,Je){if(!M)throw Error("Invalid event type");var $t=L(Le)?!!Le.capture:!!Le,Di=$g(f);if(Di||(f[Jf]=Di=new yh(f)),(U=Di.add(M,U,te,$t,Je)).proxy)return U;if(te=function D_(){const M=Uv;return function f(U){return M.call(f.src,f.listener,U)}}(),U.proxy=te,te.src=f,te.listener=U,f.addEventListener)Ql||(Le=$t),void 0===Le&&(Le=!1),f.addEventListener(M.toString(),te,Le);else if(f.attachEvent)f.attachEvent(Vv(M.toString()),te);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(te)}return U}function tp(f,M,U,te,Le){if(Array.isArray(M)){for(var Je=0;Je<M.length;Je++)tp(f,M[Je],U,te,Le);return null}return U=Hg(U),f&&f[Ka]?f.L(M,U,L(te)?!!te.capture:!!te,Le):jg(f,M,U,!0,te,Le)}function b_(f,M,U,te,Le){if(Array.isArray(M))for(var Je=0;Je<M.length;Je++)b_(f,M[Je],U,te,Le);else te=L(te)?!!te.capture:!!te,U=Hg(U),f&&f[Ka]?(f=f.i,(M=String(M).toString())in f.g&&-1<(U=Zf(Je=f.g[M],U,te,Le))&&(_h(Je[U]),Array.prototype.splice.call(Je,U,1),0==Je.length&&(delete f.g[M],f.h--))):f&&(f=$g(f))&&(M=f.g[M.toString()],f=-1,M&&(f=Zf(M,U,te,Le)),(U=-1<f?M[f]:null)&&S_(U))}function S_(f){if("number"!=typeof f&&f&&!f.da){var M=f.src;if(M&&M[Ka])Yf(M.i,f);else{var U=f.type,te=f.proxy;M.removeEventListener?M.removeEventListener(U,te,f.capture):M.detachEvent?M.detachEvent(Vv(U),te):M.addListener&&M.removeListener&&M.removeListener(te),(U=$g(M))?(Yf(U,f),0==U.h&&(U.src=null,M[Jf]=null)):_h(f)}}}function Vv(f){return f in ep?ep[f]:ep[f]="on"+f}function Uv(f,M){if(f.da)f=!0;else{M=new qa(M,this);var U=f.listener,te=f.ha||f.src;f.fa&&S_(f),f=U.call(te,M)}return f}function $g(f){return(f=f[Jf])instanceof yh?f:null}var C_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hg(f){return"function"==typeof f?f:(f[C_]||(f[C_]=function(M){return f.handleEvent(M)}),f[C_])}function So(){qo.call(this),this.i=new yh(this),this.M=this,this.F=null}function Co(f,M){var U,te=f.F;if(te)for(U=[];te;te=te.F)U.push(te);if(f=f.M,te=M.type||M,"string"==typeof M)M=new ms(M,f);else if(M instanceof ms)M.target=M.target||f;else{var Le=M;Oe(M=new ms(te,f),Le)}if(Le=!0,U)for(var Je=U.length-1;0<=Je;Je--){var $t=M.g=U[Je];Le=np($t,te,!0,M)&&Le}if(Le=np($t=M.g=f,te,!0,M)&&Le,Le=np($t,te,!1,M)&&Le,U)for(Je=0;Je<U.length;Je++)Le=np($t=M.g=U[Je],te,!1,M)&&Le}function np(f,M,U,te){if(!(M=f.i.g[String(M)]))return!0;M=M.concat();for(var Le=!0,Je=0;Je<M.length;++Je){var $t=M[Je];if($t&&!$t.da&&$t.capture==U){var Di=$t.listener,ro=$t.ha||$t.src;$t.fa&&Yf(f.i,$t),Le=!1!==Di.call(ro,te)&&Le}}return Le&&!te.defaultPrevented}function R_(f,M,U){if("function"==typeof f)U&&(f=ye(f,U));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=ye(f.handleEvent,f)}return 2147483647<Number(M)?-1:A.setTimeout(f,M||0)}function rp(f){f.g=R_(()=>{f.g=null,f.i&&(f.i=!1,rp(f))},f.l);const M=f.h;f.h=null,f.m.apply(null,M)}lt(So,qo),So.prototype[Ka]=!0,So.prototype.removeEventListener=function(f,M,U,te){b_(this,f,M,U,te)},So.prototype.N=function(){if(So.aa.N.call(this),this.i){var M,f=this.i;for(M in f.g){for(var U=f.g[M],te=0;te<U.length;te++)_h(U[te]);delete f.g[M],f.h--}}this.F=null},So.prototype.K=function(f,M,U,te){return this.i.add(String(f),M,!1,U,te)},So.prototype.L=function(f,M,U,te){return this.i.add(String(f),M,!0,U,te)};class vh extends qo{constructor(M,U){super(),this.m=M,this.l=U,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:rp(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yc(f){qo.call(this),this.h=f,this.g={}}lt(Yc,qo);var Eh=[];function zg(f){gr(f.g,function(M,U){this.g.hasOwnProperty(U)&&S_(M)},f),f.g={}}Yc.prototype.N=function(){Yc.aa.N.call(this),zg(this)},Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zc=A.JSON.stringify,P_=A.JSON.parse,Bv=class{stringify(f){return A.JSON.stringify(f,void 0)}parse(f){return A.JSON.parse(f,void 0)}};function Jc(){}function N_(){}Jc.prototype.h=null;var Ih={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gg(){ms.call(this,"d")}function Th(){ms.call(this,"c")}lt(Gg,ms),lt(Th,ms);var Qa={},wh=null;function Wg(){return wh=wh||new So}function O_(f){ms.call(this,Qa.La,f)}function Ah(f){const M=Wg();Co(M,new O_(M))}function ip(f,M){ms.call(this,Qa.STAT_EVENT,f),this.stat=M}function Ro(f){const M=Wg();Co(M,new ip(M,f))}function qg(f,M){ms.call(this,Qa.Ma,f),this.size=M}function Dh(f,M){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){f()},M)}function bh(){this.g=!0}function el(f,M,U,te){f.info(function(){return"XMLHTTP TEXT ("+M+"): "+function $v(f,M){if(!f.g)return M;if(!M)return null;try{var U=JSON.parse(M);if(U)for(f=0;f<U.length;f++)if(Array.isArray(U[f])){var te=U[f];if(!(2>te.length)){var Le=te[1];if(Array.isArray(Le)&&!(1>Le.length)){var Je=Le[0];if("noop"!=Je&&"stop"!=Je&&"close"!=Je)for(var $t=1;$t<Le.length;$t++)Le[$t]=""}}}return Zc(U)}catch{return M}}(f,U)+(te?" "+te:"")})}Qa.La="serverreachability",lt(O_,ms),Qa.STAT_EVENT="statevent",lt(ip,ms),Qa.Ma="timingevent",lt(qg,ms),bh.prototype.xa=function(){this.g=!1},bh.prototype.info=function(){};var Sh,sp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Jl(){}function sc(f,M,U,te){this.j=f,this.i=M,this.l=U,this.R=te||1,this.U=new Yc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ch}function Ch(){this.i=null,this.g="",this.h=!1}lt(Jl,Jc),Jl.prototype.g=function(){return new XMLHttpRequest},Jl.prototype.i=function(){return{}},Sh=new Jl;var Rh={},Ph={};function op(f,M,U){f.L=1,f.v=Oh(ka(M)),f.m=U,f.P=!0,L_(f,null)}function L_(f,M){f.F=Date.now(),ed(f),f.A=ka(f.v);var U=f.A,te=f.R;Array.isArray(te)||(te=[String(te)]),Wv(U.i,"t",te),f.C=0,U=f.j.J,f.h=new Ch,f.g=lm(f.j,U?M:null,!f.m),0<f.O&&(f.M=new vh(ye(f.Y,f,f.g),f.O)),M=f.U,U=f.g,te=f.ca;var Le="readystatechange";Array.isArray(Le)||(Le&&(Eh[0]=Le.toString()),Le=Eh);for(var Je=0;Je<Le.length;Je++){var $t=Bg(U,Le[Je],te||M.handleEvent,!1,M.h||M);if(!$t)break;M.g[$t.key]=$t}M=f.H?pe(f.H):{},f.m?(f.u||(f.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,M)):(f.u="GET",f.g.ea(f.A,f.u,null,M)),Ah(),function x_(f,M,U,te,Le,Je){f.info(function(){if(f.g)if(Je)for(var $t="",Di=Je.split("&"),ro=0;ro<Di.length;ro++){var Qr=Di[ro].split("=");if(1<Qr.length){var mo=Qr[0];Qr=Qr[1];var _o=mo.split("_");$t=2<=_o.length&&"type"==_o[1]?$t+(mo+"=")+Qr+"&":$t+(mo+"=redacted&")}}else $t=null;else $t=Je;return"XMLHTTP REQ ("+te+") [attempt "+Le+"]: "+M+"\n"+U+"\n"+$t})}(f.i,f.u,f.A,f.l,f.R,f.m)}function V_(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function Hv(f,M){var U=f.C,te=M.indexOf("\n",U);return-1==te?Ph:(U=Number(M.substring(U,te)),isNaN(U)?Rh:(te+=1)+U>M.length?Ph:(M=M.slice(te,te+U),f.C=te+U,M))}function ed(f){f.S=Date.now()+f.I,ap(f,f.I)}function ap(f,M){if(null!=f.B)throw Error("WatchDog timer not null");f.B=Dh(ye(f.ba,f),M)}function up(f){f.B&&(A.clearTimeout(f.B),f.B=null)}function td(f){0==f.j.G||f.J||am(f.j,f)}function tl(f){up(f);var M=f.M;M&&"function"==typeof M.ma&&M.ma(),f.M=null,zg(f.U),f.g&&(M=f.g,f.g=null,M.abort(),M.ma())}function Kg(f,M){try{var U=f.j;if(0!=U.G&&(U.g==f||dp(U.h,f)))if(!f.K&&dp(U.h,f)&&3==U.G){try{var te=U.Da.g.parse(M)}catch{te=null}if(Array.isArray(te)&&3==te.length){var Le=te;if(0==Le[0]){e:if(!U.u){if(U.g){if(!(U.g.F+3e3<f.F))break e;yp(U),Uh(U)}om(U),Ro(18)}}else U.za=Le[1],0<U.za-U.T&&37500>Le[2]&&U.F&&0==U.v&&!U.C&&(U.C=Dh(ye(U.Za,U),6e3));if(1>=lp(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else Ya(U,11)}else if((f.K||U.g==f)&&yp(U),!An(M))for(Le=U.Da.g.parse(M),M=0;M<Le.length;M++){let Qr=Le[M];if(U.T=Qr[0],Qr=Qr[1],2==U.G)if("c"==Qr[0]){U.K=Qr[1],U.ia=Qr[2];const mo=Qr[3];null!=mo&&(U.la=mo,U.j.info("VER="+U.la));const _o=Qr[4];null!=_o&&(U.Aa=_o,U.j.info("SVER="+U.Aa));const od=Qr[5];null!=od&&"number"==typeof od&&0<od&&(U.L=te=1.5*od,U.j.info("backChannelRequestTimeoutMs_="+te)),te=U;const La=f.g;if(La){const Ip=La.g?La.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ip){var Je=te.h;Je.g||-1==Ip.indexOf("spdy")&&-1==Ip.indexOf("quic")&&-1==Ip.indexOf("h2")||(Je.j=Je.l,Je.g=new Set,Je.h&&(Xg(Je,Je.h),Je.h=null))}if(te.D){const hm=La.g?La.g.getResponseHeader("X-HTTP-Session-Id"):null;hm&&(te.ya=hm,Oi(te.I,te.D,hm))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-f.F,U.j.info("Handshake RTT: "+U.R+"ms"));var $t=f;if((te=U).qa=cm(te,te.J?te.ia:null,te.W),$t.K){Yg(te.h,$t);var Di=$t,ro=te.L;ro&&(Di.I=ro),Di.B&&(up(Di),ed(Di)),te.g=$t}else sd(te);0<U.i.length&&gp(U)}else"stop"!=Qr[0]&&"close"!=Qr[0]||Ya(U,7);else 3==U.G&&("stop"==Qr[0]||"close"==Qr[0]?"stop"==Qr[0]?Ya(U,7):Ko(U):"noop"!=Qr[0]&&U.l&&U.l.ta(Qr),U.v=0)}Ah()}catch{}}function cp(f){this.l=f||10,f=A.PerformanceNavigationTiming?0<(f=A.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(A.chrome&&A.chrome.loadTimes&&A.chrome.loadTimes()&&A.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qg(f){return!!f.h||!!f.g&&f.g.size>=f.j}function lp(f){return f.h?1:f.g?f.g.size:0}function dp(f,M){return f.h?f.h==M:!!f.g&&f.g.has(M)}function Xg(f,M){f.g?f.g.add(M):f.h=M}function Yg(f,M){f.h&&f.h==M?f.h=null:f.g&&f.g.has(M)&&f.g.delete(M)}function Zg(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let M=f.i;for(const U of f.g.values())M=M.concat(U.D);return M}return Ct(f.i)}function $_(f,M){if(f.forEach&&"function"==typeof f.forEach)f.forEach(M,void 0);else if(R(f)||"string"==typeof f)Array.prototype.forEach.call(f,M,void 0);else for(var U=function j_(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(R(f)||"string"==typeof f){var M=[];f=f.length;for(var U=0;U<f;U++)M.push(U);return M}M=[],U=0;for(const te in f)M[U++]=te;return M}}}(f),te=function B_(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(R(f)){for(var M=[],U=f.length,te=0;te<U;te++)M.push(f[te]);return M}for(te in M=[],U=0,f)M[U++]=f[te];return M}(f),Le=te.length,Je=0;Je<Le;Je++)M.call(void 0,te[Je],U&&U[Je],f)}sc.prototype.ca=function(f){f=f.target;const M=this.M;M&&3==Xs(f)?M.j():this.Y(f)},sc.prototype.Y=function(f){try{if(f==this.g)e:{const _o=Xs(this.g);var M=this.g.Ba();if(this.g.Z(),!(3>_o)&&(3!=_o||this.g&&(this.h.h||this.g.oa()||X_(this.g)))){this.J||4!=_o||7==M||Ah(),up(this);var U=this.g.Z();this.X=U;t:if(V_(this)){var te=X_(this.g);f="";var Le=te.length,Je=4==Xs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tl(this),td(this);var $t="";break t}this.h.i=new A.TextDecoder}for(M=0;M<Le;M++)this.h.h=!0,f+=this.h.i.decode(te[M],{stream:!(Je&&M==Le-1)});te.length=0,this.h.g+=f,this.C=0,$t=this.h.g}else $t=this.g.oa();if(this.o=200==U,function k_(f,M,U,te,Le,Je,$t){f.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+Le+"]: "+M+"\n"+U+"\n"+Je+" "+$t})}(this.i,this.u,this.A,this.l,this.R,_o,U),this.o){if(this.T&&!this.K){t:{if(this.g){var Di,ro=this.g;if((Di=ro.g?ro.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!An(Di)){var Qr=Di;break t}}Qr=null}if(!(U=Qr)){this.o=!1,this.s=3,Ro(12),tl(this),td(this);break e}el(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kg(this,U)}if(this.P){let La;for(U=!0;!this.J&&this.C<$t.length;){if(La=Hv(this,$t),La==Ph){4==_o&&(this.s=4,Ro(14),U=!1),el(this.i,this.l,null,"[Incomplete Response]");break}if(La==Rh){this.s=4,Ro(15),el(this.i,this.l,$t,"[Invalid Chunk]"),U=!1;break}el(this.i,this.l,La,null),Kg(this,La)}if(V_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=_o||0!=$t.length||this.h.h||(this.s=1,Ro(16),U=!1),this.o=this.o&&U,U){if(0<$t.length&&!this.W){this.W=!0;var mo=this.j;mo.g==this&&mo.ba&&!mo.M&&(mo.j.info("Great, no buffering proxy detected. Bytes received: "+$t.length),_p(mo),mo.M=!0,Ro(11))}}else el(this.i,this.l,$t,"[Invalid Chunked Response]"),tl(this),td(this)}else el(this.i,this.l,$t,null),Kg(this,$t);4==_o&&tl(this),this.o&&!this.J&&(4==_o?am(this.j,this):(this.o=!1,ed(this)))}else(function Y_(f){const M={};f=(f.g&&2<=Xs(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let te=0;te<f.length;te++){if(An(f[te]))continue;var U=Fe(f[te]);const Le=U[0];if("string"!=typeof(U=U[1]))continue;U=U.trim();const Je=M[Le]||[];M[Le]=Je,Je.push(U)}!function Ne(f,M){for(const U in f)M.call(void 0,f[U],U,f)}(M,function(te){return te.join(", ")})})(this.g),400==U&&0<$t.indexOf("Unknown SID")?(this.s=3,Ro(12)):(this.s=0,Ro(13)),tl(this),td(this)}}}catch{}},sc.prototype.cancel=function(){this.J=!0,tl(this)},sc.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function jv(f,M){f.info(function(){return"TIMEOUT: "+M})}(this.i,this.A),2!=this.L&&(Ah(),Ro(17)),tl(this),this.s=2,td(this)):ap(this,this.S-f)},cp.prototype.cancel=function(){if(this.i=Zg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var Jg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oc(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof oc){this.h=f.h,Mh(this,f.j),this.o=f.o,this.g=f.g,Nh(this,f.s),this.l=f.l;var M=f.i,U=new Fa;U.i=M.i,M.g&&(U.g=new Map(M.g),U.h=M.h),em(this,U),this.m=f.m}else f&&(M=String(f).match(Jg))?(this.h=!1,Mh(this,M[1]||"",!0),this.o=nd(M[2]||""),this.g=nd(M[3]||"",!0),Nh(this,M[4]),this.l=nd(M[5]||"",!0),em(this,M[6]||"",!0),this.m=nd(M[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}function ka(f){return new oc(f)}function Mh(f,M,U){f.j=U?nd(M,!0):M,f.j&&(f.j=f.j.replace(/:$/,""))}function Nh(f,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);f.s=M}else f.s=null}function em(f,M,U){M instanceof Fa?(f.i=M,function qv(f,M){M&&!f.j&&(Xa(f),f.i=null,f.g.forEach(function(U,te){var Le=te.toLowerCase();te!=Le&&(G_(this,te),Wv(this,Le,U))},f)),f.j=M}(f.i,f.h)):(U||(M=rd(M,Gv)),f.i=new Fa(M,f.h))}function Oi(f,M,U){f.i.set(M,U)}function Oh(f){return Oi(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function nd(f,M){return f?M?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function rd(f,M,U){return"string"==typeof f?(f=encodeURI(f).replace(M,z_),U&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function z_(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}oc.prototype.toString=function(){var f=[],M=this.j;M&&f.push(rd(M,xh,!0),":");var U=this.g;return(U||"file"==M)&&(f.push("//"),(M=this.o)&&f.push(rd(M,xh,!0),"@"),f.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(U=this.s)&&f.push(":",String(U))),(U=this.l)&&(this.g&&"/"!=U.charAt(0)&&f.push("/"),f.push(rd(U,"/"==U.charAt(0)?zv:ac,!0))),(U=this.i.toString())&&f.push("?",U),(U=this.m)&&f.push("#",rd(U,tm)),f.join("")};var f,xh=/[#\/\?@]/g,ac=/[#\?:]/g,zv=/[#\?]/g,Gv=/[#\?@]/g,tm=/#/g;function Fa(f,M){this.h=this.g=null,this.i=f||null,this.j=!!M}function Xa(f){f.g||(f.g=new Map,f.h=0,f.i&&function H_(f,M){if(f){f=f.split("&");for(var U=0;U<f.length;U++){var te=f[U].indexOf("="),Le=null;if(0<=te){var Je=f[U].substring(0,te);Le=f[U].substring(te+1)}else Je=f[U];M(Je,Le?decodeURIComponent(Le.replace(/\+/g," ")):"")}}}(f.i,function(M,U){f.add(decodeURIComponent(M.replace(/\+/g," ")),U)}))}function G_(f,M){Xa(f),M=kh(f,M),f.g.has(M)&&(f.i=null,f.h-=f.g.get(M).length,f.g.delete(M))}function hp(f,M){return Xa(f),M=kh(f,M),f.g.has(M)}function Wv(f,M,U){G_(f,M),0<U.length&&(f.i=null,f.g.set(kh(f,M),Ct(U)),f.h+=U.length)}function kh(f,M){return M=String(M),f.j&&(M=M.toLowerCase()),M}function uc(f,M,U,te,Le){try{Le&&(Le.onload=null,Le.onerror=null,Le.onabort=null,Le.ontimeout=null),te(U)}catch{}}function Ls(){this.g=new Bv}function q_(f,M,U){const te=U||"";try{$_(f,function(Le,Je){let $t=Le;L(Le)&&($t=Zc(Le)),M.push(te+Je+"="+encodeURIComponent($t))})}catch(Le){throw M.push(te+"type="+encodeURIComponent("_badmap")),Le}}function Fh(f){this.l=f.Ub||null,this.j=f.eb||!1}function fp(f,M){So.call(this),this.D=f,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function nm(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Lh(f){f.readyState=4,f.l=null,f.j=null,f.v=null,id(f)}function id(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function rm(f){let M="";return gr(f,function(U,te){M+=te,M+=":",M+=U,M+="\r\n"}),M}function cc(f,M,U){e:{for(te in U){var te=!1;break e}te=!0}te||(U=rm(U),"string"==typeof f?null!=U&&encodeURIComponent(String(U)):Oi(f,M,U))}function ns(f){So.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=Fa.prototype).add=function(f,M){Xa(this),this.i=null,f=kh(this,f);var U=this.g.get(f);return U||this.g.set(f,U=[]),U.push(M),this.h+=1,this},a.forEach=function(f,M){Xa(this),this.g.forEach(function(U,te){U.forEach(function(Le){f.call(M,Le,te,this)},this)},this)},a.na=function(){Xa(this);const f=Array.from(this.g.values()),M=Array.from(this.g.keys()),U=[];for(let te=0;te<M.length;te++){const Le=f[te];for(let Je=0;Je<Le.length;Je++)U.push(M[te])}return U},a.V=function(f){Xa(this);let M=[];if("string"==typeof f)hp(this,f)&&(M=M.concat(this.g.get(kh(this,f))));else{f=Array.from(this.g.values());for(let U=0;U<f.length;U++)M=M.concat(f[U])}return M},a.set=function(f,M){return Xa(this),this.i=null,hp(this,f=kh(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[M]),this.h+=1,this},a.get=function(f,M){return f&&0<(f=this.V(f)).length?String(f[0]):M},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],M=Array.from(this.g.keys());for(var U=0;U<M.length;U++){var te=M[U];const Je=encodeURIComponent(String(te)),$t=this.V(te);for(te=0;te<$t.length;te++){var Le=Je;""!==$t[te]&&(Le+="="+encodeURIComponent(String($t[te]))),f.push(Le)}}return this.i=f.join("&")},lt(Fh,Jc),Fh.prototype.g=function(){return new fp(this.l,this.j)},Fh.prototype.i=(f={},function(){return f}),lt(fp,So),(a=fp.prototype).open=function(f,M){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=M,this.readyState=1,id(this)},a.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(M.body=f),(this.D||A).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lh(this)),this.readyState=0},a.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,id(this)),this.g&&(this.readyState=3,id(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nm(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var M=f.value?f.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!f.done}))&&(this.response=this.responseText+=M)}f.done?Lh(this):id(this),3==this.readyState&&nm(this)}},a.Ra=function(f){this.g&&(this.response=this.responseText=f,Lh(this))},a.Qa=function(f){this.g&&(this.response=f,Lh(this))},a.ga=function(){this.g&&Lh(this)},a.setRequestHeader=function(f,M){this.u.append(f,M)},a.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],M=this.h.entries();for(var U=M.next();!U.done;)f.push((U=U.value)[0]+": "+U[1]),U=M.next();return f.join("\r\n")},Object.defineProperty(fp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),lt(ns,So);var Qv=/^https?$/i,K_=["POST","PUT"];function Q_(f,M){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=M,f.m=5,im(f),Vh(f)}function im(f){f.A||(f.A=!0,Co(f,"complete"),Co(f,"error"))}function Xv(f){if(f.h&&typeof g<"u"&&(!f.v[1]||4!=Xs(f)||2!=f.Z()))if(f.u&&4==Xs(f))R_(f.Ea,0,f);else if(Co(f,"readystatechange"),4==Xs(f)){f.h=!1;try{const $t=f.Z();e:switch($t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var U;if(!(U=M)){var te;if(te=0===$t){var Le=String(f.D).match(Jg)[1]||null;!Le&&A.self&&A.self.location&&(Le=A.self.location.protocol.slice(0,-1)),te=!Qv.test(Le?Le.toLowerCase():"")}U=te}if(U)Co(f,"complete"),Co(f,"success");else{f.m=6;try{var Je=2<Xs(f)?f.g.statusText:""}catch{Je=""}f.l=Je+" ["+f.Z()+"]",im(f)}}finally{Vh(f)}}}function Vh(f,M){if(f.g){pp(f);const U=f.g,te=f.v[0]?()=>{}:null;f.g=null,f.v=null,M||Co(f,"ready");try{U.onreadystatechange=te}catch{}}}function pp(f){f.I&&(A.clearTimeout(f.I),f.I=null)}function Xs(f){return f.g?f.g.readyState:0}function X_(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Lo(f,M,U){return U&&U.internalChannelParams&&U.internalChannelParams[f]||M}function ga(f){this.Aa=0,this.i=[],this.j=new bh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,f),this.cb=Lo("retryDelaySeedMs",1e4,f),this.Wa=Lo("forwardChannelMaxRetries",2,f),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new cp(f&&f.concurrentRequestLimit),this.Da=new Ls,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ko(f){if(sm(f),3==f.G){var M=f.U++,U=ka(f.I);if(Oi(U,"SID",f.K),Oi(U,"RID",M),Oi(U,"TYPE","terminate"),Bh(f,U),(M=new sc(f,f.j,M)).L=2,M.v=Oh(ka(U)),U=!1,A.navigator&&A.navigator.sendBeacon)try{U=A.navigator.sendBeacon(M.v.toString(),"")}catch{}!U&&A.Image&&((new Image).src=M.v,U=!0),U||(M.g=lm(M.j,null),M.g.ea(M.v)),M.F=Date.now(),ed(M)}ey(f)}function Uh(f){f.g&&(_p(f),f.g.cancel(),f.g=null)}function sm(f){Uh(f),f.u&&(A.clearTimeout(f.u),f.u=null),yp(f),f.h.cancel(),f.s&&("number"==typeof f.s&&A.clearTimeout(f.s),f.s=null)}function gp(f){if(!Qg(f.h)&&!f.s){f.s=!0;var M=f.Ga;xa||Xf(),ic||(xa(),ic=!0),Fo.add(M,f),f.B=0}}function Z_(f,M){var U;U=M?M.l:f.U++;const te=ka(f.I);Oi(te,"SID",f.K),Oi(te,"RID",U),Oi(te,"AID",f.T),Bh(f,te),f.m&&f.o&&cc(te,f.m,f.o),U=new sc(f,f.j,U,f.B+1),null===f.m&&(U.H=f.o),M&&(f.i=M.D.concat(f.i)),M=mp(f,U,1e3),U.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Xg(f.h,U),op(U,te,M)}function Bh(f,M){f.H&&gr(f.H,function(U,te){Oi(M,te,U)}),f.l&&$_({},function(U,te){Oi(M,te,U)})}function mp(f,M,U){U=Math.min(f.i.length,U);var te=f.l?ye(f.l.Na,f.l,f):null;e:{var Le=f.i;let Je=-1;for(;;){const $t=["count="+U];-1==Je?0<U?(Je=Le[0].g,$t.push("ofs="+Je)):Je=0:$t.push("ofs="+Je);let Di=!0;for(let ro=0;ro<U;ro++){let Qr=Le[ro].g;const mo=Le[ro].map;if(Qr-=Je,0>Qr)Je=Math.max(0,Le[ro].g-100),Di=!1;else try{q_(mo,$t,"req"+Qr+"_")}catch{te&&te(mo)}}if(Di){te=$t.join("&");break e}}}return f=f.i.splice(0,U),M.D=f,te}function sd(f){if(!f.g&&!f.u){f.Y=1;var M=f.Fa;xa||Xf(),ic||(xa(),ic=!0),Fo.add(M,f),f.v=0}}function om(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=Dh(ye(f.Fa,f),um(f,f.v)),f.v++,0))}function _p(f){null!=f.A&&(A.clearTimeout(f.A),f.A=null)}function J_(f){f.g=new sc(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var M=ka(f.qa);Oi(M,"RID","rpc"),Oi(M,"SID",f.K),Oi(M,"AID",f.T),Oi(M,"CI",f.F?"0":"1"),!f.F&&f.ja&&Oi(M,"TO",f.ja),Oi(M,"TYPE","xmlhttp"),Bh(f,M),f.m&&f.o&&cc(M,f.m,f.o),f.L&&(f.g.I=f.L);var U=f.g;f=f.ia,U.L=1,U.v=Oh(ka(M)),U.m=null,U.P=!0,L_(U,f)}function yp(f){null!=f.C&&(A.clearTimeout(f.C),f.C=null)}function am(f,M){var U=null;if(f.g==M){yp(f),_p(f),f.g=null;var te=2}else{if(!dp(f.h,M))return;U=M.D,Yg(f.h,M),te=1}if(0!=f.G)if(M.o)if(1==te){U=M.m?M.m.length:0,M=Date.now()-M.F;var Le=f.B;Co(te=Wg(),new qg(te,U)),gp(f)}else sd(f);else if(3==(Le=M.s)||0==Le&&0<M.X||!(1==te&&function Yv(f,M){return!(lp(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=M.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=Dh(ye(f.Ga,f,M),um(f,f.B)),f.B++,0)))}(f,M)||2==te&&om(f)))switch(U&&0<U.length&&(M=f.h,M.i=M.i.concat(U)),Le){case 1:Ya(f,5);break;case 4:Ya(f,10);break;case 3:Ya(f,6);break;default:Ya(f,2)}}function um(f,M){let U=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(U*=2),U*M}function Ya(f,M){if(f.j.info("Error code "+M),2==M){var U=ye(f.fb,f),te=f.Xa;const Le=!te;te=new oc(te||"//www.google.com/images/cleardot.gif"),A.location&&"http"==A.location.protocol||Mh(te,"https"),Oh(te),Le?function Kv(f,M){const U=new bh;if(A.Image){const te=new Image;te.onload=ze(uc,U,"TestLoadImage: loaded",!0,M,te),te.onerror=ze(uc,U,"TestLoadImage: error",!1,M,te),te.onabort=ze(uc,U,"TestLoadImage: abort",!1,M,te),te.ontimeout=ze(uc,U,"TestLoadImage: timeout",!1,M,te),A.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=f}else M(!1)}(te.toString(),U):function W_(f,M){new bh;const te=new AbortController,Le=setTimeout(()=>{te.abort(),uc(0,0,!1,M)},1e4);fetch(f,{signal:te.signal}).then(Je=>{clearTimeout(Le),uc(0,0,!!Je.ok,M)}).catch(()=>{clearTimeout(Le),uc(0,0,!1,M)})}(te.toString(),U)}else Ro(2);f.G=0,f.l&&f.l.sa(M),ey(f),sm(f)}function ey(f){if(f.G=0,f.ka=[],f.l){const M=Zg(f.h);(0!=M.length||0!=f.i.length)&&(Et(f.ka,M),Et(f.ka,f.i),f.h.i.length=0,Ct(f.i),f.i.length=0),f.l.ra()}}function cm(f,M,U){var te=U instanceof oc?ka(U):new oc(U);if(""!=te.g)M&&(te.g=M+"."+te.g),Nh(te,te.s);else{var Le=A.location;te=Le.protocol,M=M?M+"."+Le.hostname:Le.hostname,Le=+Le.port;var Je=new oc(null);te&&Mh(Je,te),M&&(Je.g=M),Le&&Nh(Je,Le),U&&(Je.l=U),te=Je}return M=f.ya,(U=f.D)&&M&&Oi(te,U,M),Oi(te,"VER",f.la),Bh(f,te),te}function lm(f,M,U){if(M&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(M=new ns(f.Ca&&!f.pa?new Fh({eb:U}):f.pa)).Ha(f.J),M}function dm(){}function vp(){}function Qo(f,M){So.call(this),this.g=new ga(M),this.l=f,this.h=M&&M.messageUrlParams||null,f=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(f?f["X-WebChannel-Content-Type"]=M.messageContentType:f={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(f?f["X-WebChannel-Client-Profile"]=M.va:f={"X-WebChannel-Client-Profile":M.va}),this.g.S=f,(f=M&&M.Sb)&&!An(f)&&(this.g.m=f),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!An(M)&&(this.g.D=M,null!==(f=this.h)&&M in f&&M in(f=this.h)&&delete f[M]),this.j=new nl(this)}function Ep(f){Gg.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var M=f.__sm__;if(M){e:{for(const U in M){f=U;break e}f=void 0}(this.i=f)&&(f=this.i,M=null!==M&&f in M?M[f]:void 0),this.data=M}else this.data=f}function jh(){Th.call(this),this.status=1}function nl(f){this.g=f}(a=ns.prototype).Ha=function(f){this.J=f},a.ea=function(f,M,U,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);M=M?M.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sh.g(),this.v=function M_(f){return f.h||(f.h=f.i())}(this.o?this.o:Sh),this.g.onreadystatechange=ye(this.Ea,this);try{this.B=!0,this.g.open(M,String(f),!0),this.B=!1}catch(Je){return void Q_(this,Je)}if(f=U||"",U=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var Le in te)U.set(Le,te[Le]);else{if("function"!=typeof te.keys||"function"!=typeof te.get)throw Error("Unknown input type for opt_headers: "+String(te));for(const Je of te.keys())U.set(Je,te.get(Je))}te=Array.from(U.keys()).find(Je=>"content-type"==Je.toLowerCase()),Le=A.FormData&&f instanceof A.FormData,!(0<=Array.prototype.indexOf.call(K_,M,void 0))||te||Le||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Je,$t]of U)this.g.setRequestHeader(Je,$t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pp(this),this.u=!0,this.g.send(f),this.u=!1}catch(Je){Q_(this,Je)}},a.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Co(this,"complete"),Co(this,"abort"),Vh(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vh(this,!0)),ns.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Xv(this):this.bb())},a.bb=function(){Xv(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Xs(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(f){if(this.g){var M=this.g.responseText;return f&&0==M.indexOf(f)&&(M=M.substring(f.length)),P_(M)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=ga.prototype).la=8,a.G=1,a.connect=function(f,M,U,te){Ro(0),this.W=f,this.H=M||{},U&&void 0!==te&&(this.H.OSID=U,this.H.OAID=te),this.F=this.X,this.I=cm(this,null,this.W),gp(this)},a.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Le=new sc(this,this.j,f);let Je=this.o;if(this.S&&(Je?(Je=pe(Je),Oe(Je,this.S)):Je=this.S),null!==this.m||this.O||(Le.H=Je,Je=null),this.P)e:{for(var M=0,U=0;U<this.i.length;U++){var te=this.i[U];if(void 0===(te="__data__"in te.map&&"string"==typeof(te=te.map.__data__)?te.length:void 0))break;if(4096<(M+=te)){M=U;break e}if(4096===M||U===this.i.length-1){M=U+1;break e}}M=1e3}else M=1e3;M=mp(this,Le,M),Oi(U=ka(this.I),"RID",f),Oi(U,"CVER",22),this.D&&Oi(U,"X-HTTP-Session-Id",this.D),Bh(this,U),Je&&(this.O?M="headers="+encodeURIComponent(String(rm(Je)))+"&"+M:this.m&&cc(U,this.m,Je)),Xg(this.h,Le),this.Ua&&Oi(U,"TYPE","init"),this.P?(Oi(U,"$req",M),Oi(U,"SID","null"),Le.T=!0,op(Le,U,null)):op(Le,U,M),this.G=2}}else 3==this.G&&(f?Z_(this,f):0==this.i.length||Qg(this.h)||Z_(this))},a.Fa=function(){if(this.u=null,J_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Dh(ye(this.ab,this),f)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ro(10),Uh(this),J_(this))},a.Za=function(){null!=this.C&&(this.C=null,Uh(this),om(this),Ro(19))},a.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ro(2)):(this.j.info("Failed to ping google.com"),Ro(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=dm.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},vp.prototype.g=function(f,M){return new Qo(f,M)},lt(Qo,So),Qo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qo.prototype.close=function(){Ko(this.g)},Qo.prototype.o=function(f){var M=this.g;if("string"==typeof f){var U={};U.__data__=f,f=U}else this.u&&((U={}).__data__=Zc(f),f=U);M.i.push(new class{constructor(f,M){this.g=f,this.map=M}}(M.Ya++,f)),3==M.G&&gp(M)},Qo.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,Qo.aa.N.call(this)},lt(Ep,Gg),lt(jh,Th),lt(nl,dm),nl.prototype.ua=function(){Co(this.g,"a")},nl.prototype.ta=function(f){Co(this.g,new Ep(f))},nl.prototype.sa=function(f){Co(this.g,new jh)},nl.prototype.ra=function(){Co(this.g,"b")},vp.prototype.createWebChannel=vp.prototype.g,Qo.prototype.send=Qo.prototype.o,Qo.prototype.open=Qo.prototype.m,Qo.prototype.close=Qo.prototype.close,Ut=Ht.createWebChannelTransport=function(){return new vp},xt=Ht.getStatEventTarget=function(){return Wg()},it=Ht.Event=Qa,pt=Ht.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sp.NO_ERROR=0,sp.TIMEOUT=8,sp.HTTP_ERROR=6,rt=Ht.ErrorCode=sp,F_.COMPLETE="complete",mr=Ht.EventType=F_,N_.EventType=Ih,Ih.OPEN="a",Ih.CLOSE="b",Ih.ERROR="c",Ih.MESSAGE="d",So.prototype.listen=So.prototype.K,qn=Ht.WebChannel=N_,Ht.FetchXmlHttpFactory=Fh,ns.prototype.listenOnce=ns.prototype.L,ns.prototype.getLastError=ns.prototype.Ka,ns.prototype.getLastErrorCode=ns.prototype.Ba,ns.prototype.getStatus=ns.prototype.Z,ns.prototype.getResponseJson=ns.prototype.Oa,ns.prototype.getResponseText=ns.prototype.oa,ns.prototype.send=ns.prototype.ea,ns.prototype.setWithCredentials=ns.prototype.Ha,ln=Ht.XhrIo=ns}).apply(typeof vt<"u"?vt:typeof self<"u"?self:typeof window<"u"?window:{});const bt="@firebase/firestore";class ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");let Zt="10.14.0";const Gn=new et.Vy("@firebase/firestore");function ni(){return Gn.logLevel}function be(a,...e){if(Gn.logLevel<=et.$b.DEBUG){const r=e.map(mn);Gn.debug(`Firestore (${Zt}): ${a}`,...r)}}function qt(a,...e){if(Gn.logLevel<=et.$b.ERROR){const r=e.map(mn);Gn.error(`Firestore (${Zt}): ${a}`,...r)}}function wt(a,...e){if(Gn.logLevel<=et.$b.WARN){const r=e.map(mn);Gn.warn(`Firestore (${Zt}): ${a}`,...r)}}function mn(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function St(a="Unexpected state"){const e=`FIRESTORE (${Zt}) INTERNAL ASSERTION FAILED: `+a;throw qt(e),new Error(e)}function Ot(a,e){a||St()}function le(a,e){return a}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends he.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ce{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Be{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ut{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ot.UNAUTHENTICATED))}shutdown(){}}class yt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class On{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;Ot(void 0===this.o);let u=this.i;const h=L=>this.i!==u?(u=this.i,r(L)):Promise.resolve();let g=new Ce;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ce,e.enqueueRetryable(()=>h(this.currentUser))};const A=()=>{const L=g;e.enqueueRetryable((0,de.A)(function*(){yield L.promise,yield h(s.currentUser)}))},R=L=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=L,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(L=>R(L)),setTimeout(()=>{if(!this.auth){const L=this.t.getImmediate({optional:!0});L?R(L):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ce)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ot("string"==typeof s.accessToken),new Be(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new ot(e)}}class on{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Yn{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new on(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Ot(void 0===this.o);const s=h=>{null!=h.error&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.R;return this.R=h.token,be("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ot("string"==typeof r.token),this.R=r.token,new Pn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Hr(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class _r{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Hr(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[h]%62))}return s}}function at(a,e){return a<e?-1:a>e?1:0}function ri(a,e,r){return a.length===e.length&&a.every((s,u)=>r(s,e[u]))}class $n{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ee(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ee(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ee(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new $n(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new $n(0,0))}static max(){return new At(new $n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jr{constructor(e,r,s){void 0===r?r=0:r>e.length&&St(),void 0===s?s=e.length-r:s>e.length-r&&St(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===jr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const h=e.get(u),g=r.get(u);if(h<g)return-1;if(h>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Lt extends jr{construct(e,r,s){return new Lt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ee(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new Lt(r)}static emptyPath(){return new Lt([])}}const Dn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends jr{construct(e,r,s){return new Hn(e,r,s)}static isValidIdentifier(e){return Dn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const h=()=>{if(0===s.length)throw new ee(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new ee(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new ee(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,u+=2}else"`"===A?(g=!g,u++):"."!==A||g?(s+=A,u++):(h(),u++)}if(h(),g)throw new ee(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(r)}static emptyPath(){return new Hn([])}}class It{constructor(e){this.path=e}static fromPath(e){return new It(Lt.fromString(e))}static fromName(e){return new It(Lt.fromString(e).popFirst(5))}static empty(){return new It(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Lt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Lt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new It(new Lt(e.slice()))}}class or{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new or(At.min(),It.empty(),-1)}static max(){return new or(At.max(),It.empty(),-1)}}function Tr(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=It.comparator(a.documentKey,e.documentKey),0!==r?r:at(a.largestBatchId,e.largestBatchId))}const ar="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vi(a){return rs.apply(this,arguments)}function rs(){return(rs=(0,de.A)(function*(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==ar)throw a;be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new _e((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(r,h).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof _e?r:_e.resolve(r)}catch(r){return _e.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):_e.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):_e.reject(r)}static resolve(e){return new _e((r,s)=>{r(e)})}static reject(e){return new _e((r,s)=>{s(e)})}static waitFor(e){return new _e((r,s)=>{let u=0,h=0,g=!1;e.forEach(A=>{++u,A.next(()=>{++h,g&&h===u&&r()},R=>s(R))}),g=!0,h===u&&r()})}static or(e){let r=_e.resolve(!1);for(const s of e)r=r.next(u=>u?_e.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,h)=>{s.push(r.call(this,u,h))}),this.waitFor(s)}static mapArray(e,r){return new _e((s,u)=>{const h=e.length,g=new Array(h);let A=0;for(let R=0;R<h;R++){const L=R;r(e[L]).next(X=>{g[L]=X,++A,A===h&&s(g)},X=>u(X))}})}static doWhile(e,r){return new _e((s,u)=>{const h=()=>{!0===e()?r().next(()=>{h()},u):s()};h()})}}function W(a){return"IndexedDbTransactionError"===a.name}let kt=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function sn(a){return null==a}function gn(a){return 0===a&&1/a==-1/0}function Yi(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Fi(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function io(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class rr{constructor(e,r){this.comparator=e,this.root=r||Mr.EMPTY}insert(e,r){return new rr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zr(this.root,e,this.comparator,!1)}getReverseIterator(){return new zr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zr(this.root,e,this.comparator,!0)}}class zr{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?s(e.key,r):1,r&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,r,s,u,h){this.key=e,this.value=r,this.color=s??Mr.RED,this.left=u??Mr.EMPTY,this.right=h??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,h){return new Mr(e??this.key,r??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===h?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Mr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1,Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(e,r,s,u,h){return this}insert(e,r,s){return new Mr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Vo(this.data.getIterator())}getIteratorFrom(e){return new Vo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=s.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Mn(this.comparator);return r.data=e,r}}class Vo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ri{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new Ri([])}unionWith(e){let r=new Mn(Hn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Ri(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ri(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Uo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Uo("Invalid base64 string: "+h):h}}(e);return new Ar(r)}static fromUint8Array(e){const r=function(u){let h="";for(let g=0;g<u.length;++g)h+=String.fromCharCode(u[g]);return h}(e);return new Ar(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const Mo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(a){if(Ot(!!a),"string"==typeof a){let e=0;const r=Mo.exec(a);if(Ot(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dr(a.seconds),nanos:Dr(a.nanos)}}function Dr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Wi(a){return"string"==typeof a?Ar.fromBase64String(a):Ar.fromUint8Array(a)}function so(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Vs(a){const e=a.mapValue.fields.__previous_value__;return so(e)?Vs(e):e}function Ys(a){const e=Zi(a.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}class oo{constructor(e,r,s,u,h,g,A,R,L){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=A,this.longPollingOptions=R,this.useFetchStreams=L}}class Ts{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ts("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ts&&e.projectId===this.projectId&&e.database===this.database}}const Ji={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pi(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?so(a)?4:Bs(a)?9007199254740991:br(a)?10:11:St()}function Ei(a,e){if(a===e)return!0;const r=Pi(a);if(r!==Pi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Ys(a).isEqual(Ys(e));case 3:return function(u,h){if("string"==typeof u.timestampValue&&"string"==typeof h.timestampValue&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const g=Zi(u.timestampValue),A=Zi(h.timestampValue);return g.seconds===A.seconds&&g.nanos===A.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return h=e,Wi(a.bytesValue).isEqual(Wi(h.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,h){return Dr(u.geoPointValue.latitude)===Dr(h.geoPointValue.latitude)&&Dr(u.geoPointValue.longitude)===Dr(h.geoPointValue.longitude)}(a,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return Dr(u.integerValue)===Dr(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const g=Dr(u.doubleValue),A=Dr(h.doubleValue);return g===A?gn(g)===gn(A):isNaN(g)&&isNaN(A)}return!1}(a,e);case 9:return ri(a.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(u,h){const g=u.mapValue.fields||{},A=h.mapValue.fields||{};if(Yi(g)!==Yi(A))return!1;for(const R in g)if(g.hasOwnProperty(R)&&(void 0===A[R]||!Ei(g[R],A[R])))return!1;return!0}(a,e);default:return St()}var h}function Vn(a,e){return void 0!==(a.values||[]).find(r=>Ei(r,e))}function Qn(a,e){if(a===e)return 0;const r=Pi(a),s=Pi(e);if(r!==s)return at(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return at(a.booleanValue,e.booleanValue);case 2:return function(h,g){const A=Dr(h.integerValue||h.doubleValue),R=Dr(g.integerValue||g.doubleValue);return A<R?-1:A>R?1:A===R?0:isNaN(A)?isNaN(R)?0:-1:1}(a,e);case 3:return $r(a.timestampValue,e.timestampValue);case 4:return $r(Ys(a),Ys(e));case 5:return at(a.stringValue,e.stringValue);case 6:return function(h,g){const A=Wi(h),R=Wi(g);return A.compareTo(R)}(a.bytesValue,e.bytesValue);case 7:return function(h,g){const A=h.split("/"),R=g.split("/");for(let L=0;L<A.length&&L<R.length;L++){const X=at(A[L],R[L]);if(0!==X)return X}return at(A.length,R.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,g){const A=at(Dr(h.latitude),Dr(g.latitude));return 0!==A?A:at(Dr(h.longitude),Dr(g.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Us(a.arrayValue,e.arrayValue);case 10:return function(h,g){var A,R,L,X;const ze=null===(A=(h.fields||{}).value)||void 0===A?void 0:A.arrayValue,lt=null===(R=(g.fields||{}).value)||void 0===R?void 0:R.arrayValue,Ct=at((null===(L=ze?.values)||void 0===L?void 0:L.length)||0,(null===(X=lt?.values)||void 0===X?void 0:X.length)||0);return 0!==Ct?Ct:Us(ze,lt)}(a.mapValue,e.mapValue);case 11:return function(h,g){if(h===Ji.mapValue&&g===Ji.mapValue)return 0;if(h===Ji.mapValue)return 1;if(g===Ji.mapValue)return-1;const A=h.fields||{},R=Object.keys(A),L=g.fields||{},X=Object.keys(L);R.sort(),X.sort();for(let re=0;re<R.length&&re<X.length;++re){const ye=at(R[re],X[re]);if(0!==ye)return ye;const ze=Qn(A[R[re]],L[X[re]]);if(0!==ze)return ze}return at(R.length,X.length)}(a.mapValue,e.mapValue);default:throw St()}}function $r(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return at(a,e);const r=Zi(a),s=Zi(e),u=at(r.seconds,s.seconds);return 0!==u?u:at(r.nanos,s.nanos)}function Us(a,e){const r=a.values||[],s=e.values||[];for(let u=0;u<r.length&&u<s.length;++u){const h=Qn(r[u],s[u]);if(h)return h}return at(r.length,s.length)}function Xr(a){return va(a)}function va(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=Zi(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Wi(a.bytesValue).toBase64():"referenceValue"in a?It.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",u=!0;for(const h of r.values||[])u?u=!1:s+=",",s+=va(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const g of s)h?h=!1:u+=",",u+=`${g}:${va(r.fields[g])}`;return u+"}"}(a.mapValue):St()}function ao(a){return!!a&&"integerValue"in a}function Cs(a){return!!a&&"arrayValue"in a}function vn(a){return!!a&&"mapValue"in a}function br(a){var e,r;return"__vector__"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ii(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Fi(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Ii(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ii(a.arrayValue.values[r]);return e}return Object.assign({},a)}function Bs(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!vn(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ii(r)}setAll(e){let r=Hn.emptyPath(),s={},u=[];e.forEach((g,A)=>{if(!r.isImmediateParentOf(A)){const R=this.getFieldsMap(r);this.applyChanges(R,s,u),s={},u=[],r=A.popLast()}g?s[A.lastSegment()]=Ii(g):u.push(A.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,s,u)}delete(e){const r=this.field(e.popLast());vn(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];vn(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){Fi(r,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new Yt(Ii(this.value))}}function ws(a){const e=[];return Fi(a.fields,(r,s)=>{const u=new Hn([r]);if(vn(s)){const h=ws(s.mapValue).fields;if(0===h.length)e.push(u);else for(const g of h)e.push(u.child(g))}else e.push(u)}),new Ri(e)}class hr{constructor(e,r,s,u,h,g,A){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=h,this.data=g,this.documentState=A}static newInvalidDocument(e){return new hr(e,0,At.min(),At.min(),At.min(),Yt.empty(),0)}static newFoundDocument(e,r,s,u){return new hr(e,1,r,At.min(),s,u,0)}static newNoDocument(e,r){return new hr(e,2,r,At.min(),At.min(),Yt.empty(),0)}static newUnknownDocument(e,r){return new hr(e,3,r,At.min(),At.min(),Yt.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(At.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ji{constructor(e,r){this.position=e,this.inclusive=r}}function Vr(a,e,r){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],g=a.position[u];if(s=h.field.isKeyField()?It.comparator(It.fromName(g.referenceValue),r.key):Qn(g,r.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function uo(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Ei(a.position[r],e.position[r]))return!1;return!0}class $i{constructor(e,r="asc"){this.field=e,this.dir=r}}function Hi(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class js{}class bn extends js{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Jo(e,r,s):"array-contains"===r?new es(e,s):"in"===r?new di(e,s):"not-in"===r?new B(e,s):"array-contains-any"===r?new $(e,s):new bn(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new ds(e,s):new Js(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Qn(r,this.value)):null!==r&&Pi(this.value)===Pi(r)&&this.matchesComparison(Qn(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends js{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Xn(e,r)}matches(e){return gi(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gi(a){return"and"===a.op}function Zs(a){return function Sn(a){for(const e of a.filters)if(e instanceof Xn)return!1;return!0}(a)&&gi(a)}function Bo(a){if(a instanceof bn)return a.field.canonicalString()+a.op.toString()+Xr(a.value);if(Zs(a))return a.filters.map(e=>Bo(e)).join(",");{const e=a.filters.map(r=>Bo(r)).join(",");return`${a.op}(${e})`}}function co(a,e){return a instanceof bn?(s=a,(u=e)instanceof bn&&s.op===u.op&&s.field.isEqual(u.field)&&Ei(s.value,u.value)):a instanceof Xn?function(s,u){return u instanceof Xn&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((h,g,A)=>h&&co(g,u.filters[A]),!0)}(a,e):void St();var s,u}function Wr(a){return a instanceof bn?`${(r=a).field.canonicalString()} ${r.op} ${Xr(r.value)}`:a instanceof Xn?function(r){return r.op.toString()+" {"+r.getFilters().map(Wr).join(" ,")+"}"}(a):"Filter";var r}class Jo extends bn{constructor(e,r,s){super(e,r,s),this.key=It.fromName(s.referenceValue)}matches(e){const r=It.comparator(e.key,this.key);return this.matchesComparison(r)}}class ds extends bn{constructor(e,r){super(e,"in",r),this.keys=mi(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Js extends bn{constructor(e,r){super(e,"not-in",r),this.keys=mi(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function mi(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>It.fromName(s.referenceValue))}class es extends bn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Cs(r)&&Vn(r.arrayValue,this.value)}}class di extends bn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Vn(this.value.arrayValue,r)}}class B extends bn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Vn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Vn(this.value.arrayValue,r)}}class $ extends bn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Cs(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Vn(this.value.arrayValue,s))}}class ae{constructor(e,r=null,s=[],u=[],h=null,g=null,A=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=g,this.endAt=A,this.ue=null}}function ce(a,e=null,r=[],s=[],u=null,h=null,g=null){return new ae(a,e,r,s,u,h,g)}function Se(a){const e=le(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Bo(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(h=s).field.canonicalString()+h.dir;var h}).join(","),sn(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Xr(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Xr(s)).join(",")),e.ue=r}return e.ue}function Qe(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Hi(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!co(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!uo(a.startAt,e.startAt)&&uo(a.endAt,e.endAt)}class xn{constructor(e,r=null,s=[],u=[],h=null,g="F",A=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=g,this.startAt=A,this.endAt=R,this.ce=null,this.le=null,this.he=null}}function si(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Ti(a){const e=le(a);if(null===e.ce){e.ce=[];const r=new Set;for(const h of e.explicitOrderBy)e.ce.push(h),r.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let A=new Mn(Hn.comparator);return g.filters.forEach(R=>{R.getFlattenedFilters().forEach(L=>{L.isInequality()&&(A=A.add(L.field))})}),A})(e).forEach(h=>{r.has(h.canonicalString())||h.isKeyField()||e.ce.push(new $i(h,s))}),r.has(Hn.keyField().canonicalString())||e.ce.push(new $i(Hn.keyField(),s))}return e.ce}function Kn(a){const e=le(a);return e.le||(e.le=function wi(a,e){if("F"===a.limitType)return ce(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new $i(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new ji(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new ji(a.startAt.position,a.startAt.inclusive):null;return ce(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}(e,Ti(a))),e.le}function Yr(a,e,r){return new xn(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function $s(a,e){return Qe(Kn(a),Kn(e))&&a.limitType===e.limitType}function Rs(a){return`${Se(Kn(a))}|lt:${a.limitType}`}function As(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>Wr(u)).join(", ")}]`),sn(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(g=u).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>Xr(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>Xr(u)).join(",")),`Target(${s})`}(Kn(a))}; limitType=${a.limitType})`}function hs(a,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):It.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,u){for(const h of Ti(s))if(!h.field.isKeyField()&&null===u.data.field(h.field))return!1;return!0}(a,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(a,e)&&(u=e,!((s=a).startAt&&!function(g,A,R){const L=Vr(g,A,R);return g.inclusive?L<=0:L<0}(s.startAt,Ti(s),u)||s.endAt&&!function(g,A,R){const L=Vr(g,A,R);return g.inclusive?L>=0:L>0}(s.endAt,Ti(s),u)));var s,u}function Za(a,e,r){const s=a.field.isKeyField()?It.comparator(e.key,r.key):function(h,g,A){const R=g.data.field(h),L=A.data.field(h);return null!==R&&null!==L?Qn(R,L):St()}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return St()}}class Mi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,h]of s)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(r,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return io(this.inner)}size(){return this.innerSize}}const fs=new rr(It.comparator);function ts(){return fs}const ta=new rr(It.comparator);function Zr(...a){let e=ta;for(const r of a)e=e.insert(r.key,r);return e}function Hs(a){let e=ta;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Jr(){return eo()}function Ua(){return eo()}function eo(){return new Mi(a=>a.toString(),(a,e)=>a.isEqual(e))}const Ja=new rr(It.comparator),Eo=new Mn(It.comparator);function Un(...a){let e=Eo;for(const r of a)e=e.add(r);return e}const z=new Mn(at);function T(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gn(e)?"-0":e}}function O(a){return{integerValue:""+a}}function G(a,e){return function Rr(a){return"number"==typeof a&&Number.isInteger(a)&&!gn(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}(e)?O(e):T(a,e)}class J{constructor(){this._=void 0}}function ge(a,e,r){return a instanceof Ze?function(u,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&so(h)&&(h=Vs(h)),h&&(g.fields.__previous_value__=h),{mapValue:g}}(r,e):a instanceof Nt?Qt(a,e):a instanceof w?H(a,e):function(u,h){const g=je(u,h),A=F(g)+F(u.Pe);return ao(g)&&ao(u.Pe)?O(A):T(u.serializer,A)}(a,e)}function ve(a,e,r){return a instanceof Nt?Qt(a,e):a instanceof w?H(a,e):r}function je(a,e){return a instanceof P?ao(s=e)||(h=s)&&"doubleValue"in h?e:{integerValue:0}:null;var s,h}class Ze extends J{}class Nt extends J{constructor(e){super(),this.elements=e}}function Qt(a,e){const r=ie(e);for(const s of a.elements)r.some(u=>Ei(u,s))||r.push(s);return{arrayValue:{values:r}}}class w extends J{constructor(e){super(),this.elements=e}}function H(a,e){let r=ie(e);for(const s of a.elements)r=r.filter(u=>!Ei(u,s));return{arrayValue:{values:r}}}class P extends J{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function F(a){return Dr(a.integerValue||a.doubleValue)}function ie(a){return Cs(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Bt{constructor(e,r){this.version=e,this.transformResults=r}}class Xt{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xt}static exists(e){return new Xt(void 0,e)}static updateTime(e){return new Xt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ur(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class kn{}function cn(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new Jt(a.key,Xt.none()):new _i(a.key,a.data,Xt.none());{const r=a.data,s=Yt.empty();let u=new Mn(Hn.comparator);for(let h of e.fields)if(!u.has(h)){let g=r.field(h);null===g&&h.length>1&&(h=h.popLast(),g=r.field(h)),null===g?s.delete(h):s.set(h,g),u=u.add(h)}return new hi(a.key,s,new Ri(u.toArray()),Xt.none())}}function cr(a,e,r){a instanceof _i?function(u,h,g){const A=u.value.clone(),R=Ms(u.fieldTransforms,h,g.transformResults);A.setAll(R),h.convertToFoundDocument(g.version,A).setHasCommittedMutations()}(a,e,r):a instanceof hi?function(u,h,g){if(!ur(u.precondition,h))return void h.convertToUnknownDocument(g.version);const A=Ms(u.fieldTransforms,h,g.transformResults),R=h.data;R.setAll(ai(u)),R.setAll(A),h.convertToFoundDocument(g.version,R).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Bn(a,e,r,s){return a instanceof _i?function(h,g,A,R){if(!ur(h.precondition,g))return A;const L=h.value.clone(),X=Wt(h.fieldTransforms,R,g);return L.setAll(X),g.convertToFoundDocument(g.version,L).setHasLocalMutations(),null}(a,e,r,s):a instanceof hi?function(h,g,A,R){if(!ur(h.precondition,g))return A;const L=Wt(h.fieldTransforms,R,g),X=g.data;return X.setAll(ai(h)),X.setAll(L),g.convertToFoundDocument(g.version,X).setHasLocalMutations(),null===A?null:A.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(re=>re.field))}(a,e,r,s):(A=r,ur(a.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):A);var g,A}function Br(a,e){let r=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),h=je(s.transform,u||null);null!=h&&(null===r&&(r=Yt.empty()),r.set(s.field,h))}return r||null}function Ps(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===u||s&&u&&ri(s,u,(h,g)=>function Xe(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(s=a.transform)instanceof Nt&&u instanceof Nt||s instanceof w&&u instanceof w?ri(s.elements,u.elements,Ei):s instanceof P&&u instanceof P?Ei(s.Pe,u.Pe):s instanceof Ze&&u instanceof Ze);var s,u}(h,g))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var s,u}class _i extends kn{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class hi extends kn{constructor(e,r,s,u,h=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ai(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function Ms(a,e,r){const s=new Map;Ot(a.length===r.length);for(let u=0;u<r.length;u++){const h=a[u],g=h.transform,A=e.data.field(h.field);s.set(h.field,ve(g,A,r[u]))}return s}function Wt(a,e,r){const s=new Map;for(const u of a){const h=u.transform,g=r.data.field(u.field);s.set(u.field,ge(h,g,e))}return s}class Jt extends kn{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class En extends kn{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lr{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&cr(h,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Bn(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Bn(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Ua();return this.mutations.forEach(u=>{const h=e.get(u.key),g=h.overlayedDocument;let A=this.applyToLocalView(g,h.mutatedFields);A=r.has(u.key)?null:A;const R=cn(g,A);null!==R&&s.set(u.key,R),g.isValidDocument()||g.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Un())}isEqual(e){return this.batchId===e.batchId&&ri(this.mutations,e.mutations,(r,s)=>Ps(r,s))&&ri(this.baseMutations,e.baseMutations,(r,s)=>Ps(r,s))}}class Li{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){Ot(e.mutations.length===s.length);let u=Ja;const h=e.mutations;for(let g=0;g<h.length;g++)u=u.insert(h[g].key,s[g].version);return new Li(e,r,s,u)}}class Ds{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var Rn,ir;(ir=Rn||(Rn={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS",new _t([4294967295,4294967295],0),Error;class Gh{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ta(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sl(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function ol(a,e){return Ta(a,e.toTimestamp())}function Ni(a){return Ot(!!a),At.fromTimestamp(function(r){const s=Zi(r);return new $n(s.seconds,s.nanos)}(a))}function lc(a,e){return dc(a,e).canonicalString()}function dc(a,e){const r=(u=a,new Lt(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function ru(a,e){return lc(a.databaseId,e.path)}function hc(a){const e=function xo(a){const e=Lt.fromString(a);return Ot(function C(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}(e)),e}(a);return 4===e.length?Lt.emptyPath():function ht(a){return Ot(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}(e)}function Ir(a,e,r){return{name:ru(a,e),fields:r.value.mapValue.fields}}function al(a){let e=hc(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Ot(1===s);const X=r.from[0];X.allDescendants?u=X.collectionId:e=e.child(X.collectionId)}let h=[];r.where&&(h=function(re){const ye=xs(re);return ye instanceof Xn&&Zs(ye)?ye.getFilters():[ye]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(ye=>{return new $i(v((lt=ye).field),function(Et){switch(Et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(lt.direction));var lt}));let A=null;r.limit&&(A=function(re){let ye;return ye="object"==typeof re?re.value:re,sn(ye)?null:ye}(r.limit));let R=null;var re;r.startAt&&(R=new ji((re=r.startAt).values||[],!!re.before));let L=null;return r.endAt&&(L=function(re){return new ji(re.values||[],!re.before)}(r.endAt)),function qr(a,e,r,s,u,h,g,A){return new xn(a,e,r,s,u,h,g,A)}(e,u,g,h,A,"F",R,L)}function xs(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=v(r.unaryFilter.field);return bn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=v(r.unaryFilter.field);return bn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=v(r.unaryFilter.field);return bn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=v(r.unaryFilter.field);return bn.create(g,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(a):void 0!==a.fieldFilter?bn.create(v((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Xn.create(r.compositeFilter.filters.map(s=>xs(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return St()}}(r.compositeFilter.op))}(a):St();var r}function v(a){return Hn.fromServerFormat(a.fieldPath)}function y(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}class Q{constructor(e){this.ct=e}}function ia(a){const e=al({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Yr(e,e.limit,"L"):e}class Da{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Dr(e.integerValue));else if("doubleValue"in e){const s=Dr(e.doubleValue);isNaN(s)?this.dt(r,13):(this.dt(r,15),gn(s)?r.At(0):r.At(s))}else if("timestampValue"in e){let s=e.timestampValue;this.dt(r,20),"string"==typeof s&&(s=Zi(s)),r.Rt(`${s.seconds||""}`),r.At(s.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Wi(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.dt(r,45),r.At(s.latitude||0),r.At(s.longitude||0)}else"mapValue"in e?Bs(e)?this.dt(r,Number.MAX_SAFE_INTEGER):br(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):St()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const s=e.fields||{};this.dt(r,55);for(const u of Object.keys(s))this.Vt(u,r),this.Tt(s[u],r)}wt(e,r){var s,u;const h=e.fields||{};this.dt(r,53);const g="value",A=(null===(u=null===(s=h[g].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At(Dr(A)),this.Vt(g,r),this.Tt(h[g],r)}bt(e,r){const s=e.values||[];this.dt(r,50);for(const u of s)this.Tt(u,r)}yt(e,r){this.dt(r,37),It.fromName(e).path.forEach(s=>{this.dt(r,60),this.Dt(s,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Da.vt=new Da;class bm{constructor(){this.un=new cl}addToCollectionParentIndex(e,r){return this.un.add(r),_e.resolve()}getCollectionParents(e,r){return _e.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return _e.resolve()}deleteFieldIndex(e,r){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,r){return _e.resolve()}getDocumentsMatchingTarget(e,r){return _e.resolve(null)}getIndexType(e,r){return _e.resolve(0)}getFieldIndexes(e,r){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,r){return _e.resolve(or.min())}getMinOffsetFromCollectionGroup(e,r){return _e.resolve(or.min())}updateCollectionGroup(e,r,s){return _e.resolve()}updateIndexEntries(e,r){return _e.resolve()}}class cl{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new Mn(Lt.comparator),h=!u.has(s);return this.index[r]=u.add(s),h}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Mn(Lt.comparator)).toArray()}}new Uint8Array(0);class Ws{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class da{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new da(0)}static kn(){return new da(-1)}}class Ed{constructor(){this.changes=new Mi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?_e.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class hu{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&Bn(s.mutation,u,Ri.empty(),$n.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,Un()).next(()=>s))}getLocalViewOfDocuments(e,r,s=Un()){const u=Jr();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(h=>{let g=Zr();return h.forEach((A,R)=>{g=g.insert(A,R.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=Jr();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,Un()))}populateOverlays(e,r,s){const u=[];return s.forEach(h=>{r.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((g,A)=>{r.set(g,A)})})}computeViews(e,r,s,u){let h=ts();const g=eo(),A=eo();return r.forEach((R,L)=>{const X=s.get(L.key);u.has(L.key)&&(void 0===X||X.mutation instanceof hi)?h=h.insert(L.key,L):void 0!==X?(g.set(L.key,X.mutation.getFieldMask()),Bn(X.mutation,L,X.mutation.getFieldMask(),$n.now())):g.set(L.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,h).next(R=>(R.forEach((L,X)=>g.set(L,X)),r.forEach((L,X)=>{var re;return A.set(L,new wc(X,null!==(re=g.get(L))&&void 0!==re?re:null))}),A))}recalculateAndSaveOverlays(e,r){const s=eo();let u=new rr((g,A)=>g-A),h=Un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const A of g)A.keys().forEach(R=>{const L=r.get(R);if(null===L)return;let X=s.get(R)||Ri.empty();X=A.applyToLocalView(L,X),s.set(R,X);const re=(u.get(A.batchId)||Un()).add(R);u=u.insert(A.batchId,re)})}).next(()=>{const g=[],A=u.getReverseIterator();for(;A.hasNext();){const R=A.getNext(),L=R.key,X=R.value,re=Ua();X.forEach(ye=>{if(!h.has(ye)){const ze=cn(r.get(ye),s.get(ye));null!==ze&&re.set(ye,ze),h=h.add(ye)}}),g.push(this.documentOverlayCache.saveOverlays(e,L,re))}return _e.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return It.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):function oi(a){return null!==a.collectionGroup}(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var g}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(h=>{const g=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-h.size):_e.resolve(Jr());let A=-1,R=h;return g.next(L=>_e.forEach(L,(X,re)=>(A<re.largestBatchId&&(A=re.largestBatchId),h.get(X)?_e.resolve():this.remoteDocumentCache.getEntry(e,X).next(ye=>{R=R.insert(X,ye)}))).next(()=>this.populateOverlays(e,L,h)).next(()=>this.computeViews(e,R,L,Un())).next(X=>({batchId:A,changes:Hs(X)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new It(r)).next(s=>{let u=Zr();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const h=r.collectionGroup;let g=Zr();return this.indexManager.getCollectionParents(e,h).next(A=>_e.forEach(A,R=>{const L=(re=r,ye=R.child(h),new xn(ye,null,re.explicitOrderBy.slice(),re.filters.slice(),re.limit,re.limitType,re.startAt,re.endAt));var re,ye;return this.getDocumentsMatchingCollectionQuery(e,L,s,u).next(X=>{X.forEach((re,ye)=>{g=g.insert(re,ye)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,h,u))).next(g=>{h.forEach((R,L)=>{const X=L.getKey();null===g.get(X)&&(g=g.insert(X,hr.newInvalidDocument(X)))});let A=Zr();return g.forEach((R,L)=>{const X=h.get(R);void 0!==X&&Bn(X.mutation,L,Ri.empty(),$n.now()),hs(r,L)&&(A=A.insert(R,L))}),A})}}class Lu{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return _e.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:Ni(u.createTime)}),_e.resolve();var u}getNamedQuery(e,r){return _e.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(u=r).name,query:ia(u.bundledQuery),readTime:Ni(u.readTime)}),_e.resolve();var u}}class fu{constructor(){this.overlays=new rr(It.comparator),this.Ir=new Map}getOverlay(e,r){return _e.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Jr();return _e.forEach(r,u=>this.getOverlay(e,u).next(h=>{null!==h&&s.set(u,h)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,h)=>{this.ht(e,r,h)}),_e.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Ir.delete(s)),_e.resolve()}getOverlaysForCollection(e,r,s){const u=Jr(),h=r.length+1,g=new It(r.child("")),A=this.overlays.getIteratorFrom(g);for(;A.hasNext();){const R=A.getNext().value,L=R.getKey();if(!r.isPrefixOf(L.path))break;L.path.length===h&&R.largestBatchId>s&&u.set(R.getKey(),R)}return _e.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let h=new rr((L,X)=>L-X);const g=this.overlays.getIterator();for(;g.hasNext();){const L=g.getNext().value;if(L.getKey().getCollectionGroup()===r&&L.largestBatchId>s){let X=h.get(L.largestBatchId);null===X&&(X=Jr(),h=h.insert(L.largestBatchId,X)),X.set(L.getKey(),L)}}const A=Jr(),R=h.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((L,X)=>A.set(L,X)),!(A.size()>=u)););return _e.resolve(A)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const g=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new Ds(r,s));let h=this.Ir.get(r);void 0===h&&(h=Un(),this.Ir.set(r,h)),this.Ir.set(r,h.add(s.key))}}class Xh{constructor(){this.sessionToken=Ar.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,_e.resolve()}}class $a{constructor(){this.Tr=new Mn(Ui.Er),this.dr=new Mn(Ui.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const s=new Ui(e,r);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Vr(new Ui(e,r))}mr(e,r){e.forEach(s=>this.removeReference(s,r))}gr(e){const r=new It(new Lt([])),s=new Ui(r,e),u=new Ui(r,e+1),h=[];return this.dr.forEachInRange([s,u],g=>{this.Vr(g),h.push(g.key)}),h}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new It(new Lt([])),s=new Ui(r,e),u=new Ui(r,e+1);let h=Un();return this.dr.forEachInRange([s,u],g=>{h=h.add(g.key)}),h}containsKey(e){const r=new Ui(e,0),s=this.Tr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Ui{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return It.comparator(e.key,r.key)||at(e.wr,r.wr)}static Ar(e,r){return at(e.wr,r.wr)||It.comparator(e.key,r.key)}}class Sm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Mn(Ui.Er)}checkEmpty(e){return _e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const h=this.Sr;this.Sr++;const g=new lr(h,r,s,u);this.mutationQueue.push(g);for(const A of u)this.br=this.br.add(new Ui(A.key,h)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return _e.resolve(g)}lookupMutationBatch(e,r){return _e.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.vr(r+1),h=u<0?0:u;return _e.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Ui(r,0),u=new Ui(r,Number.POSITIVE_INFINITY),h=[];return this.br.forEachInRange([s,u],g=>{const A=this.Dr(g.wr);h.push(A)}),_e.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Mn(at);return r.forEach(u=>{const h=new Ui(u,0),g=new Ui(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([h,g],A=>{s=s.add(A.wr)})}),_e.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let h=s;It.isDocumentKey(h)||(h=h.child(""));const g=new Ui(new It(h),0);let A=new Mn(at);return this.br.forEachWhile(R=>{const L=R.key.path;return!!s.isPrefixOf(L)&&(L.length===u&&(A=A.add(R.wr)),!0)},g),_e.resolve(this.Cr(A))}Cr(e){const r=[];return e.forEach(s=>{const u=this.Dr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Ot(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return _e.forEach(r.mutations,u=>{const h=new Ui(u.key,r.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,r){const s=new Ui(r,0),u=this.br.firstAfterOrEqual(s);return _e.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return _e.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class xp{constructor(e){this.Mr=e,this.docs=new rr(It.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),h=u?u.size:0,g=this.Mr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return _e.resolve(s?s.document.mutableCopy():hr.newInvalidDocument(r))}getEntries(e,r){let s=ts();return r.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():hr.newInvalidDocument(u))}),_e.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let h=ts();const g=r.path,A=new It(g.child("")),R=this.docs.getIteratorFrom(A);for(;R.hasNext();){const{key:L,value:{document:X}}=R.getNext();if(!g.isPrefixOf(L.path))break;L.path.length>g.length+1||Tr(new or((a=X).readTime,a.key,-1),s)<=0||(u.has(X.key)||hs(r,X))&&(h=h.insert(X.key,X.mutableCopy()))}var a;return _e.resolve(h)}getAllFromCollectionGroup(e,r,s,u){St()}Or(e,r){return _e.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Cm(this)}getSize(e){return _e.resolve(this.size)}}class Cm extends Ed{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(e,u)):this.cr.removeEntry(s)}),_e.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Rm{constructor(e){this.persistence=e,this.Nr=new Mi(r=>Se(r),Qe),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $a,this.targetCount=0,this.kr=da.Bn()}forEachTarget(e,r){return this.Nr.forEach((s,u)=>r(u)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Lr&&(this.Lr=r),_e.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new da(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,_e.resolve()}updateTargetData(e,r){return this.Kn(r),_e.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,r,s){let u=0;const h=[];return this.Nr.forEach((g,A)=>{A.sequenceNumber<=r&&null===s.get(A.targetId)&&(this.Nr.delete(g),h.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),_e.waitFor(h).next(()=>u)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,r){const s=this.Nr.get(r)||null;return _e.resolve(s)}addMatchingKeys(e,r,s){return this.Br.Rr(r,s),_e.resolve()}removeMatchingKeys(e,r,s){this.Br.mr(r,s);const u=this.persistence.referenceDelegate,h=[];return u&&r.forEach(g=>{h.push(u.markPotentiallyOrphaned(e,g))}),_e.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),_e.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Br.yr(r);return _e.resolve(s)}containsKey(e,r){return _e.resolve(this.Br.containsKey(r))}}class Yh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new kt(0),this.Kr=!1,this.Kr=!0,this.$r=new Xh,this.referenceDelegate=e(this),this.Ur=new Rm(this),this.indexManager=new bm,this.remoteDocumentCache=new xp(s=>this.referenceDelegate.Wr(s)),this.serializer=new Q(r),this.Gr=new Lu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new fu,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.qr[e.toKey()];return s||(s=new Sm(r,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,s){be("MemoryPersistence","Starting transaction:",e);const u=new Pm(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(h=>this.referenceDelegate.jr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Hr(e,r){return _e.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,r)))}}class Pm extends tn{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Jr=new $a,this.Yr=null}static Zr(e){return new wd(e)}get Xr(){if(this.Yr)return this.Yr;throw St()}addReference(e,r,s){return this.Jr.addReference(s,r),this.Xr.delete(s.toString()),_e.resolve()}removeReference(e,r,s){return this.Jr.removeReference(s,r),this.Xr.add(s.toString()),_e.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),_e.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(h=>this.Xr.add(h.toString()))}).next(()=>s.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Xr,s=>{const u=It.fromPath(s);return this.ei(e,u).next(h=>{h||r.removeEntry(u,At.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(s=>{s?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return _e.or([()=>_e.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class fo{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.$i=s,this.Ui=u}static Wi(e,r){let s=Un(),u=Un();for(const h of r.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new fo(e,r.fromCache,s,u)}}class Uu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bd{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,he.nr)()?8:function ys(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,he.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,s,u){const h={result:null};return this.Yi(e,r).next(g=>{h.result=g}).next(()=>{if(!h.result)return this.Zi(e,r,u,s).next(g=>{h.result=g})}).next(()=>{if(h.result)return;const g=new Uu;return this.Xi(e,r,g).next(A=>{if(h.result=A,this.zi)return this.es(e,r,g,A.size)})}).next(()=>h.result)}es(e,r,s,u){return s.documentReadCount<this.ji?(ni()<=et.$b.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",As(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),_e.resolve()):(ni()<=et.$b.DEBUG&&be("QueryEngine","Query:",As(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(ni()<=et.$b.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",As(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(r))):_e.resolve())}Yi(e,r){if(si(r))return _e.resolve(null);let s=Kn(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Yr(r,null,"F"),s=Kn(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const g=Un(...h);return this.Ji.getDocuments(e,g).next(A=>this.indexManager.getMinOffset(e,s).next(R=>{const L=this.ts(r,A);return this.ns(r,L,g,R.readTime)?this.Yi(e,Yr(r,null,"F")):this.rs(e,L,r,R)}))})))}Zi(e,r,s,u){return si(r)||u.isEqual(At.min())?_e.resolve(null):this.Ji.getDocuments(e,s).next(h=>{const g=this.ts(r,h);return this.ns(r,g,s,u)?_e.resolve(null):(ni()<=et.$b.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),As(r)),this.rs(e,g,r,function _s(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=At.fromTimestamp(1e9===s?new $n(r+1,0):new $n(r,s));return new or(u,It.empty(),e)}(u,-1)).next(A=>A))})}ts(e,r){let s=new Mn(function Ea(a){return(e,r)=>{let s=!1;for(const u of Ti(a)){const h=Za(u,e,r);if(0!==h)return h;s=s||u.field.isKeyField()}return 0}}(e));return r.forEach((u,h)=>{hs(e,h)&&(s=s.add(h))}),s}ns(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const h="F"===e.limitType?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Xi(e,r,s){return ni()<=et.$b.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",As(r)),this.Ji.getDocumentsMatchingQuery(e,r,or.min(),s)}rs(e,r,s,u){return this.Ji.getDocumentsMatchingQuery(e,s,u).next(h=>(r.forEach(g=>{h=h.insert(g.key,g)}),h))}}class dl{constructor(e,r,s,u){this.persistence=e,this.ss=r,this.serializer=u,this.os=new rr(at),this._s=new Mi(h=>Se(h),Qe),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function hl(a,e){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,de.A)(function*(a,e){const r=le(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,r.ls(e),r.mutationQueue.getAllMutationBatches(s))).next(h=>{const g=[],A=[];let R=Un();for(const L of u){g.push(L.batchId);for(const X of L.mutations)R=R.add(X.key)}for(const L of h){A.push(L.batchId);for(const X of L.mutations)R=R.add(X.key)}return r.localDocuments.getDocuments(s,R).next(L=>({hs:L,removedBatchIds:g,addedBatchIds:A}))})})})).apply(this,arguments)}function gu(a,e){const r=le(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}class Nc{constructor(){this.activeTargetIds=function _(){return z}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ml{constructor(){this.so=new Nc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,s){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Nc,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hu{_o(e){}shutdown(){}}class zu{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _l=null;function tf(){return null===_l?_l=268435456+Math.round(2147483648*Math.random()):_l++,"0x"+_l.toString(16)}const nf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lp{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const po="WebChannelConnection";class Mm extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+r.host,this.vo=`projects/${u}/databases/${h}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${h}`}get Fo(){return!1}Mo(r,s,u,h,g){const A=tf(),R=this.xo(r,s.toUriEncodedString());be("RestConnection",`Sending RPC '${r}' ${A}:`,R,u);const L={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(L,h,g),this.No(r,R,L,u).then(X=>(be("RestConnection",`Received RPC '${r}' ${A}: `,X),X),X=>{throw wt("RestConnection",`RPC '${r}' ${A} failed with error: `,X,"url: ",R,"request:",u),X})}Lo(r,s,u,h,g,A){return this.Mo(r,s,u,h,g)}Oo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Zt,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((h,g)=>r[g]=h),u&&u.headers.forEach((h,g)=>r[g]=h)}xo(r,s){return`${this.Do}/v1/${s}:${nf[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,s,u){const h=tf();return new Promise((g,A)=>{const R=new ln;R.setWithCredentials(!0),R.listenOnce(mr.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case rt.NO_ERROR:const X=R.getResponseJson();be(po,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(X)),g(X);break;case rt.TIMEOUT:be(po,`RPC '${e}' ${h} timed out`),A(new ee(Y.DEADLINE_EXCEEDED,"Request time out"));break;case rt.HTTP_ERROR:const re=R.getStatus();if(be(po,`RPC '${e}' ${h} failed with status:`,re,"response text:",R.getResponseText()),re>0){let ye=R.getResponseJson();Array.isArray(ye)&&(ye=ye[0]);const ze=ye?.error;if(ze&&ze.status&&ze.message){const lt=function(Et){const un=Et.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(un)>=0?un:Y.UNKNOWN}(ze.status);A(new ee(lt,ze.message))}else A(new ee(Y.UNKNOWN,"Server responded with status "+R.getStatus()))}else A(new ee(Y.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{be(po,`RPC '${e}' ${h} completed.`)}});const L=JSON.stringify(u);be(po,`RPC '${e}' ${h} sending request:`,u),R.send(r,"POST",L,s,15)})}Bo(e,r,s){const u=tf(),h=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=Ut(),A=xt(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},L=this.longPollingOptions.timeoutSeconds;void 0!==L&&(R.longPollingTimeout=Math.round(1e3*L)),this.useFetchStreams&&(R.useFetchStreams=!0),this.Oo(R.initMessageHeaders,r,s),R.encodeInitMessageHeaders=!0;const X=h.join("");be(po,`Creating RPC '${e}' stream ${u}: ${X}`,R);const re=g.createWebChannel(X,R);let ye=!1,ze=!1;const lt=new Lp({Io:Et=>{ze?be(po,`Not sending because RPC '${e}' stream ${u} is closed:`,Et):(ye||(be(po,`Opening RPC '${e}' stream ${u} transport.`),re.open(),ye=!0),be(po,`RPC '${e}' stream ${u} sending:`,Et),re.send(Et))},To:()=>re.close()}),Ct=(Et,un,An)=>{Et.listen(un,hn=>{try{An(hn)}catch(er){setTimeout(()=>{throw er},0)}})};return Ct(re,qn.EventType.OPEN,()=>{ze||(be(po,`RPC '${e}' stream ${u} transport opened.`),lt.yo())}),Ct(re,qn.EventType.CLOSE,()=>{ze||(ze=!0,be(po,`RPC '${e}' stream ${u} transport closed`),lt.So())}),Ct(re,qn.EventType.ERROR,Et=>{ze||(ze=!0,wt(po,`RPC '${e}' stream ${u} transport errored:`,Et),lt.So(new ee(Y.UNAVAILABLE,"The operation could not be completed")))}),Ct(re,qn.EventType.MESSAGE,Et=>{var un;if(!ze){const An=Et.data[0];Ot(!!An);const er=An.error||(null===(un=An[0])||void 0===un?void 0:un.error);if(er){be(po,`RPC '${e}' stream ${u} received error:`,er);const ti=er.status;let gr=function(we){const Oe=Rn[we];if(void 0!==Oe)return function ei(a){if(void 0===a)return qt("GRPC error has no .code"),Y.UNKNOWN;switch(a){case Rn.OK:return Y.OK;case Rn.CANCELLED:return Y.CANCELLED;case Rn.UNKNOWN:return Y.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return Y.INTERNAL;case Rn.UNAVAILABLE:return Y.UNAVAILABLE;case Rn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Rn.NOT_FOUND:return Y.NOT_FOUND;case Rn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Rn.ABORTED:return Y.ABORTED;case Rn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Rn.DATA_LOSS:return Y.DATA_LOSS;default:return St()}}(Oe)}(ti),Ne=er.message;void 0===gr&&(gr=Y.INTERNAL,Ne="Unknown error status: "+ti+" with message "+er.message),ze=!0,lt.So(new ee(gr,Ne)),re.close()}else be(po,`RPC '${e}' stream ${u} received:`,An),lt.bo(An)}}),Ct(A,it.STAT_EVENT,Et=>{Et.stat===pt.PROXY?be(po,`RPC '${e}' stream ${u} detected buffering proxy`):Et.stat===pt.NOPROXY&&be(po,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{lt.wo()},0),lt}}function Nd(){return typeof document<"u"?document:null}function _u(a){return new Gh(a,!0)}class Od{constructor(e,r,s=1e3,u=1.5,h=6e4){this.ui=e,this.timerId=r,this.ko=s,this.qo=u,this.Qo=h,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-s);u>0&&be("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Up{constructor(e,r,s,u,h,g,A,R){this.ui=e,this.Ho=s,this.Jo=u,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=A,this.listener=R,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Od(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,de.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,de.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var s=this;return(0,de.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==e?s.t_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(qt(r.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):r&&r.code===Y.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===r&&this.P_(s,u)},s=>{e(()=>{const u=new ee(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(e,r){const s=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var e=this;this.state=5,this.t_.Go((0,de.A)(function*(){e.state=0,e.start()}))}I_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nm extends Up{constructor(e,r,s,u,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,g),this.serializer=h}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,Ot(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function zs(a,e){return a&&a.length>0?(Ot(void 0!==e),a.map(r=>function(u,h){let g=Ni(u.updateTime?u.updateTime:h);return g.isEqual(At.min())&&(g=Ni(h)),new Bt(g,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.g_(s,r)}p_(){const e={};e.database=function fc(a){return new Lt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>function Ho(a,e){let r;if(e instanceof _i)r={update:Ir(a,e.key,e.value)};else if(e instanceof Jt)r={delete:ru(a,e.key)};else if(e instanceof hi)r={update:Ir(a,e.key,e.data),updateMask:y(e.fieldMask)};else{if(!(e instanceof En))return St();r={verify:ru(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(h,g){const A=g.transform;if(A instanceof Ze)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Nt)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof w)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof P)return{fieldPath:g.field.canonicalString(),increment:A.Pe};throw St()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:ol(a,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:St()),r;var h}(this.serializer,s))};this.a_(r)}}class jp extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new ee(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Mo(e,dc(r,s),u,h,g)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ee(Y.UNKNOWN,h.toString())})}Lo(e,r,s,u,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,A])=>this.connection.Lo(e,dc(r,s),u,g,A,h)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new ee(Y.UNKNOWN,g.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class gy{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qt(r),this.D_=!1):be("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Om{constructor(e,r,s,u,h){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=h,this.k_._o(A=>{s.enqueueAndForget((0,de.A)(function*(){var R;yu(g)&&(be("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,de.A)(function*(X){const re=le(X);re.L_.add(4),yield vl(re),re.q_.set("Unknown"),re.L_.delete(4),yield Oc(re)}),function L(X){return R.apply(this,arguments)})(g))}))}),this.q_=new gy(s,u)}}function Oc(a){return yl.apply(this,arguments)}function yl(){return(yl=(0,de.A)(function*(a){if(yu(a))for(const e of a.B_)yield e(!0)})).apply(this,arguments)}function vl(a){return $p.apply(this,arguments)}function $p(){return($p=(0,de.A)(function*(a){for(const e of a.B_)yield e(!1)})).apply(this,arguments)}function yu(a){return 0===le(a).L_.size}function Gu(a,e,r){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,de.A)(function*(a,e,r){if(!W(e))throw e;a.L_.add(1),yield vl(a),a.q_.set("Offline"),r||(r=()=>function kp(a){const e=le(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}(a.localStore)),a.asyncQueue.enqueueRetryable((0,de.A)(function*(){be("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield Oc(a)}))})).apply(this,arguments)}function Kp(a,e){return e().catch(r=>Gu(a,r,e))}function Vc(a){return rf.apply(this,arguments)}function rf(){return(rf=(0,de.A)(function*(a){const e=le(a),r=Ha(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Qp(e);)try{const u=yield gu(e.localStore,s);if(null===u){0===e.O_.length&&r.o_();break}s=u.batchId,sf(e,u)}catch(u){yield Gu(e,u)}Xp(e)&&Yp(e)})).apply(this,arguments)}function Qp(a){return yu(a)&&a.O_.length<10}function sf(a,e){a.O_.push(e);const r=Ha(a);r.r_()&&r.V_&&r.m_(e.mutations)}function Xp(a){return yu(a)&&!Ha(a).n_()&&a.O_.length>0}function Yp(a){Ha(a).start()}function km(a){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,de.A)(function*(a){Ha(a).p_()})).apply(this,arguments)}function Fm(a){return af.apply(this,arguments)}function af(){return(af=(0,de.A)(function*(a){const e=Ha(a);for(const r of a.O_)e.m_(r.mutations)})).apply(this,arguments)}function Ao(a,e,r){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,de.A)(function*(a,e,r){const s=a.O_.shift(),u=Li.from(s,e,r);yield Kp(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield Vc(a)})).apply(this,arguments)}function Zp(a,e){return wl.apply(this,arguments)}function wl(){return wl=(0,de.A)(function*(a,e){var r;e&&Ha(a).V_&&(yield(r=(0,de.A)(function*(u,h){if(function Cu(a){switch(a){default:return St();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}(A=h.code)&&A!==Y.ABORTED){const g=u.O_.shift();Ha(u).s_(),yield Kp(u,()=>u.remoteSyncer.rejectFailedWrite(g.batchId,h)),yield Vc(u)}var A}),function s(u,h){return r.apply(this,arguments)})(a,e)),Xp(a)&&Yp(a)}),wl.apply(this,arguments)}function qs(a,e){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,de.A)(function*(a,e){const r=le(a);r.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const s=yu(r);r.L_.add(3),yield vl(r),s&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield Oc(r)})).apply(this,arguments)}function Al(a,e){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,de.A)(function*(a,e){const r=le(a);e?(r.L_.delete(2),yield Oc(r)):e||(r.L_.add(2),yield vl(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Ha(a){return a.U_||(a.U_=function(r,s,u){const h=le(r);return h.w_(),new Nm(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:km.bind(null,a),mo:Zp.bind(null,a),f_:Fm.bind(null,a),g_:Ao.bind(null,a)}),a.B_.push(function(){var e=(0,de.A)(function*(r){r?(a.U_.s_(),yield Vc(a)):(yield a.U_.stop(),a.O_.length>0&&(be("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return e.apply(this,arguments)}}())),a.U_}class uf{constructor(e,r,s,u,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Ce,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,h){const g=Date.now()+s,A=new uf(e,r,g,u,h);return A.start(s),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ee(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E(a,e){if(qt("AsyncQueue",`${e}: ${a}`),W(a))return new ee(Y.UNAVAILABLE,`${e}: ${a}`);throw a}class Z{constructor(){this.queries=Ae(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,s){const u=le(r),h=u.queries;u.queries=Ae(),h.forEach((g,A)=>{for(const R of A.j_)R.onError(s)})}(this,new ee(Y.ABORTED,"Firestore shutting down"))}}function Ae(){return new Mi(a=>Rs(a),$s)}var bo,fa;(fa=bo||(bo={})).ea="default",fa.Cache="cache";class Cl{constructor(e,r,s,u,h,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.Ca={},this.Fa=new Mi(A=>Rs(A),$s),this.Ma=new Map,this.xa=new Set,this.Oa=new rr(It.comparator),this.Na=new Map,this.La=new $a,this.Ba={},this.ka=new Map,this.qa=da.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function hf(){return(hf=(0,de.A)(function*(a,e,r){const s=function Ga(a){const e=le(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ig.bind(null,e),e}(a);try{const u=yield function(g,A){const R=le(g),L=$n.now(),X=A.reduce((ze,lt)=>ze.add(lt.key),Un());let re,ye;return R.persistence.runTransaction("Locally write mutations","readwrite",ze=>{let lt=ts(),Ct=Un();return R.cs.getEntries(ze,X).next(Et=>{lt=Et,lt.forEach((un,An)=>{An.isValidDocument()||(Ct=Ct.add(un))})}).next(()=>R.localDocuments.getOverlayedDocuments(ze,lt)).next(Et=>{re=Et;const un=[];for(const An of A){const hn=Br(An,re.get(An.key).overlayedDocument);null!=hn&&un.push(new hi(An.key,hn,ws(hn.value.mapValue),Xt.exists(!0)))}return R.mutationQueue.addMutationBatch(ze,L,un,A)}).next(Et=>{ye=Et;const un=Et.applyToLocalDocumentSet(re,Ct);return R.documentOverlayCache.saveOverlays(ze,Et.batchId,un)})}).then(()=>({batchId:ye.batchId,changes:Hs(re)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(g,A,R){let L=g.Ba[g.currentUser.toKey()];L||(L=new rr(at)),L=L.insert(A,R),g.Ba[g.currentUser.toKey()]=L}(s,u.batchId,r),yield za(s,u.changes),yield Vc(s.remoteStore)}catch(u){const h=E(u,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function pf(a,e,r){const s=le(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.Fa.forEach((h,g)=>{const A=g.view.Z_(e);A.snapshot&&u.push(A.snapshot)}),function(g,A){const R=le(g);R.onlineState=A;let L=!1;R.queries.forEach((X,re)=>{for(const ye of re.j_)ye.Z_(A)&&(L=!0)}),L&&function Do(a){a.Y_.forEach(e=>{e.next()})}(R)}(s.eventManager,e),u.length&&s.Ca.d_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Gd(a,e){return gf.apply(this,arguments)}function gf(){return(gf=(0,de.A)(function*(a,e){const r=le(a),s=e.batch.batchId;try{const u=yield function Sd(a,e){const r=le(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=r.cs.newChangeBuffer({trackRemovals:!0});return function(A,R,L,X){const re=L.batch,ye=re.keys();let ze=_e.resolve();return ye.forEach(lt=>{ze=ze.next(()=>X.getEntry(R,lt)).next(Ct=>{const Et=L.docVersions.get(lt);Ot(null!==Et),Ct.version.compareTo(Et)<0&&(re.applyToRemoteDocument(Ct,L),Ct.isValidDocument()&&(Ct.setReadTime(L.commitVersion),X.addEntry(Ct)))})}),ze.next(()=>A.mutationQueue.removeMutationBatch(R,re))}(r,s,e,h).next(()=>h.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(A){let R=Un();for(let L=0;L<A.mutationResults.length;++L)A.mutationResults[L].transformResults.length>0&&(R=R.add(A.batch.mutations[L].key));return R}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);sg(r,s,null),Bc(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield za(r,u)}catch(u){yield vi(u)}})).apply(this,arguments)}function ig(a,e,r){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,de.A)(function*(a,e,r){const s=le(a);try{const u=yield function(g,A){const R=le(g);return R.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let X;return R.mutationQueue.lookupMutationBatch(L,A).next(re=>(Ot(null!==re),X=re.keys(),R.mutationQueue.removeMutationBatch(L,re))).next(()=>R.mutationQueue.performConsistencyCheck(L)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(L,X,A)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,X)).next(()=>R.localDocuments.getDocuments(L,X))})}(s.localStore,e);sg(s,e,r),Bc(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield za(s,u)}catch(u){yield vi(u)}})).apply(this,arguments)}function Bc(a,e){(a.ka.get(e)||[]).forEach(r=>{r.resolve()}),a.ka.delete(e)}function sg(a,e,r){const s=le(a);let u=s.Ba[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(r?h.reject(r):h.resolve(),u=u.remove(e)),s.Ba[s.currentUser.toKey()]=u}}function za(a,e,r){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,de.A)(function*(a,e,r){const s=le(a),u=[],h=[],g=[];var A;s.Fa.isEmpty()||(s.Fa.forEach((A,R)=>{g.push(s.Ka(R,e,r).then(L=>{var X;if((L||r)&&s.isPrimaryClient){const re=L?!L.fromCache:null===(X=r?.targetChanges.get(R.targetId))||void 0===X?void 0:X.current;s.sharedClientState.updateQueryState(R.targetId,re?"current":"not-current")}if(L){u.push(L);const re=fo.Wi(R.targetId,L);h.push(re)}}))}),yield Promise.all(g),s.Ca.d_(u),yield(A=(0,de.A)(function*(L,X){const re=le(L);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",ye=>_e.forEach(X,ze=>_e.forEach(ze.$i,lt=>re.persistence.referenceDelegate.addReference(ye,ze.targetId,lt)).next(()=>_e.forEach(ze.Ui,lt=>re.persistence.referenceDelegate.removeReference(ye,ze.targetId,lt)))))}catch(ye){if(!W(ye))throw ye;be("LocalStore","Failed to update sequence numbers: "+ye)}for(const ye of X){const ze=ye.targetId;if(!ye.fromCache){const lt=re.os.get(ze),Et=lt.withLastLimboFreeSnapshotVersion(lt.snapshotVersion);re.os=re.os.insert(ze,Et)}}}),function R(L,X){return A.apply(this,arguments)})(s.localStore,h))}),Nl.apply(this,arguments)}function ag(a,e){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,de.A)(function*(a,e){const r=le(a);if(!r.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const s=yield hl(r.localStore,e);r.currentUser=e,(h=r).ka.forEach(A=>{A.forEach(R=>{R.reject(new ee(Y.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.ka.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield za(r,s.hs)}var h})).apply(this,arguments)}let Ol=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var s=this;return(0,de.A)(function*(){s.serializer=_u(r.databaseInfo.databaseId),s.sharedClientState=s.Wa(r),s.persistence=s.Ga(r),yield s.persistence.start(),s.localStore=s.za(r),s.gcScheduler=s.ja(r,s.localStore),s.indexBackfillerScheduler=s.Ha(r,s.localStore)})()}ja(r,s){return null}Ha(r,s){return null}za(r){return function pu(a,e,r,s){return new dl(a,e,r,s)}(this.persistence,new bd,r.initialUser,this.serializer)}Ga(r){return new Yh(wd.Zr,this.serializer)}Wa(r){return new ml}terminate(){var r=this;return(0,de.A)(function*(){var s,u;null===(s=r.gcScheduler)||void 0===s||s.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})(),Xd=(()=>{class a{initialize(r,s){var u=this;return(0,de.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=h=>pf(u.syncEngine,h,1),u.remoteStore.remoteSyncer.handleCredentialChange=ag.bind(null,u.syncEngine),yield Al(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new Z}createDatastore(r){const s=_u(r.databaseInfo.databaseId),u=new Mm(r.databaseInfo);return new jp(r.authCredentials,r.appCheckCredentials,u,s)}createRemoteStore(r){return u=this.localStore,h=this.datastore,g=r.asyncQueue,A=s=>pf(this.syncEngine,s,0),R=zu.D()?new zu:new Hu,new Om(u,h,g,A,R);var u,h,g,A,R}createSyncEngine(r,s){return function(h,g,A,R,L,X,re){const ye=new Cl(h,g,A,R,L,X);return re&&(ye.Qa=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,s)}terminate(){var r=this;return(0,de.A)(function*(){var s,u,h;yield(h=(0,de.A)(function*(A){const R=le(A);be("RemoteStore","RemoteStore shutting down."),R.L_.add(5),yield vl(R),R.k_.shutdown(),R.q_.set("Unknown")}),function g(A){return h.apply(this,arguments)})(r.remoteStore),null===(s=r.datastore)||void 0===s||s.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return a.provider={build:()=>new a},a})();class Py{constructor(e,r,s,u,h){var g=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=ot.UNAUTHENTICATED,this.clientId=_r.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,function(){var A=(0,de.A)(function*(R){be("FirestoreClient","Received user=",R.uid),yield g.authCredentialListener(R),g.user=R});return function(R){return A.apply(this,arguments)}}()),this.appCheckCredentials.start(s,A=>(be("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ce;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=E(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Zd(a,e){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,de.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,de.A)(function*(h){s.isEqual(h)||(yield hl(e.localStore,h),s=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Ma.apply(this,arguments)}function xl(a,e){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,de.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield function If(a){return Tf.apply(this,arguments)}(a);be("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>qs(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>qs(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function Tf(){return(Tf=(0,de.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zd(a,a._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(u=e).name?u.code===Y.FAILED_PRECONDITION||u.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw e;wt("Error using user provided cache. Falling back to memory cache: "+e),yield Zd(a,new Ol)}}else be("FirestoreClient","Using default OfflineComponentProvider"),yield Zd(a,new Ol);var u;return a._offlineComponents})).apply(this,arguments)}function zm(){return(zm=(0,de.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),yield xl(a,a._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),yield xl(a,new Xd))),a._onlineComponents})).apply(this,arguments)}function Gm(a){return function hg(a){return zm.apply(this,arguments)}(a).then(e=>e.syncEngine)}function Km(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Qm=new Map;function yg(a){if(!It.isDocumentKey(a))throw new ee(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function vg(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(s=a).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof a?"a function":St()}function pr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ee(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vg(a);throw new ee(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}class Eg{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ee(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ee(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Uy(a,e,r,s){if(!0===e&&!0===s)throw new ee(Y.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Km(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new ee(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ee(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ee(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ll{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ee(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eg(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new ut;switch(s.type){case"firstParty":return new Yn(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ee(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,de.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Qm.get(r);s&&(be("ComponentProvider","Removing Datastore"),Qm.delete(r),s.terminate())}(this),Promise.resolve()}}class Ks{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class gs{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gs(this.firestore,e,this._key)}}class Na extends Ks{constructor(e,r,s){super(e,r,function Ur(a){return new xn(a)}(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gs(this.firestore,null,new It(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function $y(a,e,...r){if(a=(0,he.Ku)(a),1===arguments.length&&(e=_r.newId()),function _g(a,e,r){if(!r)throw new ee(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}("doc","path",e),a instanceof Ll){const s=Lt.fromString(e,...r);return yg(s),new gs(a,null,new It(s))}{if(!(a instanceof gs||a instanceof Na))throw new ee(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Lt.fromString(e,...r));return yg(s),new gs(a.firestore,a instanceof Na?a.converter:null,new It(s))}}class Df{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Od(this,"async_queue_retry"),this.Vu=()=>{const s=Nd();s&&be("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const r=Nd();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Nd();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ce;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,de.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!W(r))throw r;be("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(s=>{throw this.Eu=s,this.du=!1,qt("INTERNAL UNHANDLED ERROR: ",function(g){let A=g.message||"";return g.stack&&(A=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),A}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=r,r}enqueueAfterDelay(e,r,s){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const u=uf.createAndSchedule(this,e,r,s,h=>this.yu(h));return this.Tu.push(u),u}fu(){this.Eu&&St()}verifyOperationInProgress(){}wu(){var e=this;return(0,de.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class Ai extends Ll{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new Df,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,de.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new Df(r),e._firestoreClient=void 0,yield r}})()}}function Sf(a,e){const r="object"==typeof a?a:(0,Ve.Sx)(),s="string"==typeof a?a:e||"(default)",u=(0,Ve.j6)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=(0,he.yU)("firestore");h&&function Ig(a,e,r,s={}){var u;const h=(a=pr(a,Ll))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==h.host&&h.host!==g&&wt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),s.mockUserToken){let A,R;if("string"==typeof s.mockUserToken)A=s.mockUserToken,R=ot.MOCK_USER;else{A=(0,he.Fy)(s.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new ee(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new ot(L)}a._authCredentials=new yt(new Be(A,R))}}(u,...h)}return u}function Xi(a){if(a._terminated)throw new ee(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||function Cf(a){var e,r,s;const u=a._freezeSettings(),h=(R=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new oo(a._databaseId,R,a._persistenceKey,(X=u).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,Km(X.experimentalLongPollingOptions),X.useFetchStreams));var R,X;a._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new Py(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(A){const R=A?._online.build();return{_offline:A?._offline.build(R),_online:R}}(a._componentsProvider))}(a),a._firestoreClient}class zc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zc(Ar.fromBase64String(e))}catch(r){throw new ee(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new zc(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ju{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ee(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eh{constructor(e){this._methodName=e}}class Ag{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ee(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ee(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}class Pf{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}const zy=/^__.*__$/;class $E{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new hi(e,this.data,this.fieldMask,r,this.fieldTransforms):new _i(e,this.data,r,this.fieldTransforms)}}class Gy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new hi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function th(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class Mf{constructor(e,r,s,u,h,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===h&&this.vu(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:s,xu:!1});return u.Ou(e),u}Nu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return sh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(th(this.Cu)&&zy.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Dg{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||_u(e)}Qu(e,r,s,u=!1){return new Mf({Cu:e,methodName:r,qu:s,path:Hn.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}class Gc extends eh{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gc}}function wu(a,e){if(n_(a=(0,he.Ku)(a)))return Of("Unsupported field value:",e,a),jl(a,e);if(a instanceof eh)return function(s,u){if(!th(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(s,u){const h=[];let g=0;for(const A of s){let R=wu(A,u.Lu(g));null==R&&(R={nullValue:"NULL_VALUE"}),h.push(R),g++}return{arrayValue:{values:h}}}(a,e)}return function(s,u){if(null===(s=(0,he.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return G(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const h=$n.fromDate(s);return{timestampValue:Ta(u.serializer,h)}}if(s instanceof $n){const h=new $n(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ta(u.serializer,h)}}if(s instanceof Ag)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zc)return{bytesValue:sl(u.serializer,s._byteString)};if(s instanceof gs){const h=u.databaseId,g=s.firestore._databaseId;if(!g.isEqual(h))throw u.Bu(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:lc(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Pf)return A=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(R=>{if("number"!=typeof R)throw A.Bu("VectorValues must only contain numeric values.");return T(A.serializer,R)})}}}}};var A;throw u.Bu(`Unsupported field value: ${vg(s)}`)}(a,e)}function jl(a,e){const r={};return io(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(a,(s,u)=>{const h=wu(u,e.Mu(s));null!=h&&(r[s]=h)}),{mapValue:{fields:r}}}function n_(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof $n||a instanceof Ag||a instanceof zc||a instanceof gs||a instanceof eh||a instanceof Pf)}function Of(a,e,r){if(!n_(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=vg(r);throw e.Bu("an object"===s?a+" a custom object":a+" "+s)}var u}function ih(a,e,r){if((e=(0,he.Ku)(e))instanceof Ju)return e._internalPath;if("string"==typeof e)return $l(a,e);throw sh("Field path arguments must be of type string or ",a,!1,void 0,r)}const qy=new RegExp("[~\\*/\\[\\]]");function $l(a,e,r){if(e.search(qy)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Ju(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function sh(a,e,r,s,u){const h=s&&!s.isEmpty(),g=void 0!==u;let A=`Function ${e}() called with invalid data`;r&&(A+=" (via `toFirestore()`)"),A+=". ";let R="";return(h||g)&&(R+=" (found",h&&(R+=` in field ${s}`),g&&(R+=` in document ${u}`),R+=")"),new ee(Y.INVALID_ARGUMENT,A+a+R)}function r_(a,e){return a.some(r=>r.isEqual(e))}class uv{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=function Iu(a){const e=a._freezeSettings(),r=_u(a._databaseId);return new Dg(a._databaseId,!!e.ignoreUndefinedProperties,r)}(e)}set(e,r,s){this._verifyNotCommitted();const u=nc(e,this._firestore),h=function dh(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}(u.converter,r,s),g=function Tu(a,e,r,s,u,h={}){const g=a.Qu(h.merge||h.mergeFields?2:0,e,r,u);Of("Data must be an object, but it was:",g,s);const A=jl(s,g);let R,L;if(h.merge)R=new Ri(g.fieldMask),L=g.fieldTransforms;else if(h.mergeFields){const X=[];for(const re of h.mergeFields){const ye=ih(e,re,r);if(!g.contains(ye))throw new ee(Y.INVALID_ARGUMENT,`Field '${ye}' is specified in your field mask but missing from your input data.`);r_(X,ye)||X.push(ye)}R=new Ri(X),L=g.fieldTransforms.filter(re=>R.covers(re.field))}else R=null,L=g.fieldTransforms;return new $E(new Yt(A),R,L)}(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,s);return this._mutations.push(g.toMutation(u._key,Xt.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const h=nc(e,this._firestore);let g;return g="string"==typeof(r=(0,he.Ku)(r))||r instanceof Ju?function Bl(a,e,r,s,u,h){const g=a.Qu(1,e,r),A=[ih(e,s,r)],R=[u];if(h.length%2!=0)throw new ee(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ye=0;ye<h.length;ye+=2)A.push(ih(e,h[ye])),R.push(h[ye+1]);const L=[],X=Yt.empty();for(let ye=A.length-1;ye>=0;--ye)if(!r_(L,A[ye])){const ze=A[ye];let lt=R[ye];lt=(0,he.Ku)(lt);const Ct=g.Nu(ze);if(lt instanceof Gc)L.push(ze);else{const Et=wu(lt,Ct);null!=Et&&(L.push(ze),X.set(ze,Et))}}const re=new Ri(L);return new Gy(X,re,g.fieldTransforms)}(this._dataReader,"WriteBatch.update",h._key,r,s,u):function rh(a,e,r,s){const u=a.Qu(1,e,r);Of("Data must be an object, but it was:",u,s);const h=[],g=Yt.empty();Fi(s,(R,L)=>{const X=$l(e,R,r);L=(0,he.Ku)(L);const re=u.Nu(X);if(L instanceof Gc)h.push(X);else{const ye=wu(L,re);null!=ye&&(h.push(X),g.set(X,ye))}});const A=new Ri(h);return new Gy(g,A,u.fieldTransforms)}(this._dataReader,"WriteBatch.update",h._key,r),this._mutations.push(g.toMutation(h._key,Xt.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=nc(e,this._firestore);return this._mutations=this._mutations.concat(new Jt(r._key,Xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nc(a,e){if((a=(0,he.Ku)(a)).firestore!==e)throw new ee(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}function hv(a){return Xi(a=pr(a,Ai)),new uv(a,e=>function ph(a,e){return function(s,u){const h=new Ce;return s.asyncQueue.enqueueAndForget((0,de.A)(function*(){return function _y(a,e,r){return hf.apply(this,arguments)}(yield Gm(s),u,h)})),h.promise}(Xi(a),e)}(a,e))}!function(e,r=!0){Zt=Ve.MF,(0,Ve.om)(new Rt.uA("firestore",(s,{instanceIdentifier:u,options:h})=>{const g=s.getProvider("app").getImmediate(),A=new Ai(new On(s.getProvider("auth-internal")),new Bi(s.getProvider("app-check-internal")),function(L,X){if(!Object.prototype.hasOwnProperty.apply(L.options,["projectId"]))throw new ee(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ts(L.options.projectId,X)}(g,u),g);return h=Object.assign({useFetchStreams:r},h),A._setSettings(h),A},"PUBLIC").setMultipleInstances(!0)),(0,Ve.KO)(bt,"4.7.3",e),(0,Ve.KO)(bt,"4.7.3","esm2017")}();class mh{constructor(e){return e}}const Fg="firestore",Hf=new Ie.nKC("angularfire2.firestore-instances");function f_(a){return(e,r)=>{const s=e.runOutsideAngular(()=>a(r));return new mh(s)}}const gv={provide:class sr{constructor(){return(0,N.CA)(Fg)}},deps:[[new Ie.Xx1,Hf]]},zf={provide:mh,useFactory:function Wl(a,e){const r=(0,N.lR)(Fg,a,e);return r&&new mh(r)},deps:[[new Ie.Xx1,Hf],Pe.XU]};let ql=(()=>{class a{constructor(){(0,se.KO)("angularfire",N.xv.full,"fst")}static \u0275fac=function(s){return new(s||a)};static \u0275mod=Ie.$C({type:a});static \u0275inj=Ie.G2t({providers:[zf,gv]})}return a})();function Lg(a,...e){return{ngModule:ql,providers:[{provide:Hf,useFactory:f_(a),multi:!0,deps:[Ie.SKi,Ie.zZn,N.u0,Pe.gL,[new Ie.Xx1,Ke.DF],[new Ie.Xx1,N.Jv],...e]}]}}const v_=(0,N.S3)($y,!0),Wf=(0,N.S3)(Sf,!0),Lv=(0,N.S3)(hv,!0)},2107:(_n,dt,ne)=>{ne.d(dt,{wc:()=>Or,qk:()=>Sn,c7:()=>co,Xm:()=>Hi,KR:()=>ds,D:()=>mi});var N=ne(3586),Ie=ne(540),Pe=ne(7440),Ke=ne(4665),se=ne(2214),de=ne(467),Ve=ne(7852),Rt=ne(1076),et=ne(1362);const he="firebasestorage.googleapis.com",Ee="storageBucket";class vt extends Rt.g{constructor($,ae,ce=0){super(ln($),`Firebase Storage: ${ae} (${ln($)})`),this.status_=ce,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status($){this.status_=$}_codeEquals($){return ln($)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse($){this.customData.serverResponse=$,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ht=function(B){return B.UNKNOWN="unknown",B.OBJECT_NOT_FOUND="object-not-found",B.BUCKET_NOT_FOUND="bucket-not-found",B.PROJECT_NOT_FOUND="project-not-found",B.QUOTA_EXCEEDED="quota-exceeded",B.UNAUTHENTICATED="unauthenticated",B.UNAUTHORIZED="unauthorized",B.UNAUTHORIZED_APP="unauthorized-app",B.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",B.INVALID_CHECKSUM="invalid-checksum",B.CANCELED="canceled",B.INVALID_EVENT_NAME="invalid-event-name",B.INVALID_URL="invalid-url",B.INVALID_DEFAULT_BUCKET="invalid-default-bucket",B.NO_DEFAULT_BUCKET="no-default-bucket",B.CANNOT_SLICE_BLOB="cannot-slice-blob",B.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",B.NO_DOWNLOAD_URL="no-download-url",B.INVALID_ARGUMENT="invalid-argument",B.INVALID_ARGUMENT_COUNT="invalid-argument-count",B.APP_DELETED="app-deleted",B.INVALID_ROOT_OPERATION="invalid-root-operation",B.INVALID_FORMAT="invalid-format",B.INTERNAL_ERROR="internal-error",B.UNSUPPORTED_ENVIRONMENT="unsupported-environment",B}(Ht||{});function ln(B){return"storage/"+B}function pn(){return new vt(Ht.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qt(B){return new vt(Ht.INVALID_ARGUMENT,B)}function wt(){return new vt(Ht.APP_DELETED,"The Firebase app was deleted.")}function St(B,$){return new vt(Ht.INVALID_FORMAT,"String does not match format '"+B+"': "+$)}function Ot(B){throw new vt(Ht.INTERNAL_ERROR,"Internal error: "+B)}class Me{constructor($,ae){this.bucket=$,this.path_=ae}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const $=encodeURIComponent;return"/b/"+$(this.bucket)+"/o/"+$(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec($,ae){let ce;try{ce=Me.makeFromUrl($,ae)}catch{return new Me($,"")}if(""===ce.path)return ce;throw function ot(B){return new vt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+B+"'.")}($)}static makeFromUrl($,ae){let ce=null;const Se="([A-Za-z0-9.\\-_]+)",Kt=new RegExp("^gs://"+Se+"(/(.*))?$","i");function zn(Yr){Yr.path_=decodeURIComponent(Yr.path)}const qr=ae.replace(/[.]/g,"\\."),Sr=[{regex:Kt,indices:{bucket:1,path:3},postModify:function Qe(Yr){"/"===Yr.path.charAt(Yr.path.length-1)&&(Yr.path_=Yr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${qr}/v[A-Za-z0-9_]+/b/${Se}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:zn},{regex:new RegExp(`^https?://${ae===he?"(?:storage.googleapis.com|storage.cloud.google.com)":ae}/${Se}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:zn}];for(let Yr=0;Yr<Sr.length;Yr++){const $s=Sr[Yr],Rs=$s.regex.exec($);if(Rs){let hs=Rs[$s.indices.path];hs||(hs=""),ce=new Me(Rs[$s.indices.bucket],hs),$s.postModify(ce);break}}if(null==ce)throw function bt(B){return new vt(Ht.INVALID_URL,"Invalid URL '"+B+"'.")}($);return ce}}class le{constructor($){this.promise_=Promise.reject($)}getPromise(){return this.promise_}cancel($=!1){}}function yt(B){return"string"==typeof B||B instanceof String}function On(B){return on()&&B instanceof Blob}function on(){return typeof Blob<"u"}function Yn(B,$,ae,ce){if(ce<$)throw qt(`Invalid value for '${B}'. Expected ${$} or greater.`);if(ce>ae)throw qt(`Invalid value for '${B}'. Expected ${ae} or less.`)}function Pn(B,$,ae){let ce=$;return null==ae&&(ce=`https://${$}`),`${ae}://${ce}/v0${B}`}function Bi(B){const $=encodeURIComponent;let ae="?";for(const ce in B)B.hasOwnProperty(ce)&&(ae=ae+($(ce)+"=")+$(B[ce])+"&");return ae=ae.slice(0,-1),ae}var Tn=function(B){return B[B.NO_ERROR=0]="NO_ERROR",B[B.NETWORK_ERROR=1]="NETWORK_ERROR",B[B.ABORT=2]="ABORT",B}(Tn||{});class _r{constructor($,ae,ce,Se,Qe,Dt,Kt,Gt,zn,xn,qr,Ur=!0){this.url_=$,this.method_=ae,this.headers_=ce,this.body_=Se,this.successCodes_=Qe,this.additionalRetryCodes_=Dt,this.callback_=Kt,this.errorCallback_=Gt,this.timeout_=zn,this.progressCallback_=xn,this.connectionFactory_=qr,this.retry=Ur,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((si,oi)=>{this.resolve_=si,this.reject_=oi,this.start_()})}start_(){const ae=(ce,Se)=>{const Qe=this.resolve_,Dt=this.reject_,Kt=Se.connection;if(Se.wasSuccessCode)try{const Gt=this.callback_(Kt,Kt.getResponse());!function Ce(B){return void 0!==B}(Gt)?Qe():Qe(Gt)}catch(Gt){Dt(Gt)}else if(null!==Kt){const Gt=pn();Gt.serverResponse=Kt.getErrorText(),Dt(this.errorCallback_?this.errorCallback_(Kt,Gt):Gt)}else Dt(Se.canceled?this.appDelete_?wt():function Ut(){return new vt(Ht.CANCELED,"User canceled the upload/download.")}():function xt(){return new vt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?ae(0,new at(!1,null,!0)):this.backoffId_=function Y(B,$,ae){let ce=1,Se=null,Qe=null,Dt=!1,Kt=0;function Gt(){return 2===Kt}let zn=!1;function xn(...Kn){zn||(zn=!0,$.apply(null,Kn))}function qr(Kn){Se=setTimeout(()=>{Se=null,B(si,Gt())},Kn)}function Ur(){Qe&&clearTimeout(Qe)}function si(Kn,...zi){if(zn)return void Ur();if(Kn)return Ur(),void xn.call(null,Kn,...zi);if(Gt()||Dt)return Ur(),void xn.call(null,Kn,...zi);let Sr;ce<64&&(ce*=2),1===Kt?(Kt=2,Sr=0):Sr=1e3*(ce+Math.random()),qr(Sr)}let oi=!1;function Ti(Kn){oi||(oi=!0,Ur(),!zn&&(null!==Se?(Kn||(Kt=2),clearTimeout(Se),qr(0)):Kn||(Kt=1)))}return qr(0),Qe=setTimeout(()=>{Dt=!0,Ti(!0)},ae),Ti}((ce,Se)=>{if(Se)return void ce(!1,new at(!1,null,!0));const Qe=this.connectionFactory_();this.pendingConnection_=Qe;const Dt=Kt=>{null!==this.progressCallback_&&this.progressCallback_(Kt.loaded,Kt.lengthComputable?Kt.total:-1)};null!==this.progressCallback_&&Qe.addUploadProgressListener(Dt),Qe.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Qe.removeUploadProgressListener(Dt),this.pendingConnection_=null;const Kt=Qe.getErrorCode()===Tn.NO_ERROR,Gt=Qe.getStatus();if(!Kt||function Hr(B,$){const ae=B>=500&&B<600,Se=-1!==[408,429].indexOf(B),Qe=-1!==$.indexOf(B);return ae||Se||Qe}(Gt,this.additionalRetryCodes_)&&this.retry){const xn=Qe.getErrorCode()===Tn.ABORT;return void ce(!1,new at(!1,null,xn))}const zn=-1!==this.successCodes_.indexOf(Gt);ce(!0,new at(zn,Qe))})},ae,this.timeout_)}getPromise(){return this.promise_}cancel($){this.canceled_=!0,this.appDelete_=$||!1,null!==this.backoffId_&&function ee(B){B(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class at{constructor($,ae,ce){this.wasSuccessCode=$,this.connection=ae,this.canceled=!!ce}}function Dn(...B){const $=function Lt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==$){const ae=new $;for(let ce=0;ce<B.length;ce++)ae.append(B[ce]);return ae.getBlob()}if(on())return new Blob(B);throw new vt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yr{constructor($,ae){this.data=$,this.contentType=ae||null}}function Gi(B){const $=[];for(let ae=0;ae<B.length;ae++){let ce=B.charCodeAt(ae);ce<=127?$.push(ce):ce<=2047?$.push(192|ce>>6,128|63&ce):55296==(64512&ce)?ae<B.length-1&&56320==(64512&B.charCodeAt(ae+1))?(ce=65536|(1023&ce)<<10|1023&B.charCodeAt(++ae),$.push(240|ce>>18,128|ce>>12&63,128|ce>>6&63,128|63&ce)):$.push(239,191,189):56320==(64512&ce)?$.push(239,191,189):$.push(224|ce>>12,128|ce>>6&63,128|63&ce)}return new Uint8Array($)}function fi(B,$){switch(B){case Ln.BASE64:{const Se=-1!==$.indexOf("-"),Qe=-1!==$.indexOf("_");if(Se||Qe)throw St(B,"Invalid character '"+(Se?"-":"_")+"' found: is it base64url encoded?");break}case Ln.BASE64URL:{const Se=-1!==$.indexOf("+"),Qe=-1!==$.indexOf("/");if(Se||Qe)throw St(B,"Invalid character '"+(Se?"+":"/")+"' found: is it base64 encoded?");$=$.replace(/-/g,"+").replace(/_/g,"/");break}}let ae;try{ae=function It(B){if(typeof atob>"u")throw function be(B){return new vt(Ht.UNSUPPORTED_ENVIRONMENT,`${B} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(B)}($)}catch(Se){throw Se.message.includes("polyfill")?Se:St(B,"Invalid character found")}const ce=new Uint8Array(ae.length);for(let Se=0;Se<ae.length;Se++)ce[Se]=ae.charCodeAt(Se);return ce}class Vt{constructor($){this.base64=!1,this.contentType=null;const ae=$.match(/^data:([^,]+)?,/);if(null===ae)throw St(Ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ce=ae[1]||null;null!=ce&&(this.base64=function or(B,$){return B.length>=$.length&&B.substring(B.length-$.length)===$}(ce,";base64"),this.contentType=this.base64?ce.substring(0,ce.length-7):ce),this.rest=$.substring($.indexOf(",")+1)}}class Tr{constructor($,ae){let ce=0,Se="";On($)?(this.data_=$,ce=$.size,Se=$.type):$ instanceof ArrayBuffer?(ae?this.data_=new Uint8Array($):(this.data_=new Uint8Array($.byteLength),this.data_.set(new Uint8Array($))),ce=this.data_.length):$ instanceof Uint8Array&&(ae?this.data_=$:(this.data_=new Uint8Array($.length),this.data_.set($)),ce=$.length),this.size_=ce,this.type_=Se}size(){return this.size_}type(){return this.type_}slice($,ae){if(On(this.data_)){const Se=function Hn(B,$,ae){return B.webkitSlice?B.webkitSlice($,ae):B.mozSlice?B.mozSlice($,ae):B.slice?B.slice($,ae):null}(this.data_,$,ae);return null===Se?null:new Tr(Se)}{const ce=new Uint8Array(this.data_.buffer,$,ae-$);return new Tr(ce,!0)}}static getBlob(...$){if(on()){const ae=$.map(ce=>ce instanceof Tr?ce.data_:ce);return new Tr(Dn.apply(null,ae))}{const ae=$.map(Dt=>yt(Dt)?function vr(B,$){switch(B){case Ln.RAW:return new yr(Gi($));case Ln.BASE64:case Ln.BASE64URL:return new yr(fi(B,$));case Ln.DATA_URL:return new yr(function _s(B){const $=new Vt(B);return $.base64?fi(Ln.BASE64,$.rest):function Cn(B){let $;try{$=decodeURIComponent(B)}catch{throw St(Ln.DATA_URL,"Malformed data URL.")}return Gi($)}($.rest)}($),function xi(B){return new Vt(B).contentType}($))}throw pn()}(Ln.RAW,Dt).data:Dt.data_);let ce=0;ae.forEach(Dt=>{ce+=Dt.byteLength});const Se=new Uint8Array(ce);let Qe=0;return ae.forEach(Dt=>{for(let Kt=0;Kt<Dt.length;Kt++)Se[Qe++]=Dt[Kt]}),new Tr(Se,!0)}}uploadData(){return this.data_}}function ar(B){let $;try{$=JSON.parse(B)}catch{return null}return function ut(B){return"object"==typeof B&&!Array.isArray(B)}($)?$:null}function rs(B){const $=B.lastIndexOf("/",B.length-2);return-1===$?B:B.slice($+1)}function _e(B,$){return $}class wr{constructor($,ae,ce,Se){this.server=$,this.local=ae||$,this.writable=!!ce,this.xform=Se||_e}}let xr=null;function Si(){if(xr)return xr;const B=[];B.push(new wr("bucket")),B.push(new wr("generation")),B.push(new wr("metageneration")),B.push(new wr("name","fullPath",!0));const ae=new wr("name");ae.xform=function $(Qe,Dt){return function ys(B){return!yt(B)||B.length<2?B:rs(B)}(Dt)},B.push(ae);const Se=new wr("size");return Se.xform=function ce(Qe,Dt){return void 0!==Dt?Number(Dt):Dt},B.push(Se),B.push(new wr("timeCreated")),B.push(new wr("updated")),B.push(new wr("md5Hash",null,!0)),B.push(new wr("cacheControl",null,!0)),B.push(new wr("contentDisposition",null,!0)),B.push(new wr("contentEncoding",null,!0)),B.push(new wr("contentLanguage",null,!0)),B.push(new wr("contentType",null,!0)),B.push(new wr("metadata","customMetadata",!0)),xr=B,xr}function V(B,$,ae){const ce=ar($);return null===ce?null:function W(B,$,ae){const ce={type:"file"},Se=ae.length;for(let Qe=0;Qe<Se;Qe++){const Dt=ae[Qe];ce[Dt.local]=Dt.xform(ce,$[Dt.server])}return function Ye(B,$){Object.defineProperty(B,"ref",{get:function ae(){const Qe=new Me(B.bucket,B.fullPath);return $._makeStorageReference(Qe)}})}(ce,B),ce}(B,ce,ae)}class sn{constructor($,ae,ce,Se){this.url=$,this.method=ae,this.handler=ce,this.timeout=Se,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function gn(B){if(!B)throw pn()}function kr(B){return function $(ae,ce){let Se;return Se=401===ae.getStatus()?ae.getErrorText().includes("Firebase App Check token is invalid")?function pt(){return new vt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function rt(){return new vt(Ht.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ae.getStatus()?function mr(B){return new vt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+B+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(B.bucket):403===ae.getStatus()?function it(B){return new vt(Ht.UNAUTHORIZED,"User does not have permission to access '"+B+"'.")}(B.path):ce,Se.status=ae.getStatus(),Se.serverResponse=ce.serverResponse,Se}}function nt(B,$,ae,ce,Se){const Qe=$.bucketOnlyServerUrl(),Dt={"X-Goog-Upload-Protocol":"multipart"},Gt=function Kt(){let Sr="";for(let Yr=0;Yr<2;Yr++)Sr+=Math.random().toString().slice(2);return Sr}();Dt["Content-Type"]="multipart/related; boundary="+Gt;const zn=function Re(B,$,ae){const ce=Object.assign({},ae);return ce.fullPath=B.path,ce.size=$.size(),ce.contentType||(ce.contentType=function Ge(B,$){return B&&B.contentType||$&&$.type()||"application/octet-stream"}(null,$)),ce}($,ce,Se),xn=function fe(B,$){const ae={},ce=$.length;for(let Se=0;Se<ce;Se++){const Qe=$[Se];Qe.writable&&(ae[Qe.server]=B[Qe.local])}return JSON.stringify(ae)}(zn,ae),si=Tr.getBlob("--"+Gt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xn+"\r\n--"+Gt+"\r\nContent-Type: "+zn.contentType+"\r\n\r\n",ce,"\r\n--"+Gt+"--");if(null===si)throw function Gn(){return new vt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const oi={name:zn.fullPath},Ti=Pn(Qe,B.host,B._protocol),zi=B.maxUploadRetryTime,wi=new sn(Ti,"POST",function Rr(B,$){return function ae(ce,Se){const Qe=V(B,Se,$);return gn(null!==Qe),Qe}}(B,ae),zi);return wi.urlParams=oi,wi.headers=Dt,wi.body=si.uploadData(),wi.errorHandler=kr($),wi}let ss=null;class os{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tn.NO_ERROR,this.sendPromise_=new Promise($=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tn.ABORT,$()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tn.NETWORK_ERROR,$()}),this.xhr_.addEventListener("load",()=>{$()})})}send($,ae,ce,Se){if(this.sent_)throw Ot("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ae,$,!0),void 0!==Se)for(const Qe in Se)Se.hasOwnProperty(Qe)&&this.xhr_.setRequestHeader(Qe,Se[Qe].toString());return void 0!==ce?this.xhr_.send(ce):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ot("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ot("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ot("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ot("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader($){return this.xhr_.getResponseHeader($)}addUploadProgressListener($){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",$)}removeUploadProgressListener($){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",$)}}class Ss extends os{initXhr(){this.xhr_.responseType="text"}}function li(){return ss?ss():new Ss}class pi{constructor($,ae){this._service=$,this._location=ae instanceof Me?ae:Me.makeFromUrl(ae,$.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef($,ae){return new pi($,ae)}get root(){const $=new Me(this._location.bucket,"");return this._newRef(this._service,$)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rs(this._location.path)}get storage(){return this._service}get parent(){const $=function tn(B){if(0===B.length)return null;const $=B.lastIndexOf("/");return-1===$?"":B.slice(0,$)}(this._location.path);if(null===$)return null;const ae=new Me(this._location.bucket,$);return new pi(this._service,ae)}_throwIfRoot($){if(""===this._location.path)throw function mn(B){return new vt(Ht.INVALID_ROOT_OPERATION,"The operation '"+B+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}($)}}function Mo(B){B._throwIfRoot("getDownloadURL");const $=function is(B,$,ae){const Se=Pn($.fullServerUrl(),B.host,B._protocol),Dt=B.maxOperationRetryTime,Kt=new sn(Se,"GET",function Gr(B,$){return function ae(ce,Se){const Qe=V(B,Se,$);return gn(null!==Qe),function K(B,$,ae,ce){const Se=ar($);if(null===Se||!yt(Se.downloadTokens))return null;const Qe=Se.downloadTokens;if(0===Qe.length)return null;const Dt=encodeURIComponent;return Qe.split(",").map(zn=>{const qr=B.fullPath;return Pn("/b/"+Dt(B.bucket)+"/o/"+Dt(qr),ae,ce)+Bi({alt:"media",token:zn})})[0]}(Qe,Se,B.host,B._protocol)}}(B,ae),Dt);return Kt.errorHandler=function ci(B){const $=kr(B);return function ae(ce,Se){let Qe=$(ce,Se);return 404===ce.getStatus()&&(Qe=function qn(B){return new vt(Ht.OBJECT_NOT_FOUND,"Object '"+B+"' does not exist.")}(B.path)),Qe.serverResponse=Se.serverResponse,Qe}}($),Kt}(B.storage,B._location,Si());return B.storage.makeRequestWithTokens($,li).then(ae=>{if(null===ae)throw function mt(){return new vt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ae})}function Vs(B,$){if(B instanceof Ji){const ae=B;if(null==ae._bucket)throw function Zt(){return new vt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ee+"' property when initializing the app?")}();const ce=new pi(ae,ae._bucket);return null!=$?Vs(ce,$):ce}return void 0!==$?function Dr(B,$){const ae=function vi(B,$){const ae=$.split("/").filter(ce=>ce.length>0).join("/");return 0===B.length?ae:B+"/"+ae}(B._location.path,$),ce=new Me(B._location.bucket,ae);return new pi(B.storage,ce)}(B,$):B}function oo(B,$){const ae=$?.[Ee];return null==ae?null:Me.makeFromBucketSpec(ae,B)}class Ji{constructor($,ae,ce,Se,Qe){this.app=$,this._authProvider=ae,this._appCheckProvider=ce,this._url=Se,this._firebaseVersion=Qe,this._bucket=null,this._host=he,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Se?Me.makeFromBucketSpec(Se,this._host):oo(this._host,this.app.options)}get host(){return this._host}set host($){this._host=$,this._bucket=null!=this._url?Me.makeFromBucketSpec(this._url,$):oo($,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime($){Yn("time",0,Number.POSITIVE_INFINITY,$),this._maxUploadRetryTime=$}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime($){Yn("time",0,Number.POSITIVE_INFINITY,$),this._maxOperationRetryTime=$}_getAuthToken(){var $=this;return(0,de.A)(function*(){if($._overrideAuthToken)return $._overrideAuthToken;const ae=$._authProvider.getImmediate({optional:!0});if(ae){const ce=yield ae.getToken();if(null!==ce)return ce.accessToken}return null})()}_getAppCheckToken(){var $=this;return(0,de.A)(function*(){const ae=$._appCheckProvider.getImmediate({optional:!0});return ae?(yield ae.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach($=>$.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference($){return new pi(this,$)}_makeRequest($,ae,ce,Se,Qe=!0){if(this._deleted)return new le(wt());{const Dt=function jr(B,$,ae,ce,Se,Qe,Dt=!0){const Kt=Bi(B.urlParams),Gt=B.url+Kt,zn=Object.assign({},B.headers);return function $n(B,$){$&&(B["X-Firebase-GMPID"]=$)}(zn,$),function ri(B,$){null!==$&&$.length>0&&(B.Authorization="Firebase "+$)}(zn,ae),function yn(B,$){B["X-Firebase-Storage-Version"]="webjs/"+($??"AppManager")}(zn,Qe),function At(B,$){null!==$&&(B["X-Firebase-AppCheck"]=$)}(zn,ce),new _r(Gt,B.method,zn,B.body,B.successCodes,B.additionalRetryCodes,B.handler,B.errorHandler,B.timeout,B.progressCallback,Se,Dt)}($,this._appId,ce,Se,ae,this._firebaseVersion,Qe);return this._requests.add(Dt),Dt.getPromise().then(()=>this._requests.delete(Dt),()=>this._requests.delete(Dt)),Dt}}makeRequestWithTokens($,ae){var ce=this;return(0,de.A)(function*(){const[Se,Qe]=yield Promise.all([ce._getAuthToken(),ce._getAppCheckToken()]);return ce._makeRequest($,ae,Se,Qe).getPromise()})()}}const qi="@firebase/storage",Ei="storage";function Qn(B,$,ae){return function zr(B,$,ae){B._throwIfRoot("uploadBytes");const ce=nt(B.storage,B._location,Si(),new Tr($,!0),ae);return B.storage.makeRequestWithTokens(ce,li).then(Se=>({metadata:Se,ref:B}))}(B=(0,Rt.Ku)(B),$,ae)}function ao(B){return Mo(B=(0,Rt.Ku)(B))}function Nr(B,$){return function Ys(B,$){if($&&function Wi(B){return/^[A-Za-z]+:\/\//.test(B)}($)){if(B instanceof Ji)return function so(B,$){return new pi(B,$)}(B,$);throw qt("To use ref(service, url), the first argument must be a Storage instance.")}return Vs(B,$)}(B=(0,Rt.Ku)(B),$)}function vn(B=(0,Ve.Sx)(),$){B=(0,Rt.Ku)(B);const ce=(0,Ve.j6)(B,Ei).getImmediate({identifier:$}),Se=(0,Rt.yU)("storage");return Se&&function br(B,$,ae,ce={}){!function Ts(B,$,ae,ce={}){B.host=`${$}:${ae}`,B._protocol="http";const{mockUserToken:Se}=ce;Se&&(B._overrideAuthToken="string"==typeof Se?Se:(0,Rt.Fy)(Se,B.app.options.projectId))}(B,$,ae,ce)}(ce,...Se),ce}function Lr(B,{instanceIdentifier:$}){const ae=B.getProvider("app").getImmediate(),ce=B.getProvider("auth-internal"),Se=B.getProvider("app-check-internal");return new Ji(ae,ce,Se,$,Ve.MF)}!function cs(){(0,Ve.om)(new et.uA(Ei,Lr,"PUBLIC").setMultipleInstances(!0)),(0,Ve.KO)(qi,"0.13.2",""),(0,Ve.KO)(qi,"0.13.2","esm2017")}();class Or{constructor($){return $}}const Ki="storage",ws=new Ie.nKC("angularfire2.storage-instances");function ji(B){return($,ae)=>{const ce=$.runOutsideAngular(()=>B(ae));return new Or(ce)}}const Vr={provide:class ls{constructor(){return(0,N.CA)(Ki)}},deps:[[new Ie.Xx1,ws]]},uo={provide:Or,useFactory:function hr(B,$){const ae=(0,N.lR)(Ki,B,$);return ae&&new Or(ae)},deps:[[new Ie.Xx1,ws],Pe.XU]};let $i=(()=>{class B{constructor(){(0,se.KO)("angularfire",N.xv.full,"gcs")}static \u0275fac=function(ce){return new(ce||B)};static \u0275mod=Ie.$C({type:B});static \u0275inj=Ie.G2t({providers:[uo,Vr]})}return B})();function Hi(B,...$){return{ngModule:$i,providers:[{provide:ws,useFactory:ji(B),multi:!0,deps:[Ie.SKi,Ie.zZn,N.u0,Pe.gL,[new Ie.Xx1,Ke.DF],[new Ie.Xx1,N.Jv],...$]}]}}const Sn=(0,N.S3)(ao,!0),co=(0,N.S3)(vn,!0),ds=(0,N.S3)(Nr,!0),mi=(0,N.S3)(Qn,!0)},3586:(_n,dt,ne)=>{ne.d(dt,{xv:()=>rt,u0:()=>ni,Jv:()=>Ut,CA:()=>xt,lR:()=>it,S3:()=>le});var N=ne(540),Ie=ne(2214),Pe=ne(8359);class Ke extends Pe.yU{constructor(ee,Ce){super()}schedule(ee,Ce=0){return this}}const se={setInterval(Y,ee,...Ce){const{delegate:Be}=se;return Be?.setInterval?Be.setInterval(Y,ee,...Ce):setInterval(Y,ee,...Ce)},clearInterval(Y){const{delegate:ee}=se;return(ee?.clearInterval||clearInterval)(Y)},delegate:void 0};var de=ne(7908);class Ve extends Ke{constructor(ee,Ce){super(ee,Ce),this.scheduler=ee,this.work=Ce,this.pending=!1}schedule(ee,Ce=0){var Be;if(this.closed)return this;this.state=ee;const ut=this.id,yt=this.scheduler;return null!=ut&&(this.id=this.recycleAsyncId(yt,ut,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(yt,this.id,Ce),this}requestAsyncId(ee,Ce,Be=0){return se.setInterval(ee.flush.bind(ee,this),Be)}recycleAsyncId(ee,Ce,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return Ce;null!=Ce&&se.clearInterval(Ce)}execute(ee,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(ee,Ce);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,Ce){let ut,Be=!1;try{this.work(ee)}catch(yt){Be=!0,ut=yt||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),ut}unsubscribe(){if(!this.closed){const{id:ee,scheduler:Ce}=this,{actions:Be}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.o)(Be,this),null!=ee&&(this.id=this.recycleAsyncId(Ce,ee,null)),this.delay=null,super.unsubscribe()}}}const et={now:()=>(et.delegate||Date).now(),delegate:void 0};class he{constructor(ee,Ce=he.now){this.schedulerActionCtor=ee,this.now=Ce}schedule(ee,Ce=0,Be){return new this.schedulerActionCtor(this,ee).schedule(Be,Ce)}}he.now=et.now;class Ee extends he{constructor(ee,Ce=he.now){super(ee,Ce),this.actions=[],this._active=!1}flush(ee){const{actions:Ce}=this;if(this._active)return void Ce.push(ee);let Be;this._active=!0;do{if(Be=ee.execute(ee.state,ee.delay))break}while(ee=Ce.shift());if(this._active=!1,Be){for(;ee=Ce.shift();)ee.unsubscribe();throw Be}}}const _t=new class qe extends Ee{}(class Rt extends Ve{constructor(ee,Ce){super(ee,Ce),this.scheduler=ee,this.work=Ce}schedule(ee,Ce=0){return Ce>0?super.schedule(ee,Ce):(this.delay=Ce,this.state=ee,this.scheduler.flush(this),this)}execute(ee,Ce){return Ce>0||this.closed?super.execute(ee,Ce):this._execute(ee,Ce)}requestAsyncId(ee,Ce,Be=0){return null!=Be&&Be>0||null==Be&&this.delay>0?super.requestAsyncId(ee,Ce,Be):(ee.flush(this),0)}}),vt=new Ee(Ve);var ln=ne(1985),pn=ne(8141),qn=ne(6745),mr=ne(941);const rt=new N.RxE("ANGULARFIRE2_VERSION");function it(Y,ee,Ce){if(ee){if(1===ee.length)return ee[0];const yt=ee.filter(On=>On.app===Ce);if(1===yt.length)return yt[0]}return Ce.container.getProvider(Y).getImmediate({optional:!0})}const xt=(Y,ee)=>{const Ce=ee?[ee]:(0,Ie.Dk)(),Be=[];return Ce.forEach(ut=>{ut.container.getProvider(Y).instances.forEach(On=>{Be.includes(On)||Be.push(On)})}),Be};class Ut{constructor(){return xt(bt)}}const bt="app-check";function ot(){}class Zt{zone;delegate;constructor(ee,Ce=_t){this.zone=ee,this.delegate=Ce}now(){return this.delegate.now()}schedule(ee,Ce,Be){const ut=this.zone;return this.delegate.schedule(function(On){ut.runGuarded(()=>{ee.apply(this,[On])})},Ce,Be)}}class Gn{zone;task=null;constructor(ee){this.zone=ee}call(ee,Ce){const Be=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ot,{},ot,ot)),Ce.pipe((0,pn.M)({next:Be,complete:Be,error:Be})).subscribe(ee).add(Be)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ni=(()=>{class Y{ngZone;outsideAngular;insideAngular;constructor(Ce){this.ngZone=Ce,this.outsideAngular=Ce.runOutsideAngular(()=>new Zt(Zone.current)),this.insideAngular=Ce.run(()=>new Zt(Zone.current,vt)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Be){return new(Be||Y)(N.KVO(N.SKi))};static \u0275prov=N.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();function mt(){const Y=globalThis.\u0275AngularFireScheduler;if(!Y)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Y}function qt(Y){return mt().ngZone.run(()=>Y())}function St(Y){return function Ot(Y){return function(Ce){return(Ce=Ce.lift(new Gn(Y.ngZone))).pipe((0,qn._)(Y.outsideAngular),(0,mr.Q)(Y.insideAngular))}}(mt())(Y)}const Me=(Y,ee)=>function(){const Be=arguments;return ee&&setTimeout(()=>{"scheduled"===ee.state&&ee.invoke()},10),qt(()=>Y.apply(void 0,Be))},le=(Y,ee)=>function(){let Ce;const Be=arguments;for(let yt=0;yt<arguments.length;yt++)"function"==typeof Be[yt]&&(ee&&(Ce||=qt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ot,{},ot,ot))),Be[yt]=Me(Be[yt],Ce));const ut=function be(Y){return mt().ngZone.runOutsideAngular(()=>Y())}(()=>Y.apply(this,Be));if(!ee){if(ut instanceof ln.c){const yt=mt();return ut.pipe((0,qn._)(yt.outsideAngular),(0,mr.Q)(yt.insideAngular))}return qt(()=>ut)}return ut instanceof ln.c?ut.pipe(St):ut instanceof Promise?qt(()=>new Promise((yt,On)=>ut.then(on=>qt(()=>yt(on)),on=>qt(()=>On(on))))):"function"==typeof ut&&Ce?function(){return setTimeout(()=>{Ce&&"scheduled"===Ce.state&&Ce.invoke()},10),ut.apply(this,arguments)}:qt(()=>ut)}},345:(_n,dt,ne)=>{ne.d(dt,{B7:()=>bt,Bb:()=>Tn,hE:()=>yn,sG:()=>on});var N=ne(540),Ie=ne(177);class Pe extends Ie.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ke extends Pe{static makeCurrent(){(0,Ie.ZD)(new Ke)}onAndCancel(W,V,K){return W.addEventListener(V,K),()=>{W.removeEventListener(V,K)}}dispatchEvent(W,V){W.dispatchEvent(V)}remove(W){W.parentNode&&W.parentNode.removeChild(W)}createElement(W,V){return(V=V||this.getDefaultDocument()).createElement(W)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(W){return W.nodeType===Node.ELEMENT_NODE}isShadowRoot(W){return W instanceof DocumentFragment}getGlobalEventTarget(W,V){return"window"===V?window:"document"===V?W:"body"===V?W.body:null}getBaseHref(W){const V=function de(){return se=se||document.querySelector("base"),se?se.getAttribute("href"):null}();return null==V?null:function Rt(Ye){Ve=Ve||document.createElement("a"),Ve.setAttribute("href",Ye);const W=Ve.pathname;return"/"===W.charAt(0)?W:`/${W}`}(V)}resetBaseElement(){se=null}getUserAgent(){return window.navigator.userAgent}getCookie(W){return(0,Ie._b)(document.cookie,W)}}let Ve,se=null,he=(()=>{class Ye{build(){return new XMLHttpRequest}static{this.\u0275fac=function(K){return new(K||Ye)}}static{this.\u0275prov=N.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();const Ee=new N.nKC("EventManagerPlugins");let qe=(()=>{class Ye{constructor(V,K){this._zone=K,this._eventNameToPlugin=new Map,V.forEach(fe=>{fe.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,K,fe){return this._findPluginFor(K).addEventListener(V,K,fe)}getZone(){return this._zone}_findPluginFor(V){let K=this._eventNameToPlugin.get(V);if(K)return K;if(K=this._plugins.find(me=>me.supports(V)),!K)throw new N.wOt(5101,!1);return this._eventNameToPlugin.set(V,K),K}static{this.\u0275fac=function(K){return new(K||Ye)(N.KVO(Ee),N.KVO(N.SKi))}}static{this.\u0275prov=N.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();class _t{constructor(W){this._doc=W}}const gt="ng-app-id";let vt=(()=>{class Ye{constructor(V,K,fe,me={}){this.doc=V,this.appId=K,this.nonce=fe,this.platformId=me,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Ie.Vy)(me),this.resetHostNodes()}addStyles(V){for(const K of V)1===this.changeUsageCount(K,1)&&this.onStyleAdded(K)}removeStyles(V){for(const K of V)this.changeUsageCount(K,-1)<=0&&this.onStyleRemoved(K)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach(K=>K.remove()),V.clear());for(const K of this.getAllStyles())this.onStyleRemoved(K);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const K of this.getAllStyles())this.addStyleToHost(V,K)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const K of this.hostNodes)this.addStyleToHost(K,V)}onStyleRemoved(V){const K=this.styleRef;K.get(V)?.elements?.forEach(fe=>fe.remove()),K.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${gt}="${this.appId}"]`);if(V?.length){const K=new Map;return V.forEach(fe=>{null!=fe.textContent&&K.set(fe.textContent,fe)}),K}return null}changeUsageCount(V,K){const fe=this.styleRef;if(fe.has(V)){const me=fe.get(V);return me.usage+=K,me.usage}return fe.set(V,{usage:K,elements:[]}),K}getStyleElement(V,K){const fe=this.styleNodesInDOM,me=fe?.get(K);if(me?.parentNode===V)return fe.delete(K),me.removeAttribute(gt),me;{const tt=this.doc.createElement("style");return this.nonce&&tt.setAttribute("nonce",this.nonce),tt.textContent=K,this.platformIsServer&&tt.setAttribute(gt,this.appId),tt}}addStyleToHost(V,K){const fe=this.getStyleElement(V,K);V.appendChild(fe);const me=this.styleRef,tt=me.get(K)?.elements;tt?tt.push(fe):me.set(K,{elements:[fe],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}static{this.\u0275fac=function(K){return new(K||Ye)(N.KVO(Ie.qQ),N.KVO(N.sZ2),N.KVO(N.BIS,8),N.KVO(N.Agw))}}static{this.\u0275prov=N.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();const Ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ln=/%COMP%/g,pt=new N.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ut(Ye,W){return W.map(V=>V.replace(ln,Ye))}let bt=(()=>{class Ye{constructor(V,K,fe,me,tt,Pt,kt,sn=null){this.eventManager=V,this.sharedStylesHost=K,this.appId=fe,this.removeStylesOnCompDestroy=me,this.doc=tt,this.platformId=Pt,this.ngZone=kt,this.nonce=sn,this.rendererByCompId=new Map,this.platformIsServer=(0,Ie.Vy)(Pt),this.defaultRenderer=new ot(V,tt,kt,this.platformIsServer)}createRenderer(V,K){if(!V||!K)return this.defaultRenderer;this.platformIsServer&&K.encapsulation===N.gXe.ShadowDom&&(K={...K,encapsulation:N.gXe.Emulated});const fe=this.getOrCreateRenderer(V,K);return fe instanceof qt?fe.applyToHost(V):fe instanceof be&&fe.applyStyles(),fe}getOrCreateRenderer(V,K){const fe=this.rendererByCompId;let me=fe.get(K.id);if(!me){const tt=this.doc,Pt=this.ngZone,kt=this.eventManager,sn=this.sharedStylesHost,gn=this.removeStylesOnCompDestroy,Rr=this.platformIsServer;switch(K.encapsulation){case N.gXe.Emulated:me=new qt(kt,sn,K,this.appId,gn,tt,Pt,Rr);break;case N.gXe.ShadowDom:return new mt(kt,sn,V,K,tt,Pt,this.nonce,Rr);default:me=new be(kt,sn,K,gn,tt,Pt,Rr)}fe.set(K.id,me)}return me}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(K){return new(K||Ye)(N.KVO(qe),N.KVO(vt),N.KVO(N.sZ2),N.KVO(pt),N.KVO(Ie.qQ),N.KVO(N.Agw),N.KVO(N.SKi),N.KVO(N.BIS))}}static{this.\u0275prov=N.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();class ot{constructor(W,V,K,fe){this.eventManager=W,this.doc=V,this.ngZone=K,this.platformIsServer=fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(W,V){return V?this.doc.createElementNS(Ht[V]||V,W):this.doc.createElement(W)}createComment(W){return this.doc.createComment(W)}createText(W){return this.doc.createTextNode(W)}appendChild(W,V){(ni(W)?W.content:W).appendChild(V)}insertBefore(W,V,K){W&&(ni(W)?W.content:W).insertBefore(V,K)}removeChild(W,V){W&&W.removeChild(V)}selectRootElement(W,V){let K="string"==typeof W?this.doc.querySelector(W):W;if(!K)throw new N.wOt(-5104,!1);return V||(K.textContent=""),K}parentNode(W){return W.parentNode}nextSibling(W){return W.nextSibling}setAttribute(W,V,K,fe){if(fe){V=fe+":"+V;const me=Ht[fe];me?W.setAttributeNS(me,V,K):W.setAttribute(V,K)}else W.setAttribute(V,K)}removeAttribute(W,V,K){if(K){const fe=Ht[K];fe?W.removeAttributeNS(fe,V):W.removeAttribute(`${K}:${V}`)}else W.removeAttribute(V)}addClass(W,V){W.classList.add(V)}removeClass(W,V){W.classList.remove(V)}setStyle(W,V,K,fe){fe&(N.czy.DashCase|N.czy.Important)?W.style.setProperty(V,K,fe&N.czy.Important?"important":""):W.style[V]=K}removeStyle(W,V,K){K&N.czy.DashCase?W.style.removeProperty(V):W.style[V]=""}setProperty(W,V,K){W[V]=K}setValue(W,V){W.nodeValue=V}listen(W,V,K){if("string"==typeof W&&!(W=(0,Ie.QT)().getGlobalEventTarget(this.doc,W)))throw new Error(`Unsupported event target ${W} for event ${V}`);return this.eventManager.addEventListener(W,V,this.decoratePreventDefault(K))}decoratePreventDefault(W){return V=>{if("__ngUnwrap__"===V)return W;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>W(V)):W(V))&&V.preventDefault()}}}function ni(Ye){return"TEMPLATE"===Ye.tagName&&void 0!==Ye.content}class mt extends ot{constructor(W,V,K,fe,me,tt,Pt,kt){super(W,me,tt,kt),this.sharedStylesHost=V,this.hostEl=K,this.shadowRoot=K.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sn=Ut(fe.id,fe.styles);for(const gn of sn){const Rr=document.createElement("style");Pt&&Rr.setAttribute("nonce",Pt),Rr.textContent=gn,this.shadowRoot.appendChild(Rr)}}nodeOrShadowRoot(W){return W===this.hostEl?this.shadowRoot:W}appendChild(W,V){return super.appendChild(this.nodeOrShadowRoot(W),V)}insertBefore(W,V,K){return super.insertBefore(this.nodeOrShadowRoot(W),V,K)}removeChild(W,V){return super.removeChild(this.nodeOrShadowRoot(W),V)}parentNode(W){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(W)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class be extends ot{constructor(W,V,K,fe,me,tt,Pt,kt){super(W,me,tt,Pt),this.sharedStylesHost=V,this.removeStylesOnCompDestroy=fe,this.styles=kt?Ut(kt,K.styles):K.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qt extends be{constructor(W,V,K,fe,me,tt,Pt,kt){const sn=fe+"-"+K.id;super(W,V,K,me,tt,Pt,kt,sn),this.contentAttr=function it(Ye){return"_ngcontent-%COMP%".replace(ln,Ye)}(sn),this.hostAttr=function xt(Ye){return"_nghost-%COMP%".replace(ln,Ye)}(sn)}applyToHost(W){this.applyStyles(),this.setAttribute(W,this.hostAttr,"")}createElement(W,V){const K=super.createElement(W,V);return super.setAttribute(K,this.contentAttr,""),K}}let wt=(()=>{class Ye extends _t{constructor(V){super(V)}supports(V){return!0}addEventListener(V,K,fe){return V.addEventListener(K,fe,!1),()=>this.removeEventListener(V,K,fe)}removeEventListener(V,K,fe){return V.removeEventListener(K,fe)}static{this.\u0275fac=function(K){return new(K||Ye)(N.KVO(Ie.qQ))}}static{this.\u0275prov=N.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();const mn=["alt","control","meta","shift"],St={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ot={alt:Ye=>Ye.altKey,control:Ye=>Ye.ctrlKey,meta:Ye=>Ye.metaKey,shift:Ye=>Ye.shiftKey};let Me=(()=>{class Ye extends _t{constructor(V){super(V)}supports(V){return null!=Ye.parseEventName(V)}addEventListener(V,K,fe){const me=Ye.parseEventName(K),tt=Ye.eventCallback(me.fullKey,fe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Ie.QT)().onAndCancel(V,me.domEventName,tt))}static parseEventName(V){const K=V.toLowerCase().split("."),fe=K.shift();if(0===K.length||"keydown"!==fe&&"keyup"!==fe)return null;const me=Ye._normalizeKey(K.pop());let tt="",Pt=K.indexOf("code");if(Pt>-1&&(K.splice(Pt,1),tt="code."),mn.forEach(sn=>{const gn=K.indexOf(sn);gn>-1&&(K.splice(gn,1),tt+=sn+".")}),tt+=me,0!=K.length||0===me.length)return null;const kt={};return kt.domEventName=fe,kt.fullKey=tt,kt}static matchEventFullKeyCode(V,K){let fe=St[V.key]||V.key,me="";return K.indexOf("code.")>-1&&(fe=V.code,me="code."),!(null==fe||!fe)&&(fe=fe.toLowerCase()," "===fe?fe="space":"."===fe&&(fe="dot"),mn.forEach(tt=>{tt!==fe&&(0,Ot[tt])(V)&&(me+=tt+".")}),me+=fe,me===K)}static eventCallback(V,K,fe){return me=>{Ye.matchEventFullKeyCode(me,V)&&fe.runGuarded(()=>K(me))}}static _normalizeKey(V){return"esc"===V?"escape":V}static{this.\u0275fac=function(K){return new(K||Ye)(N.KVO(Ie.qQ))}}static{this.\u0275prov=N.jDH({token:Ye,factory:Ye.\u0275fac})}}return Ye})();const on=(0,N.oH4)(N.fpN,"browser",[{provide:N.Agw,useValue:Ie.AJ},{provide:N.PLl,useValue:function Be(){Ke.makeCurrent()},multi:!0},{provide:Ie.qQ,useFactory:function yt(){return(0,N.TL$)(document),document},deps:[]}]),Yn=new N.nKC(""),Pn=[{provide:N.e01,useClass:class et{addToWindow(W){N.JZv.getAngularTestability=(K,fe=!0)=>{const me=W.findTestabilityInTree(K,fe);if(null==me)throw new N.wOt(5103,!1);return me},N.JZv.getAllAngularTestabilities=()=>W.getAllTestabilities(),N.JZv.getAllAngularRootElements=()=>W.getAllRootElements(),N.JZv.frameworkStabilizers||(N.JZv.frameworkStabilizers=[]),N.JZv.frameworkStabilizers.push(K=>{const fe=N.JZv.getAllAngularTestabilities();let me=fe.length,tt=!1;const Pt=function(kt){tt=tt||kt,me--,0==me&&K(tt)};fe.forEach(kt=>{kt.whenStable(Pt)})})}findTestabilityInTree(W,V,K){return null==V?null:W.getTestability(V)??(K?(0,Ie.QT)().isShadowRoot(V)?this.findTestabilityInTree(W,V.host,!0):this.findTestabilityInTree(W,V.parentElement,!0):null)}},deps:[]},{provide:N.WHO,useClass:N.NYb,deps:[N.SKi,N.giA,N.e01]},{provide:N.NYb,useClass:N.NYb,deps:[N.SKi,N.giA,N.e01]}],Bi=[{provide:N.H8p,useValue:"root"},{provide:N.zcH,useFactory:function ut(){return new N.zcH},deps:[]},{provide:Ee,useClass:wt,multi:!0,deps:[Ie.qQ,N.SKi,N.Agw]},{provide:Ee,useClass:Me,multi:!0,deps:[Ie.qQ]},bt,vt,qe,{provide:N._9s,useExisting:bt},{provide:Ie.N0,useClass:he,deps:[]},[]];let Tn=(()=>{class Ye{constructor(V){}static withServerTransition(V){return{ngModule:Ye,providers:[{provide:N.sZ2,useValue:V.appId}]}}static{this.\u0275fac=function(K){return new(K||Ye)(N.KVO(Yn,12))}}static{this.\u0275mod=N.$C({type:Ye})}static{this.\u0275inj=N.G2t({providers:[...Bi,...Pn],imports:[Ie.MD,N.Hbi]})}}return Ye})(),yn=(()=>{class Ye{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}static{this.\u0275fac=function(K){return new(K||Ye)(N.KVO(Ie.qQ))}}static{this.\u0275prov=N.jDH({token:Ye,factory:function(K){let fe=null;return fe=K?new K:function ri(){return new yn((0,N.KVO)(Ie.qQ))}(),fe},providedIn:"root"})}}return Ye})();typeof window<"u"&&window},6143:(_n,dt,ne)=>{ne.d(dt,{Wk:()=>Vi,iI:()=>ps,n3:()=>Bs});var N=ne(540),Ie=ne(1985),Pe=ne(8071),se=ne(8455),de=ne(7673),Ve=ne(4412),Rt=ne(3073),et=ne(3669),he=ne(6450),Ee=ne(3794),qe=ne(8496),_t=ne(4360),gt=ne(5225);function vt(...v){const b=(0,Ee.lI)(v),y=(0,Ee.ms)(v),{args:C,keys:x}=(0,Rt.D)(v);if(0===C.length)return(0,se.H)([],b);const Q=new Ie.c(function Ht(v,b,y=et.D){return C=>{ln(b,()=>{const{length:x}=v,Q=new Array(x);let ue=x,$e=x;for(let Ue=0;Ue<x;Ue++)ln(b,()=>{const Ft=(0,se.H)(v[Ue],b);let In=!1;Ft.subscribe((0,_t._)(C,fr=>{Q[Ue]=fr,In||(In=!0,$e--),$e||C.next(y(Q.slice()))},()=>{--ue||C.complete()}))},C)},C)}}(C,b,x?ue=>(0,qe.e)(x,ue):et.D));return y?Q.pipe((0,he.I)(y)):Q}function ln(v,b,y){v?(0,gt.N)(y,v,b):b()}const qn=(0,ne(1853).L)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var mr=ne(6365);function pt(...v){return function rt(){return(0,mr.U)(1)}()((0,se.H)(v,(0,Ee.lI)(v)))}var it=ne(8750);function xt(v){return new Ie.c(b=>{(0,it.Tg)(v()).subscribe(b)})}var Ut=ne(1203);function bt(v,b){const y=(0,Pe.T)(v)?v:()=>v,C=x=>x.error(y());return new Ie.c(b?x=>b.schedule(C,0,x):C)}var ot=ne(983),Zt=ne(8359),Gn=ne(9974);function ni(){return(0,Gn.N)((v,b)=>{let y=null;v._refCount++;const C=(0,_t._)(b,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(y=null);const x=v._connection,Q=y;y=null,x&&(!Q||x===Q)&&x.unsubscribe(),b.unsubscribe()});v.subscribe(C),C.closed||(y=v.connect())})}class mt extends Ie.c{constructor(b,y){super(),this.source=b,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Gn.S)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new Zt.yU;const y=this.getSubject();b.add(this.source.subscribe((0,_t._)(y,void 0,()=>{this._teardown(),y.complete()},C=>{this._teardown(),y.error(C)},()=>this._teardown()))),b.closed&&(this._connection=null,b=Zt.yU.EMPTY)}return b}refCount(){return ni()(this)}}var be=ne(1413),qt=ne(177),wt=ne(6354),mn=ne(5558);function St(v){return v<=0?()=>ot.w:(0,Gn.N)((b,y)=>{let C=0;b.subscribe((0,_t._)(y,x=>{++C<=v&&(y.next(x),v<=C&&y.complete())}))})}function Me(v,b){return(0,Gn.N)((y,C)=>{let x=0;y.subscribe((0,_t._)(C,Q=>v.call(b,Q,x++)&&C.next(Q)))})}var le=ne(1397);function Y(v){return(0,Gn.N)((b,y)=>{let C=!1;b.subscribe((0,_t._)(y,x=>{C=!0,y.next(x)},()=>{C||y.next(v),y.complete()}))})}function ee(v=Ce){return(0,Gn.N)((b,y)=>{let C=!1;b.subscribe((0,_t._)(y,x=>{C=!0,y.next(x)},()=>C?y.complete():y.error(v())))})}function Ce(){return new qn}function Be(v,b){const y=arguments.length>=2;return C=>C.pipe(v?Me((x,Q)=>v(x,Q,C)):et.D,St(1),y?Y(b):ee(()=>new qn))}function ut(v,b){return(0,Pe.T)(b)?(0,le.Z)(v,b,1):(0,le.Z)(v,1)}var yt=ne(8141);function On(v){return(0,Gn.N)((b,y)=>{let Q,C=null,x=!1;C=b.subscribe((0,_t._)(y,void 0,void 0,ue=>{Q=(0,it.Tg)(v(ue,On(v)(b))),C?(C.unsubscribe(),C=null,Q.subscribe(y)):x=!0})),x&&(C.unsubscribe(),C=null,Q.subscribe(y))})}function Pn(v){return v<=0?()=>ot.w:(0,Gn.N)((b,y)=>{let C=[];b.subscribe((0,_t._)(y,x=>{C.push(x),v<C.length&&C.shift()},()=>{for(const x of C)y.next(x);y.complete()},void 0,()=>{C=null}))})}function Hr(v){return(0,Gn.N)((b,y)=>{try{b.subscribe(y)}finally{y.add(v)}})}var _r=ne(5343),ri=ne(345);const yn="primary",$n=Symbol("RouteTitle");class At{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y[0]:y}return null}getAll(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function jr(v){return new At(v)}function Lt(v,b,y){const C=y.path.split("/");if(C.length>v.length||"full"===y.pathMatch&&(b.hasChildren()||C.length<v.length))return null;const x={};for(let Q=0;Q<C.length;Q++){const ue=C[Q],$e=v[Q];if(ue.startsWith(":"))x[ue.substring(1)]=$e;else if(ue!==$e.path)return null}return{consumed:v.slice(0,C.length),posParams:x}}function Hn(v,b){const y=v?Object.keys(v):void 0,C=b?Object.keys(b):void 0;if(!y||!C||y.length!=C.length)return!1;let x;for(let Q=0;Q<y.length;Q++)if(x=y[Q],!It(v[x],b[x]))return!1;return!0}function It(v,b){if(Array.isArray(v)&&Array.isArray(b)){if(v.length!==b.length)return!1;const y=[...v].sort(),C=[...b].sort();return y.every((x,Q)=>C[Q]===x)}return v===b}function Ln(v){return v.length>0?v[v.length-1]:null}function yr(v){return function Ke(v){return!!v&&(v instanceof Ie.c||(0,Pe.T)(v.lift)&&(0,Pe.T)(v.subscribe))}(v)?v:(0,N.jNT)(v)?(0,se.H)(Promise.resolve(v)):(0,de.of)(v)}const vr={exact:function Vt(v,b,y){if(!_e(v.segments,b.segments)||!Tr(v.segments,b.segments,y)||v.numberOfChildren!==b.numberOfChildren)return!1;for(const C in b.children)if(!v.children[C]||!Vt(v.children[C],b.children[C],y))return!1;return!0},subset:xi},Gi={exact:function fi(v,b){return Hn(v,b)},subset:function _s(v,b){return Object.keys(b).length<=Object.keys(v).length&&Object.keys(b).every(y=>It(v[y],b[y]))},ignored:()=>!0};function Cn(v,b,y){return vr[y.paths](v.root,b.root,y.matrixParams)&&Gi[y.queryParams](v.queryParams,b.queryParams)&&!("exact"===y.fragment&&v.fragment!==b.fragment)}function xi(v,b,y){return or(v,b,b.segments,y)}function or(v,b,y,C){if(v.segments.length>y.length){const x=v.segments.slice(0,y.length);return!(!_e(x,y)||b.hasChildren()||!Tr(x,y,C))}if(v.segments.length===y.length){if(!_e(v.segments,y)||!Tr(v.segments,y,C))return!1;for(const x in b.children)if(!v.children[x]||!xi(v.children[x],b.children[x],C))return!1;return!0}{const x=y.slice(0,v.segments.length),Q=y.slice(v.segments.length);return!!(_e(v.segments,x)&&Tr(v.segments,x,C)&&v.children[yn])&&or(v.children[yn],b,Q,C)}}function Tr(v,b,y){return b.every((C,x)=>Gi[y](v[x].parameters,C.parameters))}class ar{constructor(b=new tn([],{}),y={},C=null){this.root=b,this.queryParams=y,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jr(this.queryParams)),this._queryParamMap}toString(){return Si.serialize(this)}}class tn{constructor(b,y){this.segments=b,this.children=y,this.parent=null,Object.values(y).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ye(this)}}class vi{constructor(b,y){this.path=b,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=jr(this.parameters)),this._parameterMap}toString(){return kt(this)}}function _e(v,b){return v.length===b.length&&v.every((y,C)=>y.path===b[C].path)}let xr=(()=>{class v{static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=N.jDH({token:v,factory:function(){return new ys},providedIn:"root"})}}return v})();class ys{parse(b){const y=new is(b);return new ar(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(b){const y=`/${W(b.root,!0)}`,C=function gn(v){const b=Object.keys(v).map(y=>{const C=v[y];return Array.isArray(C)?C.map(x=>`${K(y)}=${K(x)}`).join("&"):`${K(y)}=${K(C)}`}).filter(y=>!!y);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${y}${C}${"string"==typeof b.fragment?`#${function fe(v){return encodeURI(v)}(b.fragment)}`:""}`}}const Si=new ys;function Ye(v){return v.segments.map(b=>kt(b)).join("/")}function W(v,b){if(!v.hasChildren())return Ye(v);if(b){const y=v.children[yn]?W(v.children[yn],!1):"",C=[];return Object.entries(v.children).forEach(([x,Q])=>{x!==yn&&C.push(`${x}:${W(Q,!1)}`)}),C.length>0?`${y}(${C.join("//")})`:y}{const y=function wr(v,b){let y=[];return Object.entries(v.children).forEach(([C,x])=>{C===yn&&(y=y.concat(b(x,C)))}),Object.entries(v.children).forEach(([C,x])=>{C!==yn&&(y=y.concat(b(x,C)))}),y}(v,(C,x)=>x===yn?[W(v.children[yn],!1)]:[`${x}:${W(C,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[yn]?`${Ye(v)}/${y[0]}`:`${Ye(v)}/(${y.join("//")})`}}function V(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function K(v){return V(v).replace(/%3B/gi,";")}function me(v){return V(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tt(v){return decodeURIComponent(v)}function Pt(v){return tt(v.replace(/\+/g,"%20"))}function kt(v){return`${me(v.path)}${function sn(v){return Object.keys(v).map(b=>`;${me(b)}=${me(v[b])}`).join("")}(v.parameters)}`}const Rr=/^[^\/()?;#]+/;function an(v){const b=v.match(Rr);return b?b[0]:""}const Gr=/^[^\/()?;=#]+/,ci=/^[^=?&#]+/,ki=/^[^&#]+/;class is{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(b.length>0||Object.keys(y).length>0)&&(C[yn]=new tn(b,y)),C}parseSegment(){const b=an(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new N.wOt(4009,!1);return this.capture(b),new vi(tt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const y=function kr(v){const b=v.match(Gr);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let C="";if(this.consumeOptional("=")){const x=an(this.remaining);x&&(C=x,this.capture(C))}b[tt(y)]=tt(C)}parseQueryParam(b){const y=function Ci(v){const b=v.match(ci);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let C="";if(this.consumeOptional("=")){const ue=function Er(v){const b=v.match(ki);return b?b[0]:""}(this.remaining);ue&&(C=ue,this.capture(C))}const x=Pt(y),Q=Pt(C);if(b.hasOwnProperty(x)){let ue=b[x];Array.isArray(ue)||(ue=[ue],b[x]=ue),ue.push(Q)}else b[x]=Q}parseParens(b){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=an(this.remaining),x=this.remaining[C.length];if("/"!==x&&")"!==x&&";"!==x)throw new N.wOt(4010,!1);let Q;C.indexOf(":")>-1?(Q=C.slice(0,C.indexOf(":")),this.capture(Q),this.capture(":")):b&&(Q=yn);const ue=this.parseChildren();y[Q]=1===Object.keys(ue).length?ue[yn]:new tn([],ue),this.consumeOptional("//")}return y}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new N.wOt(4011,!1)}}function Wn(v){return v.segments.length>0?new tn([],{[yn]:v}):v}function vs(v){const b={};for(const C of Object.keys(v.children)){const Q=vs(v.children[C]);if(C===yn&&0===Q.segments.length&&Q.hasChildren())for(const[ue,$e]of Object.entries(Q.children))b[ue]=$e;else(Q.segments.length>0||Q.hasChildren())&&(b[C]=Q)}return function Ge(v){if(1===v.numberOfChildren&&v.children[yn]){const b=v.children[yn];return new tn(v.segments.concat(b.segments),b.children)}return v}(new tn(v.segments,b))}function Re(v){return v instanceof ar}function Mt(v){let b;const x=Wn(function y(Q){const ue={};for(const Ue of Q.children){const Ft=y(Ue);ue[Ue.outlet]=Ft}const $e=new tn(Q.url,ue);return Q===v&&(b=$e),$e}(v.root));return b??x}function dn(v,b,y,C){let x=v;for(;x.parent;)x=x.parent;if(0===b.length)return nr(x,x,x,y,C);const Q=function Fr(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new rn(!0,0,v);let b=0,y=!1;const C=v.reduce((x,Q,ue)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const $e={};return Object.entries(Q.outlets).forEach(([Ue,Ft])=>{$e[Ue]="string"==typeof Ft?Ft.split("/"):Ft}),[...x,{outlets:$e}]}if(Q.segmentPath)return[...x,Q.segmentPath]}return"string"!=typeof Q?[...x,Q]:0===ue?(Q.split("/").forEach(($e,Ue)=>{0==Ue&&"."===$e||(0==Ue&&""===$e?y=!0:".."===$e?b++:""!=$e&&x.push($e))}),x):[...x,Q]},[]);return new rn(y,b,C)}(b);if(Q.toRoot())return nr(x,x,new tn([],{}),y,C);const ue=function Yo(v,b,y){if(v.isAbsolute)return new Es(b,!0,0);if(!y)return new Es(b,!1,NaN);if(null===y.parent)return new Es(y,!0,0);const C=nn(v.commands[0])?0:1;return function Pr(v,b,y){let C=v,x=b,Q=y;for(;Q>x;){if(Q-=x,C=C.parent,!C)throw new N.wOt(4005,!1);x=C.segments.length}return new Es(C,!1,x-Q)}(y,y.segments.length-1+C,v.numberOfDoubleDots)}(Q,x,v),$e=ue.processChildren?Ss(ue.segmentGroup,ue.index,Q.commands):os(ue.segmentGroup,ue.index,Q.commands);return nr(x,ue.segmentGroup,$e,y,C)}function nn(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function wn(v){return"object"==typeof v&&null!=v&&v.outlets}function nr(v,b,y,C,x){let ue,Q={};C&&Object.entries(C).forEach(([Ue,Ft])=>{Q[Ue]=Array.isArray(Ft)?Ft.map(In=>`${In}`):`${Ft}`}),ue=v===b?y:Zn(v,b,y);const $e=Wn(vs(ue));return new ar($e,Q,x)}function Zn(v,b,y){const C={};return Object.entries(v.children).forEach(([x,Q])=>{C[x]=Q===b?y:Zn(Q,b,y)}),new tn(v.segments,C)}class rn{constructor(b,y,C){if(this.isAbsolute=b,this.numberOfDoubleDots=y,this.commands=C,b&&C.length>0&&nn(C[0]))throw new N.wOt(4003,!1);const x=C.find(wn);if(x&&x!==Ln(C))throw new N.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Es{constructor(b,y,C){this.segmentGroup=b,this.processChildren=y,this.index=C}}function os(v,b,y){if(v||(v=new tn([],{})),0===v.segments.length&&v.hasChildren())return Ss(v,b,y);const C=function li(v,b,y){let C=0,x=b;const Q={match:!1,pathIndex:0,commandIndex:0};for(;x<v.segments.length;){if(C>=y.length)return Q;const ue=v.segments[x],$e=y[C];if(wn($e))break;const Ue=`${$e}`,Ft=C<y.length-1?y[C+1]:null;if(x>0&&void 0===Ue)break;if(Ue&&Ft&&"object"==typeof Ft&&void 0===Ft.outlets){if(!Yi(Ue,Ft,ue))return Q;C+=2}else{if(!Yi(Ue,{},ue))return Q;C++}x++}return{match:!0,pathIndex:x,commandIndex:C}}(v,b,y),x=y.slice(C.commandIndex);if(C.match&&C.pathIndex<v.segments.length){const Q=new tn(v.segments.slice(0,C.pathIndex),{});return Q.children[yn]=new tn(v.segments.slice(C.pathIndex),v.children),Ss(Q,0,x)}return C.match&&0===x.length?new tn(v.segments,{}):C.match&&!v.hasChildren()?yo(v,b,y):C.match?Ss(v,0,x):yo(v,b,y)}function Ss(v,b,y){if(0===y.length)return new tn(v.segments,{});{const C=function ss(v){return wn(v[0])?v[0].outlets:{[yn]:v}}(y),x={};if(Object.keys(C).some(Q=>Q!==yn)&&v.children[yn]&&1===v.numberOfChildren&&0===v.children[yn].segments.length){const Q=Ss(v.children[yn],b,y);return new tn(v.segments,Q.children)}return Object.entries(C).forEach(([Q,ue])=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(x[Q]=os(v.children[Q],b,ue))}),Object.entries(v.children).forEach(([Q,ue])=>{void 0===C[Q]&&(x[Q]=ue)}),new tn(v.segments,x)}}function yo(v,b,y){const C=v.segments.slice(0,b);let x=0;for(;x<y.length;){const Q=y[x];if(wn(Q)){const Ue=Po(Q.outlets);return new tn(C,Ue)}if(0===x&&nn(y[0])){C.push(new vi(v.segments[b].path,ii(y[0]))),x++;continue}const ue=wn(Q)?Q.outlets[yn]:`${Q}`,$e=x<y.length-1?y[x+1]:null;ue&&$e&&nn($e)?(C.push(new vi(ue,ii($e))),x+=2):(C.push(new vi(ue,{})),x++)}return new tn(C,{})}function Po(v){const b={};return Object.entries(v).forEach(([y,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(b[y]=yo(new tn([],{}),0,C))}),b}function ii(v){const b={};return Object.entries(v).forEach(([y,C])=>b[y]=`${C}`),b}function Yi(v,b,y){return v==y.path&&Hn(b,y.parameters)}const Fi="imperative";class pi{constructor(b,y){this.id=b,this.url=y}}class io extends pi{constructor(b,y,C="imperative",x=null){super(b,y),this.type=0,this.navigationTrigger=C,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rr extends pi{constructor(b,y,C){super(b,y),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zr extends pi{constructor(b,y,C,x){super(b,y),this.reason=C,this.code=x,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mr extends pi{constructor(b,y,C,x){super(b,y),this.reason=C,this.code=x,this.type=16}}class Mn extends pi{constructor(b,y,C,x){super(b,y),this.error=C,this.target=x,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vo extends pi{constructor(b,y,C,x){super(b,y),this.urlAfterRedirects=C,this.state=x,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Is extends pi{constructor(b,y,C,x){super(b,y),this.urlAfterRedirects=C,this.state=x,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ri extends pi{constructor(b,y,C,x,Q){super(b,y),this.urlAfterRedirects=C,this.state=x,this.shouldActivate=Q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Uo extends pi{constructor(b,y,C,x){super(b,y),this.urlAfterRedirects=C,this.state=x,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Va extends pi{constructor(b,y,C,x){super(b,y),this.urlAfterRedirects=C,this.state=x,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mo{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zi{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wi{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(b,y,C){this.routerEvent=b,this.position=y,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ys{}class oo{constructor(b){this.url=b}}class Ji{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qi,this.attachRef=null}}let qi=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(y,C){const x=this.getOrCreateContext(y);x.outlet=C,this.contexts.set(y,x)}onChildOutletDestroyed(y){const C=this.getContext(y);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let C=this.getContext(y);return C||(C=new Ji,this.contexts.set(y,C)),C}getContext(y){return this.contexts.get(y)||null}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=N.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();class Pi{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const y=this.pathFromRoot(b);return y.length>1?y[y.length-2]:null}children(b){const y=Ei(b,this._root);return y?y.children.map(C=>C.value):[]}firstChild(b){const y=Ei(b,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(b){const y=Vn(b,this._root);return y.length<2?[]:y[y.length-2].children.map(x=>x.value).filter(x=>x!==b)}pathFromRoot(b){return Vn(b,this._root).map(y=>y.value)}}function Ei(v,b){if(v===b.value)return b;for(const y of b.children){const C=Ei(v,y);if(C)return C}return null}function Vn(v,b){if(v===b.value)return[b];for(const y of b.children){const C=Vn(v,y);if(C.length)return C.unshift(b),C}return[]}class Qn{constructor(b,y){this.value=b,this.children=y}toString(){return`TreeNode(${this.value})`}}function $r(v){const b={};return v&&v.children.forEach(y=>b[y.value.outlet]=y),b}class Us extends Pi{constructor(b,y){super(b),this.snapshot=y,jt(this,b)}toString(){return this.snapshot.toString()}}function Xr(v,b){const y=function va(v,b){const ue=new Cs([],{},{},"",{},yn,b,null,{});return new Nr("",new Qn(ue,[]))}(0,b),C=new Ve.t([new vi("",{})]),x=new Ve.t({}),Q=new Ve.t({}),ue=new Ve.t({}),$e=new Ve.t(""),Ue=new as(C,x,ue,$e,Q,yn,b,y.root);return Ue.snapshot=y.root,new Us(new Qn(Ue,[]),y)}class as{constructor(b,y,C,x,Q,ue,$e,Ue){this.urlSubject=b,this.paramsSubject=y,this.queryParamsSubject=C,this.fragmentSubject=x,this.dataSubject=Q,this.outlet=ue,this.component=$e,this._futureSnapshot=Ue,this.title=this.dataSubject?.pipe((0,wt.T)(Ft=>Ft[$n]))??(0,de.of)(void 0),this.url=b,this.params=y,this.queryParams=C,this.fragment=x,this.data=Q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.T)(b=>jr(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.T)(b=>jr(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function us(v,b="emptyOnly"){const y=v.pathFromRoot;let C=0;if("always"!==b)for(C=y.length-1;C>=1;){const x=y[C],Q=y[C-1];if(x.routeConfig&&""===x.routeConfig.path)C--;else{if(Q.component)break;C--}}return function ao(v){return v.reduce((b,y)=>({params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(C))}class Cs{get title(){return this.data?.[$n]}constructor(b,y,C,x,Q,ue,$e,Ue,Ft){this.url=b,this.params=y,this.queryParams=C,this.fragment=x,this.data=Q,this.outlet=ue,this.component=$e,this.routeConfig=Ue,this._resolve=Ft}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nr extends Pi{constructor(b,y){super(y),this.url=b,jt(this,y)}toString(){return vn(this._root)}}function jt(v,b){b.value._routerState=v,b.children.forEach(y=>jt(v,y))}function vn(v){const b=v.children.length>0?` { ${v.children.map(vn).join(", ")} } `:"";return`${v.value}${b}`}function br(v){if(v.snapshot){const b=v.snapshot,y=v._futureSnapshot;v.snapshot=y,Hn(b.queryParams,y.queryParams)||v.queryParamsSubject.next(y.queryParams),b.fragment!==y.fragment&&v.fragmentSubject.next(y.fragment),Hn(b.params,y.params)||v.paramsSubject.next(y.params),function Dn(v,b){if(v.length!==b.length)return!1;for(let y=0;y<v.length;++y)if(!Hn(v[y],b[y]))return!1;return!0}(b.url,y.url)||v.urlSubject.next(y.url),Hn(b.data,y.data)||v.dataSubject.next(y.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function Ii(v,b){const y=Hn(v.params,b.params)&&function rs(v,b){return _e(v,b)&&v.every((y,C)=>Hn(y.parameters,b[C].parameters))}(v.url,b.url);return y&&!(!v.parent!=!b.parent)&&(!v.parent||Ii(v.parent,b.parent))}let Bs=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new N.bkB,this.deactivateEvents=new N.bkB,this.attachEvents=new N.bkB,this.detachEvents=new N.bkB,this.parentContexts=(0,N.WQX)(qi),this.location=(0,N.WQX)(N.c1b),this.changeDetector=(0,N.WQX)(N.gRc),this.environmentInjector=(0,N.WQX)(N.uvJ),this.inputBinder=(0,N.WQX)(cs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:C,previousValue:x}=y.name;if(C)return;this.isTrackedInParentContexts(x)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(x)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N.wOt(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,C){this.activated=y,this._activatedRoute=C,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,C){if(this.isActivated)throw new N.wOt(4013,!1);this._activatedRoute=y;const x=this.location,ue=y.snapshot.component,$e=this.parentContexts.getOrCreateContext(this.name).children,Ue=new Lr(y,$e,x.injector);this.activated=x.createComponent(ue,{index:x.length,injector:Ue,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275dir=N.FsC({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[N.OA$]})}}return v})();class Lr{constructor(b,y,C){this.route=b,this.childContexts=y,this.parent=C}get(b,y){return b===as?this.route:b===qi?this.childContexts:this.parent.get(b,y)}}const cs=new N.nKC("");let Or=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:C}=y,x=vt([C.queryParams,C.params,C.data]).pipe((0,mn.n)(([Q,ue,$e],Ue)=>($e={...Q,...ue,...$e},0===Ue?(0,de.of)($e):Promise.resolve($e)))).subscribe(Q=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(y);const ue=(0,N.HJs)(C.component);if(ue)for(const{templateName:$e}of ue.inputs)y.activatedComponentRef.setInput($e,Q[$e]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,x)}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=N.jDH({token:v,factory:v.\u0275fac})}}return v})();function ls(v,b,y){if(y&&v.shouldReuseRoute(b.value,y.value.snapshot)){const C=y.value;C._futureSnapshot=b.value;const x=function Yt(v,b,y){return b.children.map(C=>{for(const x of y.children)if(v.shouldReuseRoute(C.value,x.value.snapshot))return ls(v,C,x);return ls(v,C)})}(v,b,y);return new Qn(C,x)}{if(v.shouldAttach(b.value)){const Q=v.retrieve(b.value);if(null!==Q){const ue=Q.route;return ue.value._futureSnapshot=b.value,ue.children=b.children.map($e=>ls(v,$e)),ue}}const C=function ws(v){return new as(new Ve.t(v.url),new Ve.t(v.params),new Ve.t(v.queryParams),new Ve.t(v.fragment),new Ve.t(v.data),v.outlet,v.component,v)}(b.value),x=b.children.map(Q=>ls(v,Q));return new Qn(C,x)}}const hr="ngNavigationCancelingError";function ji(v,b){const{redirectTo:y,navigationBehaviorOptions:C}=Re(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,x=Vr(!1,0,b);return x.url=y,x.navigationBehaviorOptions=C,x}function Vr(v,b,y){const C=new Error("NavigationCancelingError: "+(v||""));return C[hr]=!0,C.cancellationCode=b,y&&(C.url=y),C}function $i(v){return v&&v[hr]}let Hi=(()=>{class v{static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275cmp=N.VBU({type:v,selectors:[["ng-component"]],standalone:!0,features:[N.aNF],decls:1,vars:0,template:function(C,x){1&C&&N.nrm(0,"router-outlet")},dependencies:[Bs],encapsulation:2})}}return v})();function Zo(v){const b=v.children&&v.children.map(Zo),y=b?{...v,children:b}:{...v};return!y.component&&!y.loadComponent&&(b||y.loadChildren)&&y.outlet&&y.outlet!==yn&&(y.component=Hi),y}function Wr(v){return v.outlet||yn}function ds(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let b=v.parent;b;b=b.parent){const y=b.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class es{constructor(b,y,C,x,Q){this.routeReuseStrategy=b,this.futureState=y,this.currState=C,this.forwardEvent=x,this.inputBindingEnabled=Q}activate(b){const y=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,C,b),br(this.futureState.root),this.activateChildRoutes(y,C,b)}deactivateChildRoutes(b,y,C){const x=$r(y);b.children.forEach(Q=>{const ue=Q.value.outlet;this.deactivateRoutes(Q,x[ue],C),delete x[ue]}),Object.values(x).forEach(Q=>{this.deactivateRouteAndItsChildren(Q,C)})}deactivateRoutes(b,y,C){const x=b.value,Q=y?y.value:null;if(x===Q)if(x.component){const ue=C.getContext(x.outlet);ue&&this.deactivateChildRoutes(b,y,ue.children)}else this.deactivateChildRoutes(b,y,C);else Q&&this.deactivateRouteAndItsChildren(y,C)}deactivateRouteAndItsChildren(b,y){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,y):this.deactivateRouteAndOutlet(b,y)}detachAndStoreRouteSubtree(b,y){const C=y.getContext(b.value.outlet),x=C&&b.value.component?C.children:y,Q=$r(b);for(const ue of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[ue],x);if(C&&C.outlet){const ue=C.outlet.detach(),$e=C.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:ue,route:b,contexts:$e})}}deactivateRouteAndOutlet(b,y){const C=y.getContext(b.value.outlet),x=C&&b.value.component?C.children:y,Q=$r(b);for(const ue of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[ue],x);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(b,y,C){const x=$r(y);b.children.forEach(Q=>{this.activateRoutes(Q,x[Q.value.outlet],C),this.forwardEvent(new so(Q.value.snapshot))}),b.children.length&&this.forwardEvent(new Dr(b.value.snapshot))}activateRoutes(b,y,C){const x=b.value,Q=y?y.value:null;if(br(x),x===Q)if(x.component){const ue=C.getOrCreateContext(x.outlet);this.activateChildRoutes(b,y,ue.children)}else this.activateChildRoutes(b,y,C);else if(x.component){const ue=C.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const $e=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),ue.children.onOutletReAttached($e.contexts),ue.attachRef=$e.componentRef,ue.route=$e.route.value,ue.outlet&&ue.outlet.attach($e.componentRef,$e.route.value),br($e.route.value),this.activateChildRoutes(b,null,ue.children)}else{const $e=ds(x.snapshot);ue.attachRef=null,ue.route=x,ue.injector=$e,ue.outlet&&ue.outlet.activateWith(x,ue.injector),this.activateChildRoutes(b,null,ue.children)}}else this.activateChildRoutes(b,null,C)}}class di{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class B{constructor(b,y){this.component=b,this.route=y}}function $(v,b,y){const C=v._root;return Se(C,b?b._root:null,y,[C.value])}function ce(v,b){const y=Symbol(),C=b.get(v,y);return C===y?"function"!=typeof v||(0,N.LfX)(v)?b.get(v):v:C}function Se(v,b,y,C,x={canDeactivateChecks:[],canActivateChecks:[]}){const Q=$r(b);return v.children.forEach(ue=>{(function Qe(v,b,y,C,x={canDeactivateChecks:[],canActivateChecks:[]}){const Q=v.value,ue=b?b.value:null,$e=y?y.getContext(v.value.outlet):null;if(ue&&Q.routeConfig===ue.routeConfig){const Ue=function Dt(v,b,y){if("function"==typeof y)return y(v,b);switch(y){case"pathParamsChange":return!_e(v.url,b.url);case"pathParamsOrQueryParamsChange":return!_e(v.url,b.url)||!Hn(v.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ii(v,b)||!Hn(v.queryParams,b.queryParams);default:return!Ii(v,b)}}(ue,Q,Q.routeConfig.runGuardsAndResolvers);Ue?x.canActivateChecks.push(new di(C)):(Q.data=ue.data,Q._resolvedData=ue._resolvedData),Se(v,b,Q.component?$e?$e.children:null:y,C,x),Ue&&$e&&$e.outlet&&$e.outlet.isActivated&&x.canDeactivateChecks.push(new B($e.outlet.component,ue))}else ue&&Kt(b,$e,x),x.canActivateChecks.push(new di(C)),Se(v,null,Q.component?$e?$e.children:null:y,C,x)})(ue,Q[ue.value.outlet],y,C.concat([ue.value]),x),delete Q[ue.value.outlet]}),Object.entries(Q).forEach(([ue,$e])=>Kt($e,y.getContext(ue),x)),x}function Kt(v,b,y){const C=$r(v),x=v.value;Object.entries(C).forEach(([Q,ue])=>{Kt(ue,x.component?b?b.children.getContext(Q):null:b,y)}),y.canDeactivateChecks.push(new B(x.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,x))}function Gt(v){return"function"==typeof v}function zi(v){return v instanceof qn||"EmptyError"===v?.name}const wi=Symbol("INITIAL_VALUE");function Sr(){return(0,mn.n)(v=>vt(v.map(b=>b.pipe(St(1),function Ot(...v){const b=(0,Ee.lI)(v);return(0,Gn.N)((y,C)=>{(b?pt(v,y,b):pt(v,y)).subscribe(C)})}(wi)))).pipe((0,wt.T)(b=>{for(const y of b)if(!0!==y){if(y===wi)return wi;if(!1===y||y instanceof ar)return y}return!0}),Me(b=>b!==wi),St(1)))}function fs(v){return(0,Ut.F)((0,yt.M)(b=>{if(Re(b))throw ji(0,b)}),(0,wt.T)(b=>!0===b))}class ta{constructor(b){this.segmentGroup=b||null}}class Zr{constructor(b){this.urlTree=b}}function Hs(v){return bt(new ta(v))}function Jr(v){return bt(new Zr(v))}class Ja{constructor(b,y){this.urlSerializer=b,this.urlTree=y}noMatchError(b){return new N.wOt(4002,!1)}lineralizeSegments(b,y){let C=[],x=y.root;for(;;){if(C=C.concat(x.segments),0===x.numberOfChildren)return(0,de.of)(C);if(x.numberOfChildren>1||!x.children[yn])return bt(new N.wOt(4e3,!1));x=x.children[yn]}}applyRedirectCommands(b,y,C){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),b,C)}applyRedirectCreateUrlTree(b,y,C,x){const Q=this.createSegmentGroup(b,y.root,C,x);return new ar(Q,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(b,y){const C={};return Object.entries(b).forEach(([x,Q])=>{if("string"==typeof Q&&Q.startsWith(":")){const $e=Q.substring(1);C[x]=y[$e]}else C[x]=Q}),C}createSegmentGroup(b,y,C,x){const Q=this.createSegments(b,y.segments,C,x);let ue={};return Object.entries(y.children).forEach(([$e,Ue])=>{ue[$e]=this.createSegmentGroup(b,Ue,C,x)}),new tn(Q,ue)}createSegments(b,y,C,x){return y.map(Q=>Q.path.startsWith(":")?this.findPosParam(b,Q,x):this.findOrReturn(Q,C))}findPosParam(b,y,C){const x=C[y.path.substring(1)];if(!x)throw new N.wOt(4001,!1);return x}findOrReturn(b,y){let C=0;for(const x of y){if(x.path===b.path)return y.splice(C),x;C++}return b}}const Eo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Un(v,b,y,C,x){const Q=z(v,b,y);return Q.matched?(C=function js(v,b){return v.providers&&!v._injector&&(v._injector=(0,N.Ol2)(v.providers,b,`Route: ${v.path}`)),v._injector??b}(b,C),function ts(v,b,y,C){const x=b.canMatch;if(!x||0===x.length)return(0,de.of)(!0);const Q=x.map(ue=>{const $e=ce(ue,v);return yr(function oi(v){return v&&Gt(v.canMatch)}($e)?$e.canMatch(b,y):v.runInContext(()=>$e(b,y)))});return(0,de.of)(Q).pipe(Sr(),fs())}(C,b,y).pipe((0,wt.T)(ue=>!0===ue?Q:{...Eo}))):(0,de.of)(Q)}function z(v,b,y){if(""===b.path)return"full"===b.pathMatch&&(v.hasChildren()||y.length>0)?{...Eo}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const x=(b.matcher||Lt)(y,v,b);if(!x)return{...Eo};const Q={};Object.entries(x.posParams??{}).forEach(([$e,Ue])=>{Q[$e]=Ue.path});const ue=x.consumed.length>0?{...Q,...x.consumed[x.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:x.consumed,remainingSegments:y.slice(x.consumed.length),parameters:ue,positionalParamSegments:x.posParams??{}}}function _(v,b,y,C){return y.length>0&&function G(v,b,y){return y.some(C=>ge(v,b,C)&&Wr(C)!==yn)}(v,y,C)?{segmentGroup:new tn(b,O(C,new tn(y,v.children))),slicedSegments:[]}:0===y.length&&function J(v,b,y){return y.some(C=>ge(v,b,C))}(v,y,C)?{segmentGroup:new tn(v.segments,T(v,0,y,C,v.children)),slicedSegments:y}:{segmentGroup:new tn(v.segments,v.children),slicedSegments:y}}function T(v,b,y,C,x){const Q={};for(const ue of C)if(ge(v,y,ue)&&!x[Wr(ue)]){const $e=new tn([],{});Q[Wr(ue)]=$e}return{...x,...Q}}function O(v,b){const y={};y[yn]=b;for(const C of v)if(""===C.path&&Wr(C)!==yn){const x=new tn([],{});y[Wr(C)]=x}return y}function ge(v,b,y){return(!(v.hasChildren()||b.length>0)||"full"!==y.pathMatch)&&""===y.path}class Nt{constructor(b,y,C,x,Q,ue,$e){this.injector=b,this.configLoader=y,this.rootComponentType=C,this.config=x,this.urlTree=Q,this.paramsInheritanceStrategy=ue,this.urlSerializer=$e,this.allowRedirects=!0,this.applyRedirects=new Ja(this.urlSerializer,this.urlTree)}noMatchError(b){return new N.wOt(4002,!1)}recognize(){const b=_(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,yn).pipe(On(y=>{if(y instanceof Zr)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof ta?this.noMatchError(y):y}),(0,wt.T)(y=>{const C=new Cs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,{}),x=new Qn(C,y),Q=new Nr("",x),ue=function nt(v,b,y=null,C=null){return dn(Mt(v),b,y,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return ue.queryParams=this.urlTree.queryParams,Q.url=this.urlSerializer.serialize(ue),this.inheritParamsAndData(Q._root),{state:Q,tree:ue}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,yn).pipe(On(C=>{throw C instanceof ta?this.noMatchError(C):C}))}inheritParamsAndData(b){const y=b.value,C=us(y,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data),b.children.forEach(x=>this.inheritParamsAndData(x))}processSegmentGroup(b,y,C,x){return 0===C.segments.length&&C.hasChildren()?this.processChildren(b,y,C):this.processSegment(b,y,C,C.segments,x,!0)}processChildren(b,y,C){const x=[];for(const Q of Object.keys(C.children))"primary"===Q?x.unshift(Q):x.push(Q);return(0,se.H)(x).pipe(ut(Q=>{const ue=C.children[Q],$e=function Jo(v,b){const y=v.filter(C=>Wr(C)===b);return y.push(...v.filter(C=>Wr(C)!==b)),y}(y,Q);return this.processSegmentGroup(b,$e,ue,Q)}),function Yn(v,b){return(0,Gn.N)(function on(v,b,y,C,x){return(Q,ue)=>{let $e=y,Ue=b,Ft=0;Q.subscribe((0,_t._)(ue,In=>{const fr=Ft++;Ue=$e?v(Ue,In,fr):($e=!0,In),C&&ue.next(Ue)},x&&(()=>{$e&&ue.next(Ue),ue.complete()})))}}(v,b,arguments.length>=2,!0))}((Q,ue)=>(Q.push(...ue),Q)),Y(null),function Bi(v,b){const y=arguments.length>=2;return C=>C.pipe(v?Me((x,Q)=>v(x,Q,C)):et.D,Pn(1),y?Y(b):ee(()=>new qn))}(),(0,le.Z)(Q=>{if(null===Q)return Hs(C);const ue=H(Q);return function Qt(v){v.sort((b,y)=>b.value.outlet===yn?-1:y.value.outlet===yn?1:b.value.outlet.localeCompare(y.value.outlet))}(ue),(0,de.of)(ue)}))}processSegment(b,y,C,x,Q,ue){return(0,se.H)(y).pipe(ut($e=>this.processSegmentAgainstRoute($e._injector??b,y,$e,C,x,Q,ue).pipe(On(Ue=>{if(Ue instanceof ta)return(0,de.of)(null);throw Ue}))),Be($e=>!!$e),On($e=>{if(zi($e))return function je(v,b,y){return 0===b.length&&!v.children[y]}(C,x,Q)?(0,de.of)([]):Hs(C);throw $e}))}processSegmentAgainstRoute(b,y,C,x,Q,ue,$e){return function ve(v,b,y,C){return!!(Wr(v)===C||C!==yn&&ge(b,y,v))&&("**"===v.path||z(b,v,y).matched)}(C,x,Q,ue)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(b,x,C,Q,ue,$e):$e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,x,y,C,Q,ue):Hs(x):Hs(x)}expandSegmentAgainstRouteUsingRedirect(b,y,C,x,Q,ue){return"**"===x.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,C,x,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(b,y,C,x,Q,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,y,C,x){const Q=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Jr(Q):this.applyRedirects.lineralizeSegments(C,Q).pipe((0,le.Z)(ue=>{const $e=new tn(ue,{});return this.processSegment(b,y,$e,ue,x,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,y,C,x,Q,ue){const{matched:$e,consumedSegments:Ue,remainingSegments:Ft,positionalParamSegments:In}=z(y,x,Q);if(!$e)return Hs(y);const fr=this.applyRedirects.applyRedirectCommands(Ue,x.redirectTo,In);return x.redirectTo.startsWith("/")?Jr(fr):this.applyRedirects.lineralizeSegments(x,fr).pipe((0,le.Z)(dr=>this.processSegment(b,C,y,dr.concat(Ft),ue,!1)))}matchSegmentAgainstRoute(b,y,C,x,Q,ue){let $e;if("**"===C.path){const Ue=x.length>0?Ln(x).parameters:{},Ft=new Cs(x,Ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(C),Wr(C),C.component??C._loadedComponent??null,C,ie(C));$e=(0,de.of)({snapshot:Ft,consumedSegments:[],remainingSegments:[]}),y.children={}}else $e=Un(y,C,x,b).pipe((0,wt.T)(({matched:Ue,consumedSegments:Ft,remainingSegments:In,parameters:fr})=>Ue?{snapshot:new Cs(Ft,fr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(C),Wr(C),C.component??C._loadedComponent??null,C,ie(C)),consumedSegments:Ft,remainingSegments:In}:null));return $e.pipe((0,mn.n)(Ue=>null===Ue?Hs(y):this.getChildConfig(b=C._injector??b,C,x).pipe((0,mn.n)(({routes:Ft})=>{const In=C._loadedInjector??b,{snapshot:fr,consumedSegments:dr,remainingSegments:To}=Ue,{segmentGroup:ia,slicedSegments:zo}=_(y,dr,To,Ft);if(0===zo.length&&ia.hasChildren())return this.processChildren(In,Ft,ia).pipe((0,wt.T)(Aa=>null===Aa?null:[new Qn(fr,Aa)]));if(0===Ft.length&&0===zo.length)return(0,de.of)([new Qn(fr,[])]);const ou=Wr(C)===Q;return this.processSegment(In,Ft,ia,zo,ou?yn:Q,!0).pipe((0,wt.T)(Aa=>[new Qn(fr,Aa)]))}))))}getChildConfig(b,y,C){return y.children?(0,de.of)({routes:y.children,injector:b}):y.loadChildren?void 0!==y._loadedRoutes?(0,de.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Mi(v,b,y,C){const x=b.canLoad;if(void 0===x||0===x.length)return(0,de.of)(!0);const Q=x.map(ue=>{const $e=ce(ue,v);return yr(function xn(v){return v&&Gt(v.canLoad)}($e)?$e.canLoad(b,y):v.runInContext(()=>$e(b,y)))});return(0,de.of)(Q).pipe(Sr(),fs())}(b,y,C).pipe((0,le.Z)(x=>x?this.configLoader.loadChildren(b,y).pipe((0,yt.M)(Q=>{y._loadedRoutes=Q.routes,y._loadedInjector=Q.injector})):function eo(v){return bt(Vr(!1,3))}())):(0,de.of)({routes:[],injector:b})}}function w(v){const b=v.value.routeConfig;return b&&""===b.path}function H(v){const b=[],y=new Set;for(const C of v){if(!w(C)){b.push(C);continue}const x=b.find(Q=>C.value.routeConfig===Q.value.routeConfig);void 0!==x?(x.children.push(...C.children),y.add(x)):b.push(C)}for(const C of y){const x=H(C.children);b.push(new Qn(C.value,x))}return b.filter(C=>!y.has(C))}function F(v){return v.data||{}}function ie(v){return v.resolve||{}}function cn(v){return"string"==typeof v.title||null===v.title}function cr(v){return(0,mn.n)(b=>{const y=v(b);return y?(0,se.H)(y).pipe((0,wt.T)(()=>b)):(0,de.of)(b)})}const Bn=new N.nKC("ROUTES");let Br=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,N.WQX)(N.Ql9)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,de.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const C=yr(y.loadComponent()).pipe((0,wt.T)(hi),(0,yt.M)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=Q}),Hr(()=>{this.componentLoaders.delete(y)})),x=new mt(C,()=>new be.B).pipe(ni());return this.componentLoaders.set(y,x),x}loadChildren(y,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,de.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const Q=function Ps(v,b,y,C){return yr(v.loadChildren()).pipe((0,wt.T)(hi),(0,le.Z)(x=>x instanceof N.Co$||Array.isArray(x)?(0,de.of)(x):(0,se.H)(b.compileModuleAsync(x))),(0,wt.T)(x=>{C&&C(v);let Q,ue,$e=!1;return Array.isArray(x)?(ue=x,!0):(Q=x.create(y).injector,ue=Q.get(Bn,[],{optional:!0,self:!0}).flat()),{routes:ue.map(Zo),injector:Q}}))}(C,this.compiler,y,this.onLoadEndListener).pipe(Hr(()=>{this.childrenLoaders.delete(C)})),ue=new mt(Q,()=>new be.B).pipe(ni());return this.childrenLoaders.set(C,ue),ue}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=N.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();function hi(v){return function _i(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let ai=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new be.B,this.transitionAbortSubject=new be.B,this.configLoader=(0,N.WQX)(Br),this.environmentInjector=(0,N.WQX)(N.uvJ),this.urlSerializer=(0,N.WQX)(xr),this.rootContexts=(0,N.WQX)(qi),this.inputBindingEnabled=null!==(0,N.WQX)(cs,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,de.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=x=>this.events.next(new Mo(x)),this.configLoader.onLoadStartListener=x=>this.events.next(new Ar(x))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:C})}setupNavigations(y,C,x){return this.transitions=new Ve.t({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:y.urlHandlingStrategy.extract(C),urlAfterRedirects:y.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fi,restoredState:null,currentSnapshot:x.snapshot,targetSnapshot:null,currentRouterState:x,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Me(Q=>0!==Q.id),(0,wt.T)(Q=>({...Q,extractedUrl:y.urlHandlingStrategy.extract(Q.rawUrl)})),(0,mn.n)(Q=>{this.currentTransition=Q;let ue=!1,$e=!1;return(0,de.of)(Q).pipe((0,yt.M)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.rawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,mn.n)(Ue=>{const Ft=Ue.currentBrowserUrl.toString(),In=!y.navigated||Ue.extractedUrl.toString()!==Ft||Ft!==Ue.currentUrlTree.toString();if(!In&&"reload"!==(Ue.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const dr="";return this.events.next(new Mr(Ue.id,this.urlSerializer.serialize(Ue.rawUrl),dr,0)),Ue.resolve(null),ot.w}if(y.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return(0,de.of)(Ue).pipe((0,mn.n)(dr=>{const To=this.transitions?.getValue();return this.events.next(new io(dr.id,this.urlSerializer.serialize(dr.extractedUrl),dr.source,dr.restoredState)),To!==this.transitions?.getValue()?ot.w:Promise.resolve(dr)}),function ke(v,b,y,C,x,Q){return(0,le.Z)(ue=>function Ze(v,b,y,C,x,Q,ue="emptyOnly"){return new Nt(v,b,y,C,x,ue,Q).recognize()}(v,b,y,C,ue.extractedUrl,x,Q).pipe((0,wt.T)(({state:$e,tree:Ue})=>({...ue,targetSnapshot:$e,urlAfterRedirects:Ue}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,yt.M)(dr=>{Q.targetSnapshot=dr.targetSnapshot,Q.urlAfterRedirects=dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dr.urlAfterRedirects};const To=new Vo(dr.id,this.urlSerializer.serialize(dr.extractedUrl),this.urlSerializer.serialize(dr.urlAfterRedirects),dr.targetSnapshot);this.events.next(To)}));if(In&&y.urlHandlingStrategy.shouldProcessUrl(Ue.currentRawUrl)){const{id:dr,extractedUrl:To,source:ia,restoredState:zo,extras:ou}=Ue,Aa=new io(dr,this.urlSerializer.serialize(To),ia,zo);this.events.next(Aa);const Gs=Xr(0,this.rootComponentType).snapshot;return this.currentTransition=Q={...Ue,targetSnapshot:Gs,urlAfterRedirects:To,extras:{...ou,skipLocationChange:!1,replaceUrl:!1}},(0,de.of)(Q)}{const dr="";return this.events.next(new Mr(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),dr,1)),Ue.resolve(null),ot.w}}),(0,yt.M)(Ue=>{const Ft=new Is(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(Ft)}),(0,wt.T)(Ue=>(this.currentTransition=Q={...Ue,guards:$(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)},Q)),function Yr(v,b){return(0,le.Z)(y=>{const{targetSnapshot:C,currentSnapshot:x,guards:{canActivateChecks:Q,canDeactivateChecks:ue}}=y;return 0===ue.length&&0===Q.length?(0,de.of)({...y,guardsResult:!0}):function $s(v,b,y,C){return(0,se.H)(v).pipe((0,le.Z)(x=>function Za(v,b,y,C,x){const Q=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,de.of)(!0);const ue=Q.map($e=>{const Ue=ds(b)??x,Ft=ce($e,Ue);return yr(function si(v){return v&&Gt(v.canDeactivate)}(Ft)?Ft.canDeactivate(v,b,y,C):Ue.runInContext(()=>Ft(v,b,y,C))).pipe(Be())});return(0,de.of)(ue).pipe(Sr())}(x.component,x.route,y,b,C)),Be(x=>!0!==x,!0))}(ue,C,x,v).pipe((0,le.Z)($e=>$e&&function zn(v){return"boolean"==typeof v}($e)?function Rs(v,b,y,C){return(0,se.H)(b).pipe(ut(x=>pt(function hs(v,b){return null!==v&&b&&b(new Zi(v)),(0,de.of)(!0)}(x.route.parent,C),function As(v,b){return null!==v&&b&&b(new Wi(v)),(0,de.of)(!0)}(x.route,C),function Ea(v,b,y){const C=b[b.length-1],Q=b.slice(0,b.length-1).reverse().map(ue=>function ae(v){const b=v.routeConfig?v.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:v,guards:b}:null}(ue)).filter(ue=>null!==ue).map(ue=>xt(()=>{const $e=ue.guards.map(Ue=>{const Ft=ds(ue.node)??y,In=ce(Ue,Ft);return yr(function Ur(v){return v&&Gt(v.canActivateChild)}(In)?In.canActivateChild(C,v):Ft.runInContext(()=>In(C,v))).pipe(Be())});return(0,de.of)($e).pipe(Sr())}));return(0,de.of)(Q).pipe(Sr())}(v,x.path,y),function ea(v,b,y){const C=b.routeConfig?b.routeConfig.canActivate:null;if(!C||0===C.length)return(0,de.of)(!0);const x=C.map(Q=>xt(()=>{const ue=ds(b)??y,$e=ce(Q,ue);return yr(function qr(v){return v&&Gt(v.canActivate)}($e)?$e.canActivate(b,v):ue.runInContext(()=>$e(b,v))).pipe(Be())}));return(0,de.of)(x).pipe(Sr())}(v,x.route,y))),Be(x=>!0!==x,!0))}(C,Q,v,b):(0,de.of)($e)),(0,wt.T)($e=>({...y,guardsResult:$e})))})}(this.environmentInjector,Ue=>this.events.next(Ue)),(0,yt.M)(Ue=>{if(Q.guardsResult=Ue.guardsResult,Re(Ue.guardsResult))throw ji(0,Ue.guardsResult);const Ft=new Ri(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.events.next(Ft)}),Me(Ue=>!!Ue.guardsResult||(this.cancelNavigationTransition(Ue,"",3),!1)),cr(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,de.of)(Ue).pipe((0,yt.M)(Ft=>{const In=new Uo(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot);this.events.next(In)}),(0,mn.n)(Ft=>{let In=!1;return(0,de.of)(Ft).pipe(function Xe(v,b){return(0,le.Z)(y=>{const{targetSnapshot:C,guards:{canActivateChecks:x}}=y;if(!x.length)return(0,de.of)(y);let Q=0;return(0,se.H)(x).pipe(ut(ue=>function Bt(v,b,y,C){const x=v.routeConfig,Q=v._resolve;return void 0!==x?.title&&!cn(x)&&(Q[$n]=x.title),function Xt(v,b,y,C){const x=function ur(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===x.length)return(0,de.of)({});const Q={};return(0,se.H)(x).pipe((0,le.Z)(ue=>function kn(v,b,y,C){const x=ds(b)??C,Q=ce(v,x);return yr(Q.resolve?Q.resolve(b,y):x.runInContext(()=>Q(b,y)))}(v[ue],b,y,C).pipe(Be(),(0,yt.M)($e=>{Q[ue]=$e}))),Pn(1),function Tn(v){return(0,wt.T)(()=>v)}(Q),On(ue=>zi(ue)?ot.w:bt(ue)))}(Q,v,b,C).pipe((0,wt.T)(ue=>(v._resolvedData=ue,v.data=us(v,y).resolve,x&&cn(x)&&(v.data[$n]=x.title),null)))}(ue.route,C,v,b)),(0,yt.M)(()=>Q++),Pn(1),(0,le.Z)(ue=>Q===x.length?(0,de.of)(y):ot.w))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,yt.M)({next:()=>In=!0,complete:()=>{In||this.cancelNavigationTransition(Ft,"",2)}}))}),(0,yt.M)(Ft=>{const In=new Va(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot);this.events.next(In)}))}),cr(Ue=>{const Ft=In=>{const fr=[];In.routeConfig?.loadComponent&&!In.routeConfig._loadedComponent&&fr.push(this.configLoader.loadComponent(In.routeConfig).pipe((0,yt.M)(dr=>{In.component=dr}),(0,wt.T)(()=>{})));for(const dr of In.children)fr.push(...Ft(dr));return fr};return vt(Ft(Ue.targetSnapshot.root)).pipe(Y(),St(1))}),cr(()=>this.afterPreactivation()),(0,wt.T)(Ue=>{const Ft=function Ki(v,b,y){const C=ls(v,b._root,y?y._root:void 0);return new Us(C,b)}(y.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return this.currentTransition=Q={...Ue,targetRouterState:Ft},Q}),(0,yt.M)(()=>{this.events.next(new Ys)}),((v,b,y,C)=>(0,wt.T)(x=>(new es(b,x.targetRouterState,x.currentRouterState,y,C).activate(v),x)))(this.rootContexts,y.routeReuseStrategy,Ue=>this.events.next(Ue),this.inputBindingEnabled),St(1),(0,yt.M)({next:Ue=>{ue=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rr(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects))),y.titleStrategy?.updateTitle(Ue.targetRouterState.snapshot),Ue.resolve(!0)},complete:()=>{ue=!0}}),function at(v){return(0,Gn.N)((b,y)=>{(0,it.Tg)(v).subscribe((0,_t._)(y,()=>y.complete(),_r.l)),!y.closed&&b.subscribe(y)})}(this.transitionAbortSubject.pipe((0,yt.M)(Ue=>{throw Ue}))),Hr(()=>{ue||$e||this.cancelNavigationTransition(Q,"",1),this.currentNavigation?.id===Q.id&&(this.currentNavigation=null)}),On(Ue=>{if($e=!0,$i(Ue))this.events.next(new zr(Q.id,this.urlSerializer.serialize(Q.extractedUrl),Ue.message,Ue.cancellationCode)),function uo(v){return $i(v)&&Re(v.url)}(Ue)?this.events.next(new oo(Ue.url)):Q.resolve(!1);else{this.events.next(new Mn(Q.id,this.urlSerializer.serialize(Q.extractedUrl),Ue,Q.targetSnapshot??void 0));try{Q.resolve(y.errorHandler(Ue))}catch(Ft){Q.reject(Ft)}}return ot.w}))}))}cancelNavigationTransition(y,C,x){const Q=new zr(y.id,this.urlSerializer.serialize(y.extractedUrl),C,x);this.events.next(Q),y.resolve(!1)}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=N.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();function Ms(v){return v!==Fi}let Wt=(()=>{class v{buildTitle(y){let C,x=y.root;for(;void 0!==x;)C=this.getResolvedTitleForRoute(x)??C,x=x.children.find(Q=>Q.outlet===yn);return C}getResolvedTitleForRoute(y){return y.data[$n]}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=N.jDH({token:v,factory:function(){return(0,N.WQX)(Jt)},providedIn:"root"})}}return v})(),Jt=(()=>{class v extends Wt{constructor(y){super(),this.title=y}updateTitle(y){const C=this.buildTitle(y);void 0!==C&&this.title.setTitle(C)}static{this.\u0275fac=function(C){return new(C||v)(N.KVO(ri.hE))}}static{this.\u0275prov=N.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})(),En=(()=>{class v{static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=N.jDH({token:v,factory:function(){return(0,N.WQX)(Li)},providedIn:"root"})}}return v})();class lr{shouldDetach(b){return!1}store(b,y){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,y){return b.routeConfig===y.routeConfig}}let Li=(()=>{class v extends lr{static{this.\u0275fac=function(){let y;return function(x){return(y||(y=N.xGo(v)))(x||v)}}()}static{this.\u0275prov=N.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const Ds=new N.nKC("",{providedIn:"root",factory:()=>({})});let bs=(()=>{class v{static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=N.jDH({token:v,factory:function(){return(0,N.WQX)(No)},providedIn:"root"})}}return v})(),No=(()=>{class v{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,C){return y}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=N.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();var Rn=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(Rn||{});function ir(v,b){v.events.pipe(Me(y=>y instanceof rr||y instanceof zr||y instanceof Mn||y instanceof Mr),(0,wt.T)(y=>y instanceof rr||y instanceof Mr?Rn.COMPLETE:y instanceof zr&&(0===y.code||1===y.code)?Rn.REDIRECTING:Rn.FAILED),Me(y=>y!==Rn.REDIRECTING),St(1)).subscribe(()=>{b()})}function Cu(v){throw v}function ei(v,b,y){return b.parse("/")}const lo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ns={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jn=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,N.WQX)(N.H3F),this.isNgZoneEnabled=!1,this._events=new be.B,this.options=(0,N.WQX)(Ds,{optional:!0})||{},this.pendingTasks=(0,N.WQX)(N.$K3),this.errorHandler=this.options.errorHandler||Cu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ei,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,N.WQX)(bs),this.routeReuseStrategy=(0,N.WQX)(En),this.titleStrategy=(0,N.WQX)(Wt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,N.WQX)(Bn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,N.WQX)(ai),this.urlSerializer=(0,N.WQX)(xr),this.location=(0,N.WQX)(qt.aZ),this.componentInputBindingEnabled=!!(0,N.WQX)(cs,{optional:!0}),this.eventsSubscription=new Zt.yU,this.isNgZoneEnabled=(0,N.WQX)(N.SKi)instanceof N.SKi&&N.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ar,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Xr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:x}=this.navigationTransitions;if(null===x)return void(eu(C)&&this._events.next(C));if(C instanceof io)Ms(x.source)&&(this.browserUrlTree=x.extractedUrl);else if(C instanceof Mr)this.rawUrlTree=x.rawUrl;else if(C instanceof Vo){if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(Q,x)}this.browserUrlTree=x.urlAfterRedirects}}else if(C instanceof Ys)this.currentUrlTree=x.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl),this.routerState=x.targetRouterState,"deferred"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,x),this.browserUrlTree=x.urlAfterRedirects);else if(C instanceof zr)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(x);else if(C instanceof oo){const Q=this.urlHandlingStrategy.merge(C.url,x.currentRawUrl),ue={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ms(x.source)};this.scheduleNavigation(Q,Fi,null,ue,{resolve:x.resolve,reject:x.reject,promise:x.promise})}C instanceof Mn&&this.restoreHistory(x,!0),C instanceof rr&&(this.navigated=!0),eu(C)&&this._events.next(C)}catch(x){this.navigationTransitions.transitionAbortSubject.next(x)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fi,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const C="popstate"===y.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,C,y.state)},0)}))}navigateToSyncWithBrowser(y,C,x){const Q={replaceUrl:!0},ue=x?.navigationId?x:null;if(x){const Ue={...x};delete Ue.navigationId,delete Ue.\u0275routerPageId,0!==Object.keys(Ue).length&&(Q.state=Ue)}const $e=this.parseUrl(y);this.scheduleNavigation($e,C,ue,Q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(Zo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,C={}){const{relativeTo:x,queryParams:Q,fragment:ue,queryParamsHandling:$e,preserveFragment:Ue}=C,Ft=Ue?this.currentUrlTree.fragment:ue;let fr,In=null;switch($e){case"merge":In={...this.currentUrlTree.queryParams,...Q};break;case"preserve":In=this.currentUrlTree.queryParams;break;default:In=Q||null}null!==In&&(In=this.removeEmptyProps(In));try{fr=Mt(x?x.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),fr=this.currentUrlTree.root}return dn(fr,y,In,Ft??null)}navigateByUrl(y,C={skipLocationChange:!1}){const x=Re(y)?y:this.parseUrl(y),Q=this.urlHandlingStrategy.merge(x,this.rawUrlTree);return this.scheduleNavigation(Q,Fi,null,C)}navigate(y,C={skipLocationChange:!1}){return function Ia(v){for(let b=0;b<v.length;b++)if(null==v[b])throw new N.wOt(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,C),C)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let C;try{C=this.urlSerializer.parse(y)}catch(x){C=this.malformedUriErrorHandler(x,this.urlSerializer,y)}return C}isActive(y,C){let x;if(x=!0===C?{...lo}:!1===C?{...Ns}:C,Re(y))return Cn(this.currentUrlTree,y,x);const Q=this.parseUrl(y);return Cn(this.currentUrlTree,Q,x)}removeEmptyProps(y){return Object.keys(y).reduce((C,x)=>{const Q=y[x];return null!=Q&&(C[x]=Q),C},{})}scheduleNavigation(y,C,x,Q,ue){if(this.disposed)return Promise.resolve(!1);let $e,Ue,Ft;ue?($e=ue.resolve,Ue=ue.reject,Ft=ue.promise):Ft=new Promise((fr,dr)=>{$e=fr,Ue=dr});const In=this.pendingTasks.add();return ir(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(In))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:x,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:y,extras:Q,resolve:$e,reject:Ue,promise:Ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ft.catch(fr=>Promise.reject(fr))}setBrowserUrl(y,C){const x=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(x)||C.extras.replaceUrl){const ue={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(x,"",ue)}else{const Q={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(x,"",Q)}}restoreHistory(y,C=!1){if("computed"===this.canceledNavigationResolution){const Q=this.currentPageId-this.browserPageId;0!==Q?this.location.historyGo(Q):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Q&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,C){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:C}:{navigationId:y}}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=N.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();function eu(v){return!(v instanceof Ys||v instanceof oo)}let Vi=(()=>{class v{constructor(y,C,x,Q,ue,$e){this.router=y,this.route=C,this.tabIndexAttribute=x,this.renderer=Q,this.el=ue,this.locationStrategy=$e,this.href=null,this.commands=null,this.onChanges=new be.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ue=ue.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ue||"area"===Ue,this.isAnchorElement?this.subscription=y.events.subscribe(Ft=>{Ft instanceof rr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,C,x,Q,ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||C||x||Q||ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,N.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,C){const x=this.renderer,Q=this.el.nativeElement;null!==C?x.setAttribute(Q,y,C):x.removeAttribute(Q,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(C){return new(C||v)(N.rXU(Jn),N.rXU(as),N.kS0("tabindex"),N.rXU(N.sFG),N.rXU(N.aKT),N.rXU(qt.hb))}}static{this.\u0275dir=N.FsC({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,x){1&C&&N.bIt("click",function(ue){return x.onClick(ue.button,ue.ctrlKey,ue.shiftKey,ue.altKey,ue.metaKey)}),2&C&&N.BMQ("target",x.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",N.L39],skipLocationChange:["skipLocationChange","skipLocationChange",N.L39],replaceUrl:["replaceUrl","replaceUrl",N.L39],routerLink:"routerLink"},standalone:!0,features:[N.GFd,N.OA$]})}}return v})();class Oo{}let cd=(()=>{class v{constructor(y,C,x,Q,ue){this.router=y,this.injector=x,this.preloadingStrategy=Q,this.loader=ue}setUpPreloading(){this.subscription=this.router.events.pipe(Me(y=>y instanceof rr),ut(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,C){const x=[];for(const Q of C){Q.providers&&!Q._injector&&(Q._injector=(0,N.Ol2)(Q.providers,y,`Route: ${Q.path}`));const ue=Q._injector??y,$e=Q._loadedInjector??ue;(Q.loadChildren&&!Q._loadedRoutes&&void 0===Q.canLoad||Q.loadComponent&&!Q._loadedComponent)&&x.push(this.preloadConfig(ue,Q)),(Q.children||Q._loadedRoutes)&&x.push(this.processRoutes($e,Q.children??Q._loadedRoutes))}return(0,se.H)(x).pipe((0,mr.U)())}preloadConfig(y,C){return this.preloadingStrategy.preload(C,()=>{let x;x=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(y,C):(0,de.of)(null);const Q=x.pipe((0,le.Z)(ue=>null===ue?(0,de.of)(void 0):(C._loadedRoutes=ue.routes,C._loadedInjector=ue.injector,this.processRoutes(ue.injector??y,ue.routes))));if(C.loadComponent&&!C._loadedComponent){const ue=this.loader.loadComponent(C);return(0,se.H)([Q,ue]).pipe((0,mr.U)())}return Q})}static{this.\u0275fac=function(C){return new(C||v)(N.KVO(Jn),N.KVO(N.Ql9),N.KVO(N.uvJ),N.KVO(Oo),N.KVO(Br))}}static{this.\u0275prov=N.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const Ru=new N.nKC("");let jo=(()=>{class v{constructor(y,C,x,Q,ue={}){this.urlSerializer=y,this.transitions=C,this.viewportScroller=x,this.zone=Q,this.options=ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ue.scrollPositionRestoration=ue.scrollPositionRestoration||"disabled",ue.anchorScrolling=ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof io?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof rr?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof Mr&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Vs&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vs(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(C){N.QTQ()}}static{this.\u0275prov=N.jDH({token:v,factory:v.\u0275fac})}}return v})();function $o(v,b){return{\u0275kind:v,\u0275providers:b}}function Ta(){const v=(0,N.WQX)(N.zZn);return b=>{const y=v.get(N.o8S);if(b!==y.components[0])return;const C=v.get(Jn),x=v.get(sl);1===v.get(ol)&&C.initialNavigation(),v.get(xo,null,N.$GK.Optional)?.setUpPreloading(),v.get(Ru,null,N.$GK.Optional)?.init(),C.resetRootComponentType(y.componentTypes[0]),x.closed||(x.next(),x.complete(),x.unsubscribe())}}const sl=new N.nKC("",{factory:()=>new be.B}),ol=new N.nKC("",{providedIn:"root",factory:()=>1}),xo=new N.nKC("");function ru(v){return $o(0,[{provide:xo,useExisting:cd},{provide:Oo,useExisting:v}])}const Ir=new N.nKC("ROUTER_FORROOT_GUARD"),pc=[qt.aZ,{provide:xr,useClass:ys},Jn,qi,{provide:as,useFactory:function tu(v){return v.routerState.root},deps:[Jn]},Br,[]];function gc(){return new N.NEm("Router",Jn)}let ps=(()=>{class v{constructor(y){}static forRoot(y,C){return{ngModule:v,providers:[pc,[],{provide:Bn,multi:!0,useValue:y},{provide:Ir,useFactory:wa,deps:[[Jn,new N.Xx1,new N.kdw]]},{provide:Ds,useValue:C||{}},C?.useHash?{provide:qt.hb,useClass:qt.fw}:{provide:qt.hb,useClass:qt.Sm},{provide:Ru,useFactory:()=>{const v=(0,N.WQX)(qt.Xr),b=(0,N.WQX)(N.SKi),y=(0,N.WQX)(Ds),C=(0,N.WQX)(ai),x=(0,N.WQX)(xr);return y.scrollOffset&&v.setOffset(y.scrollOffset),new jo(x,C,v,b,y)}},C?.preloadingStrategy?ru(C.preloadingStrategy).\u0275providers:[],{provide:N.NEm,multi:!0,useFactory:gc},C?.initialNavigation?Ba(C):[],C?.bindToComponentInputs?$o(8,[Or,{provide:cs,useExisting:Or}]).\u0275providers:[],[{provide:iu,useFactory:Ta},{provide:N.iLQ,multi:!0,useExisting:iu}]]}}static forChild(y){return{ngModule:v,providers:[{provide:Bn,multi:!0,useValue:y}]}}static{this.\u0275fac=function(C){return new(C||v)(N.KVO(Ir,8))}}static{this.\u0275mod=N.$C({type:v})}static{this.\u0275inj=N.G2t({})}}return v})();function wa(v){return"guarded"}function Ba(v){return["disabled"===v.initialNavigation?$o(3,[{provide:N.hnV,multi:!0,useFactory:()=>{const b=(0,N.WQX)(Jn);return()=>{b.setUpLocationChangeListener()}}},{provide:ol,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?$o(2,[{provide:ol,useValue:0},{provide:N.hnV,multi:!0,deps:[N.zZn],useFactory:b=>{const y=b.get(qt.hj,Promise.resolve());return()=>y.then(()=>new Promise(C=>{const x=b.get(Jn),Q=b.get(sl);ir(x,()=>{C(!0)}),b.get(ai).afterPreactivation=()=>(C(!0),Q.closed?(0,de.of)(void 0):Q),x.initialNavigation()}))}}]).\u0275providers:[]]}const iu=new N.nKC("")},7852:(_n,dt,ne)=>{ne.d(dt,{MF:()=>rs,j6:()=>fi,xZ:()=>xi,om:()=>Cn,Sx:()=>xr,Dk:()=>ys,Wp:()=>_e,KO:()=>W});var N=ne(467),Ie=ne(1362),Pe=ne(8041),Ke=ne(1076);const se=(Ge,Re)=>Re.some(nt=>Ge instanceof nt);let de,Ve;const he=new WeakMap,Ee=new WeakMap,qe=new WeakMap,_t=new WeakMap,gt=new WeakMap;let ln={get(Ge,Re,nt){if(Ge instanceof IDBTransaction){if("done"===Re)return Ee.get(Ge);if("objectStoreNames"===Re)return Ge.objectStoreNames||qe.get(Ge);if("store"===Re)return nt.objectStoreNames[1]?void 0:nt.objectStore(nt.objectStoreNames[0])}return rt(Ge[Re])},set:(Ge,Re,nt)=>(Ge[Re]=nt,!0),has:(Ge,Re)=>Ge instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in Ge};function mr(Ge){return"function"==typeof Ge?function qn(Ge){return Ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function et(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ge)?function(...Re){return Ge.apply(pt(this),Re),rt(he.get(this))}:function(...Re){return rt(Ge.apply(pt(this),Re))}:function(Re,...nt){const Mt=Ge.call(pt(this),Re,...nt);return qe.set(Mt,Re.sort?Re.sort():[Re]),rt(Mt)}}(Ge):(Ge instanceof IDBTransaction&&function Ht(Ge){if(Ee.has(Ge))return;const Re=new Promise((nt,Mt)=>{const dn=()=>{Ge.removeEventListener("complete",nn),Ge.removeEventListener("error",wn),Ge.removeEventListener("abort",wn)},nn=()=>{nt(),dn()},wn=()=>{Mt(Ge.error||new DOMException("AbortError","AbortError")),dn()};Ge.addEventListener("complete",nn),Ge.addEventListener("error",wn),Ge.addEventListener("abort",wn)});Ee.set(Ge,Re)}(Ge),se(Ge,function Rt(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ge,ln):Ge)}function rt(Ge){if(Ge instanceof IDBRequest)return function vt(Ge){const Re=new Promise((nt,Mt)=>{const dn=()=>{Ge.removeEventListener("success",nn),Ge.removeEventListener("error",wn)},nn=()=>{nt(rt(Ge.result)),dn()},wn=()=>{Mt(Ge.error),dn()};Ge.addEventListener("success",nn),Ge.addEventListener("error",wn)});return Re.then(nt=>{nt instanceof IDBCursor&&he.set(nt,Ge)}).catch(()=>{}),gt.set(Re,Ge),Re}(Ge);if(_t.has(Ge))return _t.get(Ge);const Re=mr(Ge);return Re!==Ge&&(_t.set(Ge,Re),gt.set(Re,Ge)),Re}const pt=Ge=>gt.get(Ge),Ut=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],ot=new Map;function Zt(Ge,Re){if(!(Ge instanceof IDBDatabase)||Re in Ge||"string"!=typeof Re)return;if(ot.get(Re))return ot.get(Re);const nt=Re.replace(/FromIndex$/,""),Mt=Re!==nt,dn=bt.includes(nt);if(!(nt in(Mt?IDBIndex:IDBObjectStore).prototype)||!dn&&!Ut.includes(nt))return;const nn=function(){var wn=(0,N.A)(function*(nr,...Zn){const rn=this.transaction(nr,dn?"readwrite":"readonly");let Fr=rn.store;return Mt&&(Fr=Fr.index(Zn.shift())),(yield Promise.all([Fr[nt](...Zn),dn&&rn.done]))[0]});return function(Zn){return wn.apply(this,arguments)}}();return ot.set(Re,nn),nn}!function pn(Ge){ln=Ge(ln)}(Ge=>({...Ge,get:(Re,nt,Mt)=>Zt(Re,nt)||Ge.get(Re,nt,Mt),has:(Re,nt)=>!!Zt(Re,nt)||Ge.has(Re,nt)}));class Gn{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function ni(Ge){const Re=Ge.getComponent();return"VERSION"===Re?.type}(nt)){const Mt=nt.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(nt=>nt).join(" ")}}const mt="@firebase/app",be="0.10.13",qt=new Pe.Vy("@firebase/app"),Dn="[DEFAULT]",Hn={[mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},It=new Map,Ln=new Map,yr=new Map;function vr(Ge,Re){try{Ge.container.addComponent(Re)}catch(nt){qt.debug(`Component ${Re.name} failed to register with FirebaseApp ${Ge.name}`,nt)}}function Cn(Ge){const Re=Ge.name;if(yr.has(Re))return qt.debug(`There were multiple attempts to register component ${Re}.`),!1;yr.set(Re,Ge);for(const nt of It.values())vr(nt,Ge);for(const nt of Ln.values())vr(nt,Ge);return!0}function fi(Ge,Re){const nt=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),Ge.container.getProvider(Re)}function xi(Ge){return void 0!==Ge.settings}const ar=new Ke.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class tn{constructor(Re,nt,Mt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new Ie.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const rs="10.14.1";function _e(Ge,Re={}){let nt=Ge;"object"!=typeof Re&&(Re={name:Re});const Mt=Object.assign({name:Dn,automaticDataCollectionEnabled:!1},Re),dn=Mt.name;if("string"!=typeof dn||!dn)throw ar.create("bad-app-name",{appName:String(dn)});if(nt||(nt=(0,Ke.T9)()),!nt)throw ar.create("no-options");const nn=It.get(dn);if(nn){if((0,Ke.bD)(nt,nn.options)&&(0,Ke.bD)(Mt,nn.config))return nn;throw ar.create("duplicate-app",{appName:dn})}const wn=new Ie.h1(dn);for(const Zn of yr.values())wn.addComponent(Zn);const nr=new tn(nt,Mt,wn);return It.set(dn,nr),nr}function xr(Ge=Dn){const Re=It.get(Ge);if(!Re&&Ge===Dn&&(0,Ke.T9)())return _e();if(!Re)throw ar.create("no-app",{appName:Ge});return Re}function ys(){return Array.from(It.values())}function W(Ge,Re,nt){var Mt;let dn=null!==(Mt=Hn[Ge])&&void 0!==Mt?Mt:Ge;nt&&(dn+=`-${nt}`);const nn=dn.match(/\s|\//),wn=Re.match(/\s|\//);if(nn||wn){const nr=[`Unable to register library "${dn}" with version "${Re}":`];return nn&&nr.push(`library name "${dn}" contains illegal characters (whitespace or "/")`),nn&&wn&&nr.push("and"),wn&&nr.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void qt.warn(nr.join(" "))}Cn(new Ie.uA(`${dn}-version`,()=>({library:dn,version:Re}),"VERSION"))}const fe="firebase-heartbeat-database",me=1,tt="firebase-heartbeat-store";let Pt=null;function kt(){return Pt||(Pt=function it(Ge,Re,{blocked:nt,upgrade:Mt,blocking:dn,terminated:nn}={}){const wn=indexedDB.open(Ge,Re),nr=rt(wn);return Mt&&wn.addEventListener("upgradeneeded",Zn=>{Mt(rt(wn.result),Zn.oldVersion,Zn.newVersion,rt(wn.transaction),Zn)}),nt&&wn.addEventListener("blocked",Zn=>nt(Zn.oldVersion,Zn.newVersion,Zn)),nr.then(Zn=>{nn&&Zn.addEventListener("close",()=>nn()),dn&&Zn.addEventListener("versionchange",rn=>dn(rn.oldVersion,rn.newVersion,rn))}).catch(()=>{}),nr}(fe,me,{upgrade:(Ge,Re)=>{if(0===Re)try{Ge.createObjectStore(tt)}catch(nt){console.warn(nt)}}}).catch(Ge=>{throw ar.create("idb-open",{originalErrorMessage:Ge.message})})),Pt}function gn(){return(gn=(0,N.A)(function*(Ge){try{const nt=(yield kt()).transaction(tt),Mt=yield nt.objectStore(tt).get(Gr(Ge));return yield nt.done,Mt}catch(Re){if(Re instanceof Ke.g)qt.warn(Re.message);else{const nt=ar.create("idb-get",{originalErrorMessage:Re?.message});qt.warn(nt.message)}}})).apply(this,arguments)}function Rr(Ge,Re){return an.apply(this,arguments)}function an(){return(an=(0,N.A)(function*(Ge,Re){try{const Mt=(yield kt()).transaction(tt,"readwrite");yield Mt.objectStore(tt).put(Re,Gr(Ge)),yield Mt.done}catch(nt){if(nt instanceof Ke.g)qt.warn(nt.message);else{const Mt=ar.create("idb-set",{originalErrorMessage:nt?.message});qt.warn(Mt.message)}}})).apply(this,arguments)}function Gr(Ge){return`${Ge.name}!${Ge.options.appId}`}class Ci{constructor(Re){this.container=Re,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new is(nt),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Re=this;return(0,N.A)(function*(){var nt,Mt;try{const nn=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wn=ki();return null==(null===(nt=Re._heartbeatsCache)||void 0===nt?void 0:nt.heartbeats)&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise,null==(null===(Mt=Re._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats))||Re._heartbeatsCache.lastSentHeartbeatDate===wn||Re._heartbeatsCache.heartbeats.some(nr=>nr.date===wn)?void 0:(Re._heartbeatsCache.heartbeats.push({date:wn,agent:nn}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(nr=>{const Zn=new Date(nr.date).valueOf();return Date.now()-Zn<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache))}catch(dn){qt.warn(dn)}})()}getHeartbeatsHeader(){var Re=this;return(0,N.A)(function*(){var nt;try{if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null==(null===(nt=Re._heartbeatsCache)||void 0===nt?void 0:nt.heartbeats)||0===Re._heartbeatsCache.heartbeats.length)return"";const Mt=ki(),{heartbeatsToSend:dn,unsentEntries:nn}=function Er(Ge,Re=1024){const nt=[];let Mt=Ge.slice();for(const dn of Ge){const nn=nt.find(wn=>wn.agent===dn.agent);if(nn){if(nn.dates.push(dn.date),Wn(nt)>Re){nn.dates.pop();break}}else if(nt.push({agent:dn.agent,dates:[dn.date]}),Wn(nt)>Re){nt.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:nt,unsentEntries:Mt}}(Re._heartbeatsCache.heartbeats),wn=(0,Ke.Uj)(JSON.stringify({version:2,heartbeats:dn}));return Re._heartbeatsCache.lastSentHeartbeatDate=Mt,nn.length>0?(Re._heartbeatsCache.heartbeats=nn,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),wn}catch(Mt){return qt.warn(Mt),""}})()}}function ki(){return(new Date).toISOString().substring(0,10)}class is{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,N.A)(function*(){return!!(0,Ke.zW)()&&(0,Ke.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,N.A)(function*(){if(yield Re._canUseIndexedDBPromise){const Mt=yield function sn(Ge){return gn.apply(this,arguments)}(Re.app);return Mt?.heartbeats?Mt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Re){var nt=this;return(0,N.A)(function*(){var Mt;if(yield nt._canUseIndexedDBPromise){const nn=yield nt.read();return Rr(nt.app,{lastSentHeartbeatDate:null!==(Mt=Re.lastSentHeartbeatDate)&&void 0!==Mt?Mt:nn.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var nt=this;return(0,N.A)(function*(){var Mt;if(yield nt._canUseIndexedDBPromise){const nn=yield nt.read();return Rr(nt.app,{lastSentHeartbeatDate:null!==(Mt=Re.lastSentHeartbeatDate)&&void 0!==Mt?Mt:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...Re.heartbeats]})}})()}}function Wn(Ge){return(0,Ke.Uj)(JSON.stringify({version:2,heartbeats:Ge})).length}!function vs(Ge){Cn(new Ie.uA("platform-logger",Re=>new Gn(Re),"PRIVATE")),Cn(new Ie.uA("heartbeat",Re=>new Ci(Re),"PRIVATE")),W(mt,be,Ge),W(mt,be,"esm2017"),W("fire-js","")}("")},1362:(_n,dt,ne)=>{ne.d(dt,{h1:()=>Rt,uA:()=>Pe});var N=ne(467),Ie=ne(1076);class Pe{constructor(he,Ee,qe){this.name=he,this.instanceFactory=Ee,this.type=qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Ke="[DEFAULT]";class se{constructor(he,Ee){this.name=he,this.container=Ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const Ee=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(Ee)){const qe=new Ie.cY;if(this.instancesDeferred.set(Ee,qe),this.isInitialized(Ee)||this.shouldAutoInitialize())try{const _t=this.getOrInitializeService({instanceIdentifier:Ee});_t&&qe.resolve(_t)}catch{}}return this.instancesDeferred.get(Ee).promise}getImmediate(he){var Ee;const qe=this.normalizeInstanceIdentifier(he?.identifier),_t=null!==(Ee=he?.optional)&&void 0!==Ee&&Ee;if(!this.isInitialized(qe)&&!this.shouldAutoInitialize()){if(_t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:qe})}catch(gt){if(_t)return null;throw gt}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function Ve(et){return"EAGER"===et.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Ke})}catch{}for(const[Ee,qe]of this.instancesDeferred.entries()){const _t=this.normalizeInstanceIdentifier(Ee);try{const gt=this.getOrInitializeService({instanceIdentifier:_t});qe.resolve(gt)}catch{}}}}clearInstance(he=Ke){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,N.A)(function*(){const Ee=Array.from(he.instances.values());yield Promise.all([...Ee.filter(qe=>"INTERNAL"in qe).map(qe=>qe.INTERNAL.delete()),...Ee.filter(qe=>"_delete"in qe).map(qe=>qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Ke){return this.instances.has(he)}getOptions(he=Ke){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:Ee={}}=he,qe=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(qe))throw Error(`${this.name}(${qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _t=this.getOrInitializeService({instanceIdentifier:qe,options:Ee});for(const[gt,vt]of this.instancesDeferred.entries())qe===this.normalizeInstanceIdentifier(gt)&&vt.resolve(_t);return _t}onInit(he,Ee){var qe;const _t=this.normalizeInstanceIdentifier(Ee),gt=null!==(qe=this.onInitCallbacks.get(_t))&&void 0!==qe?qe:new Set;gt.add(he),this.onInitCallbacks.set(_t,gt);const vt=this.instances.get(_t);return vt&&he(vt,_t),()=>{gt.delete(he)}}invokeOnInitCallbacks(he,Ee){const qe=this.onInitCallbacks.get(Ee);if(qe)for(const _t of qe)try{_t(he,Ee)}catch{}}getOrInitializeService({instanceIdentifier:he,options:Ee={}}){let qe=this.instances.get(he);if(!qe&&this.component&&(qe=this.component.instanceFactory(this.container,{instanceIdentifier:(et=he,et===Ke?void 0:et),options:Ee}),this.instances.set(he,qe),this.instancesOptions.set(he,Ee),this.invokeOnInitCallbacks(qe,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,qe)}catch{}var et;return qe||null}normalizeInstanceIdentifier(he=Ke){return this.component?this.component.multipleInstances?he:Ke:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rt{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const Ee=this.getProvider(he.name);if(Ee.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);Ee.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const Ee=new se(he,this);return this.providers.set(he,Ee),Ee}getProviders(){return Array.from(this.providers.values())}}},8041:(_n,dt,ne)=>{ne.d(dt,{$b:()=>Ie,Vy:()=>Ve});const N=[];var Ie=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(Ie||{});const Pe={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Ke=Ie.INFO,se={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},de=(he,Ee,...qe)=>{if(Ee<he.logLevel)return;const _t=(new Date).toISOString(),gt=se[Ee];if(!gt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ee})`);console[gt](`[${_t}]  ${he.name}:`,...qe)};class Ve{constructor(Ee){this.name=Ee,this._logLevel=Ke,this._logHandler=de,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(Ee){if(!(Ee in Ie))throw new TypeError(`Invalid value "${Ee}" assigned to \`logLevel\``);this._logLevel=Ee}setLogLevel(Ee){this._logLevel="string"==typeof Ee?Pe[Ee]:Ee}get logHandler(){return this._logHandler}set logHandler(Ee){if("function"!=typeof Ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ee){this._userLogHandler=Ee}debug(...Ee){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...Ee),this._logHandler(this,Ie.DEBUG,...Ee)}log(...Ee){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...Ee),this._logHandler(this,Ie.VERBOSE,...Ee)}info(...Ee){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...Ee),this._logHandler(this,Ie.INFO,...Ee)}warn(...Ee){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...Ee),this._logHandler(this,Ie.WARN,...Ee)}error(...Ee){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...Ee),this._logHandler(this,Ie.ERROR,...Ee)}}},2214:(_n,dt,ne)=>{ne.d(dt,{Dk:()=>N.Dk,KO:()=>N.KO,Sx:()=>N.Sx,Wp:()=>N.Wp});var N=ne(7852);(0,N.KO)("firebase","10.14.1","app")},467:(_n,dt,ne)=>{function N(Pe,Ke,se,de,Ve,Rt,et){try{var he=Pe[Rt](et),Ee=he.value}catch(qe){return void se(qe)}he.done?Ke(Ee):Promise.resolve(Ee).then(de,Ve)}function Ie(Pe){return function(){var Ke=this,se=arguments;return new Promise(function(de,Ve){var Rt=Pe.apply(Ke,se);function et(Ee){N(Rt,de,Ve,et,he,"next",Ee)}function he(Ee){N(Rt,de,Ve,et,he,"throw",Ee)}et(void 0)})}}ne.d(dt,{A:()=>Ie})},1635:(_n,dt,ne)=>{function Ke(Me,le){var Y={};for(var ee in Me)Object.prototype.hasOwnProperty.call(Me,ee)&&le.indexOf(ee)<0&&(Y[ee]=Me[ee]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(ee=Object.getOwnPropertySymbols(Me);Ce<ee.length;Ce++)le.indexOf(ee[Ce])<0&&Object.prototype.propertyIsEnumerable.call(Me,ee[Ce])&&(Y[ee[Ce]]=Me[ee[Ce]])}return Y}function qe(Me,le,Y,ee){return new(Y||(Y=Promise))(function(Be,ut){function yt(Yn){try{on(ee.next(Yn))}catch(Pn){ut(Pn)}}function On(Yn){try{on(ee.throw(Yn))}catch(Pn){ut(Pn)}}function on(Yn){Yn.done?Be(Yn.value):function Ce(Be){return Be instanceof Y?Be:new Y(function(ut){ut(Be)})}(Yn.value).then(yt,On)}on((ee=ee.apply(Me,le||[])).next())})}function rt(Me){return this instanceof rt?(this.v=Me,this):new rt(Me)}function pt(Me,le,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,ee=Y.apply(Me,le||[]),Be=[];return Ce=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),yt("next"),yt("throw"),yt("return",function ut(Tn){return function(Hr){return Promise.resolve(Hr).then(Tn,Pn)}}),Ce[Symbol.asyncIterator]=function(){return this},Ce;function yt(Tn,Hr){ee[Tn]&&(Ce[Tn]=function(_r){return new Promise(function(at,ri){Be.push([Tn,_r,at,ri])>1||On(Tn,_r)})},Hr&&(Ce[Tn]=Hr(Ce[Tn])))}function On(Tn,Hr){try{!function on(Tn){Tn.value instanceof rt?Promise.resolve(Tn.value.v).then(Yn,Pn):Bi(Be[0][2],Tn)}(ee[Tn](Hr))}catch(_r){Bi(Be[0][3],_r)}}function Yn(Tn){On("next",Tn)}function Pn(Tn){On("throw",Tn)}function Bi(Tn,Hr){Tn(Hr),Be.shift(),Be.length&&On(Be[0][0],Be[0][1])}}function xt(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,le=Me[Symbol.asyncIterator];return le?le.call(Me):(Me=function Ht(Me){var le="function"==typeof Symbol&&Symbol.iterator,Y=le&&Me[le],ee=0;if(Y)return Y.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&ee>=Me.length&&(Me=void 0),{value:Me&&Me[ee++],done:!Me}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),Y={},ee("next"),ee("throw"),ee("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function ee(Be){Y[Be]=Me[Be]&&function(ut){return new Promise(function(yt,On){!function Ce(Be,ut,yt,On){Promise.resolve(On).then(function(on){Be({value:on,done:yt})},ut)}(yt,On,(ut=Me[Be](ut)).done,ut.value)})}}}ne.d(dt,{AQ:()=>pt,N3:()=>rt,Tt:()=>Ke,sH:()=>qe,xN:()=>xt}),"function"==typeof SuppressedError&&SuppressedError}},_n=>{_n(_n.s=2661)}]);